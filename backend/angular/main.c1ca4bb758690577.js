"use strict";(self.webpackChunkecommerce_app=self.webpackChunkecommerce_app||[]).push([[179],{2011:(_t,Fe,q)=>{q.d(Fe,{Dh:()=>Ie,GT:()=>Ee,cc:()=>ze,hO:()=>ot,on:()=>X,pX:()=>de,xv:()=>Ae});var c=q(4650),me=q(9260),G=q(2122);_t=q.hmd(_t);const Ce=["ngOnDestroy"],de=(je,Ge,Oe,Ue={})=>new Proxy(je,{get:($e,Ze)=>Oe.runOutsideAngular(()=>{var ut;if(je[Ze])return!(null===(ut=Ue?.spy)||void 0===ut)&&ut.get&&Ue.spy.get(Ze,je[Ze]),je[Ze];if(Ce.indexOf(Ze)>-1)return()=>{};const et=Ge.toPromise().then(ee=>{const Be=ee&&ee[Ze];return"function"==typeof Be?Be.bind(ee):Be&&Be.then?Be.then(ie=>Oe.run(()=>ie)):Oe.run(()=>Be)});return new Proxy(()=>{},{get:(ee,Be)=>et[Be],apply:(ee,Be,ie)=>et.then(fe=>{var De;const we=fe&&fe(...ie);return!(null===(De=Ue?.spy)||void 0===De)&&De.apply&&Ue.spy.apply(Ze,ie,we),we})})})}),Ee=(je,Ge)=>{Ge.forEach(Oe=>{Object.getOwnPropertyNames(Oe.prototype||Oe).forEach(Ue=>{Object.defineProperty(je.prototype,Ue,Object.getOwnPropertyDescriptor(Oe.prototype||Oe,Ue))})})};class Me{constructor(Ge){return Ge}}const Ie=new c.OlP("angularfire2.app.options"),Ae=new c.OlP("angularfire2.app.name");function X(je,Ge,Oe){const $e="object"==typeof Oe&&Oe||{};$e.name=$e.name||"string"==typeof Oe&&Oe||"[DEFAULT]";const ut=me.Z.apps.filter(et=>et&&et.name===$e.name)[0]||Ge.runOutsideAngular(()=>me.Z.initializeApp(je,$e));try{JSON.stringify(je)!==JSON.stringify(ut.options)&&te("error",`${ut.name} Firebase App already initialized with different options${_t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Me(ut)}const te=(je,...Ge)=>{(0,c.X6Q)()&&typeof console<"u"&&console[je](...Ge)},ce={provide:Me,useFactory:X,deps:[Ie,c.R0b,[new c.FiY,Ae]]};let ot=(()=>{class je{constructor(Oe){me.Z.registerVersion("angularfire",G.q4.full,"core"),me.Z.registerVersion("angularfire",G.q4.full,"app-compat"),me.Z.registerVersion("angular",c.q4F.full,Oe.toString())}static initializeApp(Oe,Ue){return{ngModule:je,providers:[{provide:Ie,useValue:Oe},{provide:Ae,useValue:Ue}]}}}return je.\u0275fac=function(Oe){return new(Oe||je)(c.LFG(c.Lbi))},je.\u0275mod=c.oAB({type:je}),je.\u0275inj=c.cJS({providers:[ce]}),je})();function ze(je,Ge,Oe,Ue,$e){const[,Ze,ut]=globalThis.\u0275AngularfireInstanceCache.find(et=>et[0]===je)||[];if(Ze)return function Xe(je,Ge){try{return je.toString()===Ge.toString()}catch{return je===Ge}}($e,ut)||(xe("error",`${Ge} was already initialized on the ${Oe} Firebase App with different settings.${Ct?" You may need to reload as Firebase is not HMR aware.":""}`),xe("warn",{is:$e,was:ut})),Ze;{const et=Ue();return globalThis.\u0275AngularfireInstanceCache.push([je,et,$e]),et}}const Ct=!!_t.hot,xe=(je,...Ge)=>{(0,c.X6Q)()&&typeof console<"u"&&console[je](...Ge)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(_t,Fe,q)=>{q.d(Fe,{q4:()=>nu,iC:()=>Nt,HU:()=>Ua,vb:()=>ir,JM:()=>cn});var c=q(4650),me=q(259),G=q(5861),Ce=q(9681),de=q(2090),Ee=q(4859),Me=q(1877),Ie=q(8766);const Ae="@firebase/installations",X="0.6.0",ce=`w:${X}`,ot="FIS_v2",Ge=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Oe(R){return R instanceof de.ZR&&R.code.includes("request-failed")}function Ue({projectId:R}){return`https://firebaseinstallations.googleapis.com/v1/projects/${R}/installations`}function $e(R){return{token:R.token,requestStatus:2,expiresIn:fe(R.expiresIn),creationTime:Date.now()}}function Ze(R,O){return ut.apply(this,arguments)}function ut(){return(ut=(0,G.Z)(function*(R,O){const Y=(yield O.json()).error;return Ge.create("request-failed",{requestName:R,serverCode:Y.code,serverMessage:Y.message,serverStatus:Y.status})})).apply(this,arguments)}function et({apiKey:R}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R})}function ee(R,{refreshToken:O}){const V=et(R);return V.append("Authorization",function De(R){return`${ot} ${R}`}(O)),V}function Be(R){return ie.apply(this,arguments)}function ie(){return(ie=(0,G.Z)(function*(R){const O=yield R();return O.status>=500&&O.status<600?R():O})).apply(this,arguments)}function fe(R){return Number(R.replace("s","000"))}function we(R,O){return at.apply(this,arguments)}function at(){return(at=(0,G.Z)(function*({appConfig:R,heartbeatServiceProvider:O},{fid:V}){const Y=Ue(R),oe=et(R),_e=O.getImmediate({optional:!0});if(_e){const Lt=yield _e.getHeartbeatsHeader();Lt&&oe.append("x-firebase-client",Lt)}const Mt={method:"POST",headers:oe,body:JSON.stringify({fid:V,authVersion:ot,appId:R.appId,sdkVersion:ce})},Bt=yield Be(()=>fetch(Y,Mt));if(Bt.ok){const Lt=yield Bt.json();return{fid:Lt.fid||V,registrationStatus:2,refreshToken:Lt.refreshToken,authToken:$e(Lt.authToken)}}throw yield Ze("Create Installation",Bt)})).apply(this,arguments)}function tt(R){return new Promise(O=>{setTimeout(O,R)})}const Fn=/^[cdef][\w-]{21}$/;function bn(){try{const R=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(R),R[0]=112+R[0]%16;const V=function mn(R){return function Gt(R){return btoa(String.fromCharCode(...R)).replace(/\+/g,"-").replace(/\//g,"_")}(R).substr(0,22)}(R);return Fn.test(V)?V:""}catch{return""}}function Yt(R){return`${R.appName}!${R.appId}`}const Hn=new Map;function Lr(R,O){const V=Yt(R);pr(V,O),function Ts(R,O){const V=function $i(){return!Ui&&"BroadcastChannel"in self&&(Ui=new BroadcastChannel("[Firebase] FID Change"),Ui.onmessage=R=>{pr(R.data.key,R.data.fid)}),Ui}();V&&V.postMessage({key:R,fid:O}),function Hi(){0===Hn.size&&Ui&&(Ui.close(),Ui=null)}()}(V,O)}function pr(R,O){const V=Hn.get(R);if(V)for(const Y of V)Y(O)}let Ui=null;const lo="firebase-installations-store";let is=null;function sl(){return is||(is=(0,Ie.X3)("firebase-installations-database",1,{upgrade:(R,O)=>{0===O&&R.createObjectStore(lo)}})),is}function sr(R,O){return ss.apply(this,arguments)}function ss(){return(ss=(0,G.Z)(function*(R,O){const V=Yt(R),oe=(yield sl()).transaction(lo,"readwrite"),_e=oe.objectStore(lo),We=yield _e.get(V);return yield _e.put(O,V),yield oe.done,(!We||We.fid!==O.fid)&&Lr(R,O.fid),O})).apply(this,arguments)}function zt(R){return So.apply(this,arguments)}function So(){return(So=(0,G.Z)(function*(R){const O=Yt(R),Y=(yield sl()).transaction(lo,"readwrite");yield Y.objectStore(lo).delete(O),yield Y.done})).apply(this,arguments)}function dr(R,O){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,G.Z)(function*(R,O){const V=Yt(R),oe=(yield sl()).transaction(lo,"readwrite"),_e=oe.objectStore(lo),We=yield _e.get(V),Mt=O(We);return void 0===Mt?yield _e.delete(V):yield _e.put(Mt,V),yield oe.done,Mt&&(!We||We.fid!==Mt.fid)&&Lr(R,Mt.fid),Mt})).apply(this,arguments)}function ji(R){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,G.Z)(function*(R){let O;const V=yield dr(R.appConfig,Y=>{const oe=Pt(Y),_e=Wt(R,oe);return O=_e.registrationPromise,_e.installationEntry});return""===V.fid?{installationEntry:yield O}:{installationEntry:V,registrationPromise:O}})).apply(this,arguments)}function Pt(R){return Gi(R||{fid:bn(),registrationStatus:0})}function Wt(R,O){if(0===O.registrationStatus){if(!navigator.onLine)return{installationEntry:O,registrationPromise:Promise.reject(Ge.create("app-offline"))};const V={fid:O.fid,registrationStatus:1,registrationTime:Date.now()},Y=function an(R,O){return To.apply(this,arguments)}(R,V);return{installationEntry:V,registrationPromise:Y}}return 1===O.registrationStatus?{installationEntry:O,registrationPromise:_r(R)}:{installationEntry:O}}function To(){return(To=(0,G.Z)(function*(R,O){try{const V=yield we(R,O);return sr(R.appConfig,V)}catch(V){throw Oe(V)&&409===V.customData.serverCode?yield zt(R.appConfig):yield sr(R.appConfig,{fid:O.fid,registrationStatus:0}),V}})).apply(this,arguments)}function _r(R){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,G.Z)(function*(R){let O=yield uo(R.appConfig);for(;1===O.registrationStatus;)yield tt(100),O=yield uo(R.appConfig);if(0===O.registrationStatus){const{installationEntry:V,registrationPromise:Y}=yield ji(R);return Y||V}return O})).apply(this,arguments)}function uo(R){return dr(R,O=>{if(!O)throw Ge.create("installation-not-found");return Gi(O)})}function Gi(R){return function Pu(R){return 1===R.registrationStatus&&R.registrationTime+1e4<Date.now()}(R)?{fid:R.fid,registrationStatus:0}:R}function Wn(R,O){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,G.Z)(function*({appConfig:R,heartbeatServiceProvider:O},V){const Y=Cn(R,V),oe=ee(R,V),_e=O.getImmediate({optional:!0});if(_e){const Lt=yield _e.getHeartbeatsHeader();Lt&&oe.append("x-firebase-client",Lt)}const Mt={method:"POST",headers:oe,body:JSON.stringify({installation:{sdkVersion:ce,appId:R.appId}})},Bt=yield Be(()=>fetch(Y,Mt));if(Bt.ok)return $e(yield Bt.json());throw yield Ze("Generate Auth Token",Bt)})).apply(this,arguments)}function Cn(R,{fid:O}){return`${Ue(R)}/${O}/authTokens:generate`}function Wr(R){return An.apply(this,arguments)}function An(){return(An=(0,G.Z)(function*(R,O=!1){let V;const Y=yield dr(R.appConfig,_e=>{if(!Kt(_e))throw Ge.create("not-registered");const We=_e.authToken;if(!O&&ne(We))return _e;if(1===We.requestStatus)return V=st(R,O),_e;{if(!navigator.onLine)throw Ge.create("app-offline");const Mt=se(_e);return V=un(R,Mt),Mt}});return V?yield V:Y.authToken})).apply(this,arguments)}function st(R,O){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,G.Z)(function*(R,O){let V=yield Tt(R.appConfig);for(;1===V.authToken.requestStatus;)yield tt(100),V=yield Tt(R.appConfig);const Y=V.authToken;return 0===Y.requestStatus?Wr(R,O):Y})).apply(this,arguments)}function Tt(R){return dr(R,O=>{if(!Kt(O))throw Ge.create("not-registered");return function Re(R){return 1===R.requestStatus&&R.requestTime+1e4<Date.now()}(O.authToken)?Object.assign(Object.assign({},O),{authToken:{requestStatus:0}}):O})}function un(R,O){return en.apply(this,arguments)}function en(){return(en=(0,G.Z)(function*(R,O){try{const V=yield Wn(R,O),Y=Object.assign(Object.assign({},O),{authToken:V});return yield sr(R.appConfig,Y),V}catch(V){if(!Oe(V)||401!==V.customData.serverCode&&404!==V.customData.serverCode){const Y=Object.assign(Object.assign({},O),{authToken:{requestStatus:0}});yield sr(R.appConfig,Y)}else yield zt(R.appConfig);throw V}})).apply(this,arguments)}function Kt(R){return void 0!==R&&2===R.registrationStatus}function ne(R){return 2===R.requestStatus&&!function J(R){const O=Date.now();return O<R.creationTime||R.creationTime+R.expiresIn<O+36e5}(R)}function se(R){const O={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},R),{authToken:O})}function bt(){return(bt=(0,G.Z)(function*(R){const O=R,{installationEntry:V,registrationPromise:Y}=yield ji(O);return Y?Y.catch(console.error):Wr(O).catch(console.error),V.fid})).apply(this,arguments)}function Pe(){return(Pe=(0,G.Z)(function*(R,O=!1){const V=R;return yield yr(V),(yield Wr(V,O)).token})).apply(this,arguments)}function yr(R){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,G.Z)(function*(R){const{registrationPromise:O}=yield ji(R);O&&(yield O)})).apply(this,arguments)}function Ao(R){return Ge.create("missing-app-config-values",{valueName:R})}const Vl="installations",Ln=R=>{const O=R.getProvider("app").getImmediate(),V=function xa(R){if(!R||!R.options)throw Ao("App Configuration");if(!R.name)throw Ao("App Name");const O=["projectId","apiKey","appId"];for(const V of O)if(!R.options[V])throw Ao(V);return{appName:R.name,projectId:R.options.projectId,apiKey:R.options.apiKey,appId:R.options.appId}}(O);return{app:O,appConfig:V,heartbeatServiceProvider:(0,Ce._getProvider)(O,"heartbeat"),_delete:()=>Promise.resolve()}},qc=R=>{const O=R.getProvider("app").getImmediate(),V=(0,Ce._getProvider)(O,Vl).getImmediate();return{getId:()=>function ye(R){return bt.apply(this,arguments)}(V),getToken:oe=>function tn(R){return Pe.apply(this,arguments)}(V,oe)}};(function Ou(){(0,Ce._registerComponent)(new Ee.wA(Vl,Ln,"PUBLIC")),(0,Ce._registerComponent)(new Ee.wA("installations-internal",qc,"PRIVATE"))})(),(0,Ce.registerVersion)(Ae,X),(0,Ce.registerVersion)(Ae,X,"esm2017");const xo="@firebase/remote-config",Vr=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ta{constructor(O,V,Y,oe){this.client=O,this.storage=V,this.storageCache=Y,this.logger=oe}isCachedDataFresh(O,V){if(!V)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Y=Date.now()-V,oe=Y<=O;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Y}. Cache max age millis (minimumFetchIntervalMillis setting): ${O}. Is cache hit: ${oe}.`),oe}fetch(O){var V=this;return(0,G.Z)(function*(){const[Y,oe]=yield Promise.all([V.storage.getLastSuccessfulFetchTimestampMillis(),V.storage.getLastSuccessfulFetchResponse()]);if(oe&&V.isCachedDataFresh(O.cacheMaxAgeMillis,Y))return oe;O.eTag=oe&&oe.eTag;const _e=yield V.client.fetch(O),We=[V.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===_e.status&&We.push(V.storage.setLastSuccessfulFetchResponse(_e)),yield Promise.all(We),_e})()}}function gr(R=navigator){return R.languages&&R.languages[0]||R.language}class jn{constructor(O,V,Y,oe,_e,We){this.firebaseInstallations=O,this.sdkVersion=V,this.namespace=Y,this.projectId=oe,this.apiKey=_e,this.appId=We}fetch(O){var V=this;return(0,G.Z)(function*(){const[Y,oe]=yield Promise.all([V.firebaseInstallations.getId(),V.firebaseInstallations.getToken()]),We=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${V.projectId}/namespaces/${V.namespace}:fetch?key=${V.apiKey}`,Mt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":O.eTag||"*"},Bt={sdk_version:V.sdkVersion,app_instance_id:Y,app_instance_id_token:oe,app_id:V.appId,language_code:gr()},Lt={method:"POST",headers:Mt,body:JSON.stringify(Bt)},on=fetch(We,Lt),fn=new Promise((bo,Xr)=>{O.signal.addEventListener(()=>{const ga=new Error("The operation was aborted.");ga.name="AbortError",Xr(ga)})});let Pr;try{yield Promise.race([on,fn]),Pr=yield on}catch(bo){let Xr="fetch-client-network";throw"AbortError"===bo?.name&&(Xr="fetch-timeout"),Vr.create(Xr,{originalErrorMessage:bo?.message})}let jr=Pr.status;const Tr=Pr.headers.get("ETag")||void 0;let _s,xs;if(200===Pr.status){let bo;try{bo=yield Pr.json()}catch(Xr){throw Vr.create("fetch-client-parse",{originalErrorMessage:Xr?.message})}_s=bo.entries,xs=bo.state}if("INSTANCE_STATE_UNSPECIFIED"===xs?jr=500:"NO_CHANGE"===xs?jr=304:("NO_TEMPLATE"===xs||"EMPTY_CONFIG"===xs)&&(_s={}),304!==jr&&200!==jr)throw Vr.create("fetch-status",{httpStatus:jr});return{status:jr,eTag:Tr,config:_s}})()}}class ku{constructor(O,V){this.client=O,this.storage=V}fetch(O){var V=this;return(0,G.Z)(function*(){const Y=(yield V.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return V.attemptFetch(O,Y)})()}attemptFetch(O,{throttleEndTimeMillis:V,backoffCount:Y}){var oe=this;return(0,G.Z)(function*(){yield function Dr(R,O){return new Promise((V,Y)=>{const oe=Math.max(O-Date.now(),0),_e=setTimeout(V,oe);R.addEventListener(()=>{clearTimeout(_e),Y(Vr.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(O.signal,V);try{const _e=yield oe.client.fetch(O);return yield oe.storage.deleteThrottleMetadata(),_e}catch(_e){if(!function Zn(R){if(!(R instanceof de.ZR&&R.customData))return!1;const O=Number(R.customData.httpStatus);return 429===O||500===O||503===O||504===O}(_e))throw _e;const We={throttleEndTimeMillis:Date.now()+(0,de.$s)(Y),backoffCount:Y+1};return yield oe.storage.setThrottleMetadata(We),oe.attemptFetch(O,We)}})()}}class os{constructor(O,V,Y,oe,_e){this.app=O,this._client=V,this._storageCache=Y,this._storage=oe,this._logger=_e,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ar(R,O){const V=R.target.error||void 0;return Vr.create(O,{originalErrorMessage:V&&V?.message})}const mi="app_namespace_store";class hn{constructor(O,V,Y,oe=function as(){return new Promise((R,O)=>{try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=Y=>{O(ar(Y,"storage-open"))},V.onsuccess=Y=>{R(Y.target.result)},V.onupgradeneeded=Y=>{0===Y.oldVersion&&Y.target.result.createObjectStore(mi,{keyPath:"compositeKey"})}}catch(V){O(Vr.create("storage-open",{originalErrorMessage:V?.message}))}})}()){this.appId=O,this.appName=V,this.namespace=Y,this.openDbPromise=oe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(O){return this.set("last_fetch_status",O)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(O){return this.set("last_successful_fetch_timestamp_millis",O)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(O){return this.set("last_successful_fetch_response",O)}getActiveConfig(){return this.get("active_config")}setActiveConfig(O){return this.set("active_config",O)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(O){return this.set("active_config_etag",O)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(O){return this.set("throttle_metadata",O)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(O){var V=this;return(0,G.Z)(function*(){const Y=yield V.openDbPromise;return new Promise((oe,_e)=>{const Mt=Y.transaction([mi],"readonly").objectStore(mi),Bt=V.createCompositeKey(O);try{const Lt=Mt.get(Bt);Lt.onerror=on=>{_e(ar(on,"storage-get"))},Lt.onsuccess=on=>{const fn=on.target.result;oe(fn?fn.value:void 0)}}catch(Lt){_e(Vr.create("storage-get",{originalErrorMessage:Lt?.message}))}})})()}set(O,V){var Y=this;return(0,G.Z)(function*(){const oe=yield Y.openDbPromise;return new Promise((_e,We)=>{const Bt=oe.transaction([mi],"readwrite").objectStore(mi),Lt=Y.createCompositeKey(O);try{const on=Bt.put({compositeKey:Lt,value:V});on.onerror=fn=>{We(ar(fn,"storage-set"))},on.onsuccess=()=>{_e()}}catch(on){We(Vr.create("storage-set",{originalErrorMessage:on?.message}))}})})()}delete(O){var V=this;return(0,G.Z)(function*(){const Y=yield V.openDbPromise;return new Promise((oe,_e)=>{const Mt=Y.transaction([mi],"readwrite").objectStore(mi),Bt=V.createCompositeKey(O);try{const Lt=Mt.delete(Bt);Lt.onerror=on=>{_e(ar(on,"storage-delete"))},Lt.onsuccess=()=>{oe()}}catch(Lt){_e(Vr.create("storage-delete",{originalErrorMessage:Lt?.message}))}})})()}createCompositeKey(O){return[this.appId,this.appName,this.namespace,O].join()}}class dt{constructor(O){this.storage=O}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var O=this;return(0,G.Z)(function*(){const V=O.storage.getLastFetchStatus(),Y=O.storage.getLastSuccessfulFetchTimestampMillis(),oe=O.storage.getActiveConfig(),_e=yield V;_e&&(O.lastFetchStatus=_e);const We=yield Y;We&&(O.lastSuccessfulFetchTimestampMillis=We);const Mt=yield oe;Mt&&(O.activeConfig=Mt)})()}setLastFetchStatus(O){return this.lastFetchStatus=O,this.storage.setLastFetchStatus(O)}setLastSuccessfulFetchTimestampMillis(O){return this.lastSuccessfulFetchTimestampMillis=O,this.storage.setLastSuccessfulFetchTimestampMillis(O)}setActiveConfig(O){return this.activeConfig=O,this.storage.setActiveConfig(O)}}function yn(){return yi.apply(this,arguments)}function yi(){return(yi=(0,G.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function fo(){(0,Ce._registerComponent)(new Ee.wA("remote-config",function R(O,{instanceIdentifier:V}){const Y=O.getProvider("app").getImmediate(),oe=O.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Vr.create("registration-window");if(!(0,de.hl)())throw Vr.create("indexed-db-unavailable");const{projectId:_e,apiKey:We,appId:Mt}=Y.options;if(!_e)throw Vr.create("registration-project-id");if(!We)throw Vr.create("registration-api-key");if(!Mt)throw Vr.create("registration-app-id");const Bt=new hn(Mt,Y.name,V=V||"firebase"),Lt=new dt(Bt),on=new Me.Yd(xo);on.logLevel=Me.in.ERROR;const fn=new jn(oe,Ce.SDK_VERSION,V,_e,We,Mt),Pr=new ku(fn,Bt),jr=new ta(Pr,Bt,Lt,on),Tr=new os(Y,jr,Lt,Bt,on);return function sn(R){const O=(0,de.m9)(R);O._initializePromise||(O._initializePromise=O._storageCache.loadFromStorage().then(()=>{O._isInitializationComplete=!0}))}(Tr),Tr},"PUBLIC").setMultipleInstances(!0)),(0,Ce.registerVersion)(xo,"0.4.0"),(0,Ce.registerVersion)(xo,"0.4.0","esm2017")}();const Hd="/firebase-messaging-sw.js",No="/firebase-cloud-messaging-push-scope",Er="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Lu="google.c.a.c_id",be="google.c.a.c_l",zc="google.c.a.ts",Wc="google.c.a.e";var Kc=(()=>{return(R=Kc||(Kc={})).PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",Kc;var R})();function Mo(R){const O=new Uint8Array(R);return btoa(String.fromCharCode(...O)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gf(R){const V=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Y=atob(V),oe=new Uint8Array(Y.length);for(let _e=0;_e<Y.length;++_e)oe[_e]=Y.charCodeAt(_e);return oe}const Zc="fcm_token_details_db",ls="fcm_token_object_Store";function $l(R){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,G.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(_e=>_e.name).includes(Zc))return null;let O=null;return(yield(0,Ie.X3)(Zc,5,{upgrade:(Y=(0,G.Z)(function*(oe,_e,We,Mt){var Bt;if(_e<2||!oe.objectStoreNames.contains(ls))return;const Lt=Mt.objectStore(ls),on=yield Lt.index("fcmSenderId").get(R);if(yield Lt.clear(),on)if(2===_e){const fn=on;if(!fn.auth||!fn.p256dh||!fn.endpoint)return;O={token:fn.fcmToken,createTime:null!==(Bt=fn.createTime)&&void 0!==Bt?Bt:Date.now(),subscriptionOptions:{auth:fn.auth,p256dh:fn.p256dh,endpoint:fn.endpoint,swScope:fn.swScope,vapidKey:"string"==typeof fn.vapidKey?fn.vapidKey:Mo(fn.vapidKey)}}}else if(3===_e){const fn=on;O={token:fn.fcmToken,createTime:fn.createTime,subscriptionOptions:{auth:Mo(fn.auth),p256dh:Mo(fn.p256dh),endpoint:fn.endpoint,swScope:fn.swScope,vapidKey:Mo(fn.vapidKey)}}}else if(4===_e){const fn=on;O={token:fn.fcmToken,createTime:fn.createTime,subscriptionOptions:{auth:Mo(fn.auth),p256dh:Mo(fn.p256dh),endpoint:fn.endpoint,swScope:fn.swScope,vapidKey:Mo(fn.vapidKey)}}}}),function(_e,We,Mt,Bt){return Y.apply(this,arguments)})})).close(),yield(0,Ie.Lj)(Zc),yield(0,Ie.Lj)("fcm_vapid_details_db"),yield(0,Ie.Lj)("undefined"),xp(O)?O:null;var Y}),Yc.apply(this,arguments)}function xp(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:O}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof O.auth&&O.auth.length>0&&"string"==typeof O.p256dh&&O.p256dh.length>0&&"string"==typeof O.endpoint&&O.endpoint.length>0&&"string"==typeof O.swScope&&O.swScope.length>0&&"string"==typeof O.vapidKey&&O.vapidKey.length>0}const na="firebase-messaging-store";let pe=null;function Z(){return pe||(pe=(0,Ie.X3)("firebase-messaging-database",1,{upgrade:(R,O)=>{0===O&&R.createObjectStore(na)}})),pe}function Jc(R){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,G.Z)(function*(R){const O=Pa(R),Y=yield(yield Z()).transaction(na).objectStore(na).get(O);if(Y)return Y;{const oe=yield $l(R.appConfig.senderId);if(oe)return yield Ra(R,oe),oe}})).apply(this,arguments)}function Ra(R,O){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,G.Z)(function*(R,O){const V=Pa(R),oe=(yield Z()).transaction(na,"readwrite");return yield oe.objectStore(na).put(O,V),yield oe.done,O})).apply(this,arguments)}function ll(R){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,G.Z)(function*(R){const O=Pa(R),Y=(yield Z()).transaction(na,"readwrite");yield Y.objectStore(na).delete(O),yield Y.done})).apply(this,arguments)}function Pa({appConfig:R}){return R.appId}const Mr=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ul(R,O){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,G.Z)(function*(R,O){const V=yield ia(R),Y=Uu(O),oe={method:"POST",headers:V,body:JSON.stringify(Y)};let _e;try{_e=yield(yield fetch(ra(R.appConfig),oe)).json()}catch(We){throw Mr.create("token-subscribe-failed",{errorInfo:We?.toString()})}if(_e.error)throw Mr.create("token-subscribe-failed",{errorInfo:_e.error.message});if(!_e.token)throw Mr.create("token-subscribe-no-token");return _e.token})).apply(this,arguments)}function Oa(R,O){return cl.apply(this,arguments)}function cl(){return(cl=(0,G.Z)(function*(R,O){const V=yield ia(R),Y=Uu(O.subscriptionOptions),oe={method:"PATCH",headers:V,body:JSON.stringify(Y)};let _e;try{_e=yield(yield fetch(`${ra(R.appConfig)}/${O.token}`,oe)).json()}catch(We){throw Mr.create("token-update-failed",{errorInfo:We?.toString()})}if(_e.error)throw Mr.create("token-update-failed",{errorInfo:_e.error.message});if(!_e.token)throw Mr.create("token-update-no-token");return _e.token})).apply(this,arguments)}function Sr(R,O){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,G.Z)(function*(R,O){const Y={method:"DELETE",headers:yield ia(R)};try{const _e=yield(yield fetch(`${ra(R.appConfig)}/${O}`,Y)).json();if(_e.error)throw Mr.create("token-unsubscribe-failed",{errorInfo:_e.error.message})}catch(oe){throw Mr.create("token-unsubscribe-failed",{errorInfo:oe?.toString()})}})).apply(this,arguments)}function ra({projectId:R}){return`https://fcmregistrations.googleapis.com/v1/projects/${R}/registrations`}function ia(R){return ii.apply(this,arguments)}function ii(){return(ii=(0,G.Z)(function*({appConfig:R,installations:O}){const V=yield O.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${V}`})})).apply(this,arguments)}function Uu({p256dh:R,auth:O,endpoint:V,vapidKey:Y}){const oe={web:{endpoint:V,auth:O,p256dh:R}};return Y!==Er&&(oe.web.applicationPubKey=Y),oe}const $u=6048e5;function Hu(R){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,G.Z)(function*(R){const O=yield qu(R.swRegistration,R.vapidKey),V={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:O.endpoint,auth:Mo(O.getKey("auth")),p256dh:Mo(O.getKey("p256dh"))},Y=yield Jc(R.firebaseDependencies);if(Y){if(qi(Y.subscriptionOptions,V))return Date.now()>=Y.createTime+$u?kt(R,{token:Y.token,createTime:Date.now(),subscriptionOptions:V}):Y.token;try{yield Sr(R.firebaseDependencies,Y.token)}catch(oe){console.warn(oe)}return Gu(R.firebaseDependencies,V)}return Gu(R.firebaseDependencies,V)})).apply(this,arguments)}function ju(R){return jl.apply(this,arguments)}function jl(){return(jl=(0,G.Z)(function*(R){const O=yield Jc(R.firebaseDependencies);O&&(yield Sr(R.firebaseDependencies,O.token),yield ll(R.firebaseDependencies));const V=yield R.swRegistration.pushManager.getSubscription();return!V||V.unsubscribe()})).apply(this,arguments)}function kt(R,O){return cs.apply(this,arguments)}function cs(){return(cs=(0,G.Z)(function*(R,O){try{const V=yield Oa(R.firebaseDependencies,O),Y=Object.assign(Object.assign({},O),{token:V,createTime:Date.now()});return yield Ra(R.firebaseDependencies,Y),V}catch(V){throw yield ju(R),V}})).apply(this,arguments)}function Gu(R,O){return sa.apply(this,arguments)}function sa(){return(sa=(0,G.Z)(function*(R,O){const Y={token:yield ul(R,O),createTime:Date.now(),subscriptionOptions:O};return yield Ra(R,Y),Y.token})).apply(this,arguments)}function qu(R,O){return po.apply(this,arguments)}function po(){return(po=(0,G.Z)(function*(R,O){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gf(O)})})).apply(this,arguments)}function qi(R,O){return O.vapidKey===R.vapidKey&&O.endpoint===R.endpoint&&O.auth===R.auth&&O.p256dh===R.p256dh}function lr(R){const O={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function qd(R,O){if(!O.notification)return;R.notification={};const V=O.notification.title;V&&(R.notification.title=V);const Y=O.notification.body;Y&&(R.notification.body=Y);const oe=O.notification.image;oe&&(R.notification.image=oe);const _e=O.notification.icon;_e&&(R.notification.icon=_e)}(O,R),function qe(R,O){!O.data||(R.data=O.data)}(O,R),function Vn(R,O){var V,Y,oe,_e,We;if(!(O.fcmOptions||null!==(V=O.notification)&&void 0!==V&&V.click_action))return;R.fcmOptions={};const Mt=null!==(oe=null===(Y=O.fcmOptions)||void 0===Y?void 0:Y.link)&&void 0!==oe?oe:null===(_e=O.notification)||void 0===_e?void 0:_e.click_action;Mt&&(R.fcmOptions.link=Mt);const Bt=null===(We=O.fcmOptions)||void 0===We?void 0:We.analytics_label;Bt&&(R.fcmOptions.analyticsLabel=Bt)}(O,R),O}function zd(R){return"object"==typeof R&&!!R&&Lu in R}function mf(R,O){const V=[];for(let Y=0;Y<R.length;Y++)V.push(R.charAt(Y)),Y<O.length&&V.push(O.charAt(Y));return V.join("")}function Gl(R){return Mr.create("missing-app-config-values",{valueName:R})}mf("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),mf("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xc{constructor(O,V,Y){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const oe=function vi(R){if(!R||!R.options)throw Gl("App Configuration Object");if(!R.name)throw Gl("App Name");const O=["projectId","apiKey","appId","messagingSenderId"],{options:V}=R;for(const Y of O)if(!V[Y])throw Gl(Y);return{appName:R.name,projectId:V.projectId,apiKey:V.apiKey,appId:V.appId,senderId:V.messagingSenderId}}(O);this.firebaseDependencies={app:O,appConfig:oe,installations:V,analyticsProvider:Y}}_delete(){return Promise.resolve()}}function zs(R){return dl.apply(this,arguments)}function dl(){return(dl=(0,G.Z)(function*(R){try{R.swRegistration=yield navigator.serviceWorker.register(Hd,{scope:No}),R.swRegistration.update().catch(()=>{})}catch(O){throw Mr.create("failed-service-worker-registration",{browserErrorMessage:O?.message})}})).apply(this,arguments)}function ka(R,O){return zu.apply(this,arguments)}function zu(){return(zu=(0,G.Z)(function*(R,O){if(!O&&!R.swRegistration&&(yield zs(R)),O||!R.swRegistration){if(!(O instanceof ServiceWorkerRegistration))throw Mr.create("invalid-sw-registration");R.swRegistration=O}})).apply(this,arguments)}function Wu(R,O){return oa.apply(this,arguments)}function oa(){return(oa=(0,G.Z)(function*(R,O){O?R.vapidKey=O:R.vapidKey||(R.vapidKey=Er)})).apply(this,arguments)}function si(){return(si=(0,G.Z)(function*(R,O){if(!navigator)throw Mr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mr.create("permission-blocked");return yield Wu(R,O?.vapidKey),yield ka(R,O?.serviceWorkerRegistration),Hu(R)})).apply(this,arguments)}function Wd(R,O,V){return Po.apply(this,arguments)}function Po(){return(Po=(0,G.Z)(function*(R,O,V){const Y=Ws(O);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(Y,{message_id:V[Lu],message_name:V[be],message_time:V[zc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ws(R){switch(R){case Kc.NOTIFICATION_CLICKED:return"notification_open";case Kc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function _f(){return(_f=(0,G.Z)(function*(R,O){const V=O.data;if(!V.isFirebaseMessaging)return;R.onMessageHandler&&V.messageType===Kc.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(lr(V)):R.onMessageHandler.next(lr(V)));const Y=V.data;zd(Y)&&"1"===Y[Wc]&&(yield Wd(R,V.messageType,Y))})).apply(this,arguments)}const yf="@firebase/messaging",ds=R=>{const O=new Xc(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",V=>function Np(R,O){return _f.apply(this,arguments)}(O,V)),O},oi=R=>{const O=R.getProvider("messaging").getImmediate();return{getToken:Y=>function ur(R,O){return si.apply(this,arguments)}(O,Y)}};function go(){return ko.apply(this,arguments)}function ko(){return(ko=(0,G.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Oo(){(0,Ce._registerComponent)(new Ee.wA("messaging",ds,"PUBLIC")),(0,Ce._registerComponent)(new Ee.wA("messaging-internal",oi,"PRIVATE")),(0,Ce.registerVersion)(yf,"0.12.0"),(0,Ce.registerVersion)(yf,"0.12.0","esm2017")}();const vf="analytics",hs="firebase_id",Fa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zu="https://www.googletagmanager.com/gtag/js",Ai=new Me.Yd("@firebase/analytics");function Dn(R){return Promise.all(R.map(O=>O.catch(V=>V)))}function Xn(R,O){const V=document.createElement("script");V.src=`${Zu}?l=${R}&id=${O}`,V.async=!0,document.head.appendChild(V)}function La(R,O,V,Y,oe,_e){return zi.apply(this,arguments)}function zi(){return(zi=(0,G.Z)(function*(R,O,V,Y,oe,_e){const We=Y[oe];try{if(We)yield O[We];else{const Bt=(yield Dn(V)).find(Lt=>Lt.measurementId===oe);Bt&&(yield O[Bt.appId])}}catch(Mt){Ai.error(Mt)}R("config",oe,_e)})).apply(this,arguments)}function Yu(R,O,V,Y,oe){return mo.apply(this,arguments)}function mo(){return(mo=(0,G.Z)(function*(R,O,V,Y,oe){try{let _e=[];if(oe&&oe.send_to){let We=oe.send_to;Array.isArray(We)||(We=[We]);const Mt=yield Dn(V);for(const Bt of We){const Lt=Mt.find(fn=>fn.measurementId===Bt),on=Lt&&O[Lt.appId];if(!on){_e=[];break}_e.push(on)}}0===_e.length&&(_e=Object.values(O)),yield Promise.all(_e),R("event",Y,oe||{})}catch(_e){Ai.error(_e)}})).apply(this,arguments)}function Kl(R){const O=window.document.getElementsByTagName("script");for(const V of Object.values(O))if(V.src&&V.src.includes(Zu)&&V.src.includes(R))return V;return null}const Ks=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Qu=new class Fo{constructor(O={},V=1e3){this.throttleMetadata=O,this.intervalMillis=V}getThrottleMetadata(O){return this.throttleMetadata[O]}setThrottleMetadata(O,V){this.throttleMetadata[O]=V}deleteThrottleMetadata(O){delete this.throttleMetadata[O]}};function bf(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function Ba(R){return nd.apply(this,arguments)}function nd(){return(nd=(0,G.Z)(function*(R){var O;const{appId:V,apiKey:Y}=R,oe={method:"GET",headers:bf(Y)},_e=Fa.replace("{app-id}",V),We=yield fetch(_e,oe);if(200!==We.status&&304!==We.status){let Mt="";try{const Bt=yield We.json();null!==(O=Bt.error)&&void 0!==O&&O.message&&(Mt=Bt.error.message)}catch{}throw Ks.create("config-fetch-failed",{httpStatus:We.status,responseMessage:Mt})}return We.json()})).apply(this,arguments)}function hr(R){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,G.Z)(function*(R,O=Qu,V){const{appId:Y,apiKey:oe,measurementId:_e}=R.options;if(!Y)throw Ks.create("no-app-id");if(!oe){if(_e)return{measurementId:_e,appId:Y};throw Ks.create("no-api-key")}const We=O.getThrottleMetadata(Y)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Mt=new fl;return setTimeout((0,G.Z)(function*(){Mt.abort()}),void 0!==V?V:6e4),Jl({appId:Y,apiKey:oe,measurementId:_e},We,Mt,O)})).apply(this,arguments)}function Jl(R,O,V){return la.apply(this,arguments)}function la(){return(la=(0,G.Z)(function*(R,{throttleEndTimeMillis:O,backoffCount:V},Y,oe=Qu){var _e;const{appId:We,measurementId:Mt}=R;try{yield Xu(Y,O)}catch(Bt){if(Mt)return Ai.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Mt} provided in the "measurementId" field in the local Firebase config. [${Bt?.message}]`),{appId:We,measurementId:Mt};throw Bt}try{const Bt=yield Ba(R);return oe.deleteThrottleMetadata(We),Bt}catch(Bt){const Lt=Bt;if(!Ql(Lt)){if(oe.deleteThrottleMetadata(We),Mt)return Ai.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Mt} provided in the "measurementId" field in the local Firebase config. [${Lt?.message}]`),{appId:We,measurementId:Mt};throw Bt}const on=503===Number(null===(_e=Lt?.customData)||void 0===_e?void 0:_e.httpStatus)?(0,de.$s)(V,oe.intervalMillis,30):(0,de.$s)(V,oe.intervalMillis),fn={throttleEndTimeMillis:Date.now()+on,backoffCount:V+1};return oe.setThrottleMetadata(We,fn),Ai.debug(`Calling attemptFetch again in ${on} millis`),Jl(R,fn,Y,oe)}})).apply(this,arguments)}function Xu(R,O){return new Promise((V,Y)=>{const oe=Math.max(O-Date.now(),0),_e=setTimeout(V,oe);R.addEventListener(()=>{clearTimeout(_e),Y(Ks.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}function Ql(R){if(!(R instanceof de.ZR&&R.customData))return!1;const O=Number(R.customData.httpStatus);return 429===O||500===O||503===O||504===O}class fl{constructor(){this.listeners=[]}addEventListener(O){this.listeners.push(O)}abort(){this.listeners.forEach(O=>O())}}let rd,Va;function Lo(){return(Lo=(0,G.Z)(function*(R,O,V,Y,oe){if(oe&&oe.global)R("event",V,Y);else{const _e=yield O;R("event",V,Object.assign(Object.assign({},Y),{send_to:_e}))}})).apply(this,arguments)}function nc(R){Va=R}function id(R){rd=R}function rc(){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,G.Z)(function*(){if(!(0,de.hl)())return Ai.warn(Ks.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(R){return Ai.warn(Ks.create("indexeddb-unavailable",{errorInfo:R?.toString()}).message),!1}return!0})).apply(this,arguments)}function Yd(){return(Yd=(0,G.Z)(function*(R,O,V,Y,oe,_e,We){var Mt;const Bt=hr(R);Bt.then(jr=>{V[jr.measurementId]=jr.appId,R.options.measurementId&&jr.measurementId!==R.options.measurementId&&Ai.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${jr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(jr=>Ai.error(jr)),O.push(Bt);const Lt=rc().then(jr=>{if(jr)return Y.getId()}),[on,fn]=yield Promise.all([Bt,Lt]);Kl(_e)||Xn(_e,on.measurementId),Va&&(oe("consent","default",Va),nc(void 0)),oe("js",new Date);const Pr=null!==(Mt=We?.config)&&void 0!==Mt?Mt:{};return Pr.origin="firebase",Pr.update=!0,null!=fn&&(Pr[hs]=fn),oe("config",on.measurementId,Pr),rd&&(oe("set",rd),id(void 0)),on.measurementId})).apply(this,arguments)}class Mp{constructor(O){this.app=O}_delete(){return delete _o[this.app.options.appId],Promise.resolve()}}let _o={},sd=[];const ic={};let sc,fs,yo="dataLayer",wr=!1;function eu(R,O,V){!function Jd(){const R=[];if((0,de.ru)()&&R.push("This is a browser extension environment."),(0,de.zI)()||R.push("Cookies are not available."),R.length>0){const O=R.map((Y,oe)=>`(${oe+1}) ${Y}`).join(" "),V=Ks.create("invalid-analytics-context",{errorInfo:O});Ai.warn(V.message)}}();const Y=R.options.appId;if(!Y)throw Ks.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw Ks.create("no-api-key");Ai.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=_o[Y])throw Ks.create("already-exists",{id:Y});if(!wr){!function Mn(R){let O=[];Array.isArray(window[R])?O=window[R]:window[R]=O}(yo);const{wrappedGtag:_e,gtagCore:We}=function Wl(R,O,V,Y,oe){let _e=function(...We){window[Y].push(arguments)};return window[oe]&&"function"==typeof window[oe]&&(_e=window[oe]),window[oe]=function hl(R,O,V,Y){function _e(){return(_e=(0,G.Z)(function*(We,Mt,Bt){try{"event"===We?yield Yu(R,O,V,Mt,Bt):"config"===We?yield La(R,O,V,Y,Mt,Bt):"consent"===We?R("consent","update",Bt):R("set",Mt)}catch(Lt){Ai.error(Lt)}})).apply(this,arguments)}return function oe(We,Mt,Bt){return _e.apply(this,arguments)}}(_e,R,O,V),{gtagCore:_e,wrappedGtag:window[oe]}}(_o,sd,ic,yo,"gtag");fs=_e,sc=We,wr=!0}return _o[Y]=function As(R,O,V,Y,oe,_e,We){return Yd.apply(this,arguments)}(R,sd,ic,O,sc,yo,V),new Mp(R)}function Ef(){return ps.apply(this,arguments)}function ps(){return(ps=(0,G.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const qn="@firebase/analytics";!function Ki(){(0,Ce._registerComponent)(new Ee.wA(vf,(O,{options:V})=>eu(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),V),"PUBLIC")),(0,Ce._registerComponent)(new Ee.wA("analytics-internal",function R(O){try{const V=O.getProvider(vf).getImmediate();return{logEvent:(Y,oe,_e)=>function Pp(R,O,V,Y){R=(0,de.m9)(R),function Xl(R,O,V,Y,oe){return Lo.apply(this,arguments)}(fs,_o[R.app.options.appId],O,V,Y).catch(oe=>Ai.error(oe))}(V,Y,oe,_e)}}catch(V){throw Ks.create("interop-component-reg-failed",{reason:V})}},"PRIVATE")),(0,Ce.registerVersion)(qn,"0.9.0"),(0,Ce.registerVersion)(qn,"0.9.0","esm2017")}();var Xd=q(4408),_l=q(7565);const th=new class eh extends _l.v{}(class Op extends Xd.o{constructor(O,V){super(O,V),this.scheduler=O,this.work=V}schedule(O,V=0){return V>0?super.schedule(O,V):(this.delay=V,this.state=O,this.scheduler.flush(this),this)}execute(O,V){return V>0||this.closed?super.execute(O,V):this._execute(O,V)}requestAsyncId(O,V,Y=0){return null!=Y&&Y>0||null==Y&&this.delay>0?super.requestAsyncId(O,V,Y):(O.flush(this),0)}});var Cf=q(4986),lc=q(8505),er=q(9468),uc=q(5363);const nu=new c.GfV("7.5.0"),Df="__angularfire_symbol__analyticsIsSupportedValue",xi="__angularfire_symbol__analyticsIsSupported",ms="__angularfire_symbol__remoteConfigIsSupportedValue",yl="__angularfire_symbol__remoteConfigIsSupported",fa="__angularfire_symbol__messagingIsSupportedValue",ru="__angularfire_symbol__messagingIsSupported";function cn(R,O,V){if(O){if(1===O.length)return O[0];const _e=O.filter(We=>We.app===V);if(1===_e.length)return _e[0]}return V.container.getProvider(R).getImmediate({optional:!0})}globalThis[xi]||(globalThis[xi]=Ef().then(R=>globalThis[Df]=R).catch(()=>globalThis[Df]=!1)),globalThis[ru]||(globalThis[ru]=go().then(R=>globalThis[fa]=R).catch(()=>globalThis[fa]=!1)),globalThis[yl]||(globalThis[yl]=yn().then(R=>globalThis[ms]=R).catch(()=>globalThis[ms]=!1));const ir=(R,O)=>{const V=O?[O]:(0,me.C6)(),Y=[];return V.forEach(oe=>{oe.container.getProvider(R).instances.forEach(We=>{Y.includes(We)||Y.push(We)})}),Y};function Qr(){}class Vo{constructor(O,V=th){this.zone=O,this.delegate=V}now(){return this.delegate.now()}schedule(O,V,Y){const oe=this.zone;return this.delegate.schedule(function(We){oe.runGuarded(()=>{O.apply(this,[We])})},V,Y)}}class vl{constructor(O){this.zone=O,this.task=null}call(O,V){const Y=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qr,{},Qr,Qr)),V.pipe((0,lc.b)({next:Y,complete:Y,error:Y})).subscribe(O).add(Y)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ua=(()=>{class R{constructor(V){this.ngZone=V,this.outsideAngular=V.runOutsideAngular(()=>new Vo(Zone.current)),this.insideAngular=V.run(()=>new Vo(Zone.current,Cf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(V){return new(V||R)(c.LFG(c.R0b))},R.\u0275prov=c.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function vo(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function Nt(R){return vo(),function fc(R){return function(V){return(V=V.lift(new vl(R.ngZone))).pipe((0,er.R)(R.outsideAngular),(0,uc.Q)(R.insideAngular))}}(vo())(R)}},2090:(_t,Fe,q)=>{q.d(Fe,{$s:()=>Tt,BH:()=>zn,G6:()=>Ze,L:()=>Ie,LL:()=>Hn,Pz:()=>Fn,Sg:()=>bn,UG:()=>Xe,US:()=>Ee,ZB:()=>te,ZR:()=>Yt,aH:()=>Gt,b$:()=>je,eu:()=>et,hl:()=>ut,jU:()=>Ct,m9:()=>Kt,ne:()=>Ia,pd:()=>Nn,r3:()=>Ta,ru:()=>xe,tV:()=>Ae,uI:()=>ze,vZ:()=>sr,w1:()=>Oe,xO:()=>So,xb:()=>is,z$:()=>ot,zI:()=>ee,zd:()=>dr});const Ce=function(ne){const J=[];let se=0;for(let Re=0;Re<ne.length;Re++){let ye=ne.charCodeAt(Re);ye<128?J[se++]=ye:ye<2048?(J[se++]=ye>>6|192,J[se++]=63&ye|128):55296==(64512&ye)&&Re+1<ne.length&&56320==(64512&ne.charCodeAt(Re+1))?(ye=65536+((1023&ye)<<10)+(1023&ne.charCodeAt(++Re)),J[se++]=ye>>18|240,J[se++]=ye>>12&63|128,J[se++]=ye>>6&63|128,J[se++]=63&ye|128):(J[se++]=ye>>12|224,J[se++]=ye>>6&63|128,J[se++]=63&ye|128)}return J},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ne,J){if(!Array.isArray(ne))throw Error("encodeByteArray takes an array as a parameter");this.init_();const se=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,Re=[];for(let ye=0;ye<ne.length;ye+=3){const bt=ne[ye],tn=ye+1<ne.length,Pe=tn?ne[ye+1]:0,yr=ye+2<ne.length,Xt=yr?ne[ye+2]:0;let vr=(15&Pe)<<2|Xt>>6,Io=63&Xt;yr||(Io=64,tn||(vr=64)),Re.push(se[bt>>2],se[(3&bt)<<4|Pe>>4],se[vr],se[Io])}return Re.join("")},encodeString(ne,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(ne):this.encodeByteArray(Ce(ne),J)},decodeString(ne,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(ne):function(ne){const J=[];let se=0,Re=0;for(;se<ne.length;){const ye=ne[se++];if(ye<128)J[Re++]=String.fromCharCode(ye);else if(ye>191&&ye<224){const bt=ne[se++];J[Re++]=String.fromCharCode((31&ye)<<6|63&bt)}else if(ye>239&&ye<365){const yr=((7&ye)<<18|(63&ne[se++])<<12|(63&ne[se++])<<6|63&ne[se++])-65536;J[Re++]=String.fromCharCode(55296+(yr>>10)),J[Re++]=String.fromCharCode(56320+(1023&yr))}else{const bt=ne[se++],tn=ne[se++];J[Re++]=String.fromCharCode((15&ye)<<12|(63&bt)<<6|63&tn)}}return J.join("")}(this.decodeStringToByteArray(ne,J))},decodeStringToByteArray(ne,J){this.init_();const se=J?this.charToByteMapWebSafe_:this.charToByteMap_,Re=[];for(let ye=0;ye<ne.length;){const bt=se[ne.charAt(ye++)],Pe=ye<ne.length?se[ne.charAt(ye)]:0;++ye;const Xt=ye<ne.length?se[ne.charAt(ye)]:64;++ye;const Rt=ye<ne.length?se[ne.charAt(ye)]:64;if(++ye,null==bt||null==Pe||null==Xt||null==Rt)throw Error();Re.push(bt<<2|Pe>>4),64!==Xt&&(Re.push(Pe<<4&240|Xt>>2),64!==Rt&&Re.push(Xt<<6&192|Rt))}return Re},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ne=0;ne<this.ENCODED_VALS.length;ne++)this.byteToCharMap_[ne]=this.ENCODED_VALS.charAt(ne),this.charToByteMap_[this.byteToCharMap_[ne]]=ne,this.byteToCharMapWebSafe_[ne]=this.ENCODED_VALS_WEBSAFE.charAt(ne),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ne]]=ne,ne>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ne)]=ne,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ne)]=ne)}}},Ie=function(ne){return function(ne){const J=Ce(ne);return Ee.encodeByteArray(J,!0)}(ne).replace(/\./g,"")},Ae=function(ne){try{return Ee.decodeString(ne,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};function te(ne,J){if(!(J instanceof Object))return J;switch(J.constructor){case Date:return new Date(J.getTime());case Object:void 0===ne&&(ne={});break;case Array:ne=[];break;default:return J}for(const se in J)!J.hasOwnProperty(se)||!ce(se)||(ne[se]=te(ne[se],J[se]));return ne}function ce(ne){return"__proto__"!==ne}function ot(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function Xe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ct(){return"object"==typeof self&&self.self===self}function xe(){const ne="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ne&&void 0!==ne.id}function je(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Oe(){const ne=ot();return ne.indexOf("MSIE ")>=0||ne.indexOf("Trident/")>=0}function Ze(){return!Xe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ut(){try{return"object"==typeof indexedDB}catch{return!1}}function et(){return new Promise((ne,J)=>{try{let se=!0;const Re="validate-browser-context-for-indexeddb-analytics-module",ye=self.indexedDB.open(Re);ye.onsuccess=()=>{ye.result.close(),se||self.indexedDB.deleteDatabase(Re),ne(!0)},ye.onupgradeneeded=()=>{se=!1},ye.onerror=()=>{var bt;J((null===(bt=ye.error)||void 0===bt?void 0:bt.message)||"")}}catch(se){J(se)}})}function ee(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const we=()=>{try{return function Be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ne=process.env.__FIREBASE_DEFAULTS__;return ne?JSON.parse(ne):void 0})()||(()=>{if(typeof document>"u")return;let ne;try{ne=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const J=ne&&Ae(ne[1]);return J&&JSON.parse(J)})()}catch(ne){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ne}`)}},Gt=()=>{var ne;return null===(ne=we())||void 0===ne?void 0:ne.config},Fn=ne=>{var J;return null===(J=we())||void 0===J?void 0:J[`_${ne}`]};class zn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,se)=>{this.resolve=J,this.reject=se})}wrapCallback(J){return(se,Re)=>{se?this.reject(se):this.resolve(Re),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J(se):J(se,Re))}}}function bn(ne,J){if(ne.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Re=J||"demo-project",ye=ne.iat||0,bt=ne.sub||ne.user_id;if(!bt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const tn=Object.assign({iss:`https://securetoken.google.com/${Re}`,aud:Re,iat:ye,exp:ye+3600,auth_time:ye,sub:bt,user_id:bt,firebase:{sign_in_provider:"custom",identities:{}}},ne);return[Ie(JSON.stringify({alg:"none",type:"JWT"})),Ie(JSON.stringify(tn)),""].join(".")}class Yt extends Error{constructor(J,se,Re){super(se),this.code=J,this.customData=Re,this.name="FirebaseError",Object.setPrototypeOf(this,Yt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hn.prototype.create)}}class Hn{constructor(J,se,Re){this.service=J,this.serviceName=se,this.errors=Re}create(J,...se){const Re=se[0]||{},ye=`${this.service}/${J}`,bt=this.errors[J],tn=bt?function Lr(ne,J){return ne.replace(Vi,(se,Re)=>{const ye=J[Re];return null!=ye?String(ye):`<${Re}?>`})}(bt,Re):"Error";return new Yt(ye,`${this.serviceName}: ${tn} (${ye}).`,Re)}}const Vi=/\{\$([^}]+)}/g;function Ta(ne,J){return Object.prototype.hasOwnProperty.call(ne,J)}function is(ne){for(const J in ne)if(Object.prototype.hasOwnProperty.call(ne,J))return!1;return!0}function sr(ne,J){if(ne===J)return!0;const se=Object.keys(ne),Re=Object.keys(J);for(const ye of se){if(!Re.includes(ye))return!1;const bt=ne[ye],tn=J[ye];if(ss(bt)&&ss(tn)){if(!sr(bt,tn))return!1}else if(bt!==tn)return!1}for(const ye of Re)if(!se.includes(ye))return!1;return!0}function ss(ne){return null!==ne&&"object"==typeof ne}function So(ne){const J=[];for(const[se,Re]of Object.entries(ne))Array.isArray(Re)?Re.forEach(ye=>{J.push(encodeURIComponent(se)+"="+encodeURIComponent(ye))}):J.push(encodeURIComponent(se)+"="+encodeURIComponent(Re));return J.length?"&"+J.join("&"):""}function dr(ne){const J={};return ne.replace(/^\?/,"").split("&").forEach(Re=>{if(Re){const[ye,bt]=Re.split("=");J[decodeURIComponent(ye)]=decodeURIComponent(bt)}}),J}function Nn(ne){const J=ne.indexOf("?");if(!J)return"";const se=ne.indexOf("#",J);return ne.substring(J,se>0?se:void 0)}function Ia(ne,J){const se=new Pt(ne,J);return se.subscribe.bind(se)}class Pt{constructor(J,se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=se,this.task.then(()=>{J(this)}).catch(Re=>{this.error(Re)})}next(J){this.forEachObserver(se=>{se.next(J)})}error(J){this.forEachObserver(se=>{se.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,se,Re){let ye;if(void 0===J&&void 0===se&&void 0===Re)throw new Error("Missing Observer.");ye=function an(ne,J){if("object"!=typeof ne||null===ne)return!1;for(const se of J)if(se in ne&&"function"==typeof ne[se])return!0;return!1}(J,["next","error","complete"])?J:{next:J,error:se,complete:Re},void 0===ye.next&&(ye.next=To),void 0===ye.error&&(ye.error=To),void 0===ye.complete&&(ye.complete=To);const bt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ye.error(this.finalError):ye.complete()}catch{}}),this.observers.push(ye),bt}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let se=0;se<this.observers.length;se++)this.sendOne(se,J)}sendOne(J,se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{se(this.observers[J])}catch(Re){typeof console<"u"&&console.error&&console.error(Re)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function To(){}function Tt(ne,J=1e3,se=2){const Re=J*Math.pow(se,ne),ye=Math.round(.5*Re*(Math.random()-.5)*2);return Math.min(144e5,Re+ye)}function Kt(ne){return ne&&ne._delegate?ne._delegate:ne}},9808:(_t,Fe,q)=>{var c=q(4650);let me=null;function G(){return me}class de{}const Ee=new c.OlP("DocumentToken");let Me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ie(){return(0,c.LFG)(X)}()},providedIn:"platform"}),n})();const Ae=new c.OlP("Location Initialized");let X=(()=>{class n extends Me{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(t){const r=G().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=G().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,s){te()?this._history.pushState(t,r,s):this.location.hash=s}replaceState(t,r,s){te()?this._history.replaceState(t,r,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ee))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ce(){return new X((0,c.LFG)(Ee))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function ot(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ze(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Xe(n){return n&&"?"!==n[0]?"?"+n:n}let Ct=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(je)},providedIn:"root"}),n})();const xe=new c.OlP("appBaseHref");let je=(()=>{class n extends Ct{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ot(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Xe(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,u){const h=this.prepareExternalUrl(s+Xe(u));this._platformLocation.pushState(t,r,h)}replaceState(t,r,s,u){const h=this.prepareExternalUrl(s+Xe(u));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Me),c.LFG(xe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ge=(()=>{class n extends Ct{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ot(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,u){let h=this.prepareExternalUrl(s+Xe(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,s,u){let h=this.prepareExternalUrl(s+Xe(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Me),c.LFG(xe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Oe=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function ut(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(ze(Ze(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Xe(r))}normalize(t){return n.stripTrailingSlash(function $e(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._basePath,Ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._locationStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xe(r)),s)}replaceState(t,r="",s=null){this._locationStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xe(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=Xe,n.joinWithSlash=ot,n.stripTrailingSlash=ze,n.\u0275fac=function(t){return new(t||n)(c.LFG(Ct))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ue(){return new Oe((0,c.LFG)(Ct))}()},providedIn:"root"}),n})();function Ze(n){return n.replace(/\/index.html$/,"")}const et={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ee=(()=>((ee=ee||{})[ee.Decimal=0]="Decimal",ee[ee.Percent=1]="Percent",ee[ee.Currency=2]="Currency",ee[ee.Scientific=3]="Scientific",ee))(),ie=(()=>((ie=ie||{})[ie.Format=0]="Format",ie[ie.Standalone=1]="Standalone",ie))(),fe=(()=>((fe=fe||{})[fe.Narrow=0]="Narrow",fe[fe.Abbreviated=1]="Abbreviated",fe[fe.Wide=2]="Wide",fe[fe.Short=3]="Short",fe))(),De=(()=>((De=De||{})[De.Short=0]="Short",De[De.Medium=1]="Medium",De[De.Long=2]="Long",De[De.Full=3]="Full",De))(),we=(()=>((we=we||{})[we.Decimal=0]="Decimal",we[we.Group=1]="Group",we[we.List=2]="List",we[we.PercentSign=3]="PercentSign",we[we.PlusSign=4]="PlusSign",we[we.MinusSign=5]="MinusSign",we[we.Exponential=6]="Exponential",we[we.SuperscriptingExponent=7]="SuperscriptingExponent",we[we.PerMille=8]="PerMille",we[we.Infinity=9]="Infinity",we[we.NaN=10]="NaN",we[we.TimeSeparator=11]="TimeSeparator",we[we.CurrencyDecimal=12]="CurrencyDecimal",we[we.CurrencyGroup=13]="CurrencyGroup",we))();function Gt(n,e,t){const r=(0,c.cg1)(n),u=sr([r[c.wAp.DayPeriodsFormat],r[c.wAp.DayPeriodsStandalone]],e);return sr(u,t)}function Fn(n,e,t){const r=(0,c.cg1)(n),u=sr([r[c.wAp.DaysFormat],r[c.wAp.DaysStandalone]],e);return sr(u,t)}function zn(n,e,t){const r=(0,c.cg1)(n),u=sr([r[c.wAp.MonthsFormat],r[c.wAp.MonthsStandalone]],e);return sr(u,t)}function Hn(n,e){return sr((0,c.cg1)(n)[c.wAp.DateFormat],e)}function Lr(n,e){return sr((0,c.cg1)(n)[c.wAp.TimeFormat],e)}function Vi(n,e){return sr((0,c.cg1)(n)[c.wAp.DateTimeFormat],e)}function Qt(n,e){const t=(0,c.cg1)(n),r=t[c.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===we.CurrencyDecimal)return t[c.wAp.NumberSymbols][we.Decimal];if(e===we.CurrencyGroup)return t[c.wAp.NumberSymbols][we.Group]}return r}function pr(n,e){return(0,c.cg1)(n)[c.wAp.NumberFormats][e]}function Ta(n){if(!n[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function sr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function ss(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Nn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ji={},Ia=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Pt=(()=>((Pt=Pt||{})[Pt.Short=0]="Short",Pt[Pt.ShortGMT=1]="ShortGMT",Pt[Pt.Long=2]="Long",Pt[Pt.Extended=3]="Extended",Pt))(),Wt=(()=>((Wt=Wt||{})[Wt.FullYear=0]="FullYear",Wt[Wt.Month=1]="Month",Wt[Wt.Date=2]="Date",Wt[Wt.Hours=3]="Hours",Wt[Wt.Minutes=4]="Minutes",Wt[Wt.Seconds=5]="Seconds",Wt[Wt.FractionalSeconds=6]="FractionalSeconds",Wt[Wt.Day=7]="Day",Wt))(),an=(()=>((an=an||{})[an.DayPeriods=0]="DayPeriods",an[an.Days=1]="Days",an[an.Months=2]="Months",an[an.Eras=3]="Eras",an))();function To(n,e,t,r){let s=function bt(n){if(Pe(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[s,u=1,h=1]=n.split("-").map(_=>+_);return _r(s,u-1,h)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Nn))return function tn(n){const e=new Date(0);let t=0,r=0;const s=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),s.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const h=Number(n[4]||0)-t,_=Number(n[5]||0)-r,w=Number(n[6]||0),T=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,h,_,w,T),e}(r)}const e=new Date(n);if(!Pe(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Qn(t,e)||e;let _,h=[];for(;e;){if(_=Ia.exec(e),!_){h.push(e);break}{h=h.concat(_.slice(1));const N=h.pop();if(!N)break;e=N}}let w=s.getTimezoneOffset();r&&(w=se(r,w),s=function ye(n,e,t){const r=t?-1:1,s=n.getTimezoneOffset();return function Re(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(se(e,s)-s))}(s,r,!0));let T="";return h.forEach(N=>{const L=function J(n){if(ne[n])return ne[n];let e;switch(n){case"G":case"GG":case"GGG":e=Cn(an.Eras,fe.Abbreviated);break;case"GGGG":e=Cn(an.Eras,fe.Wide);break;case"GGGGG":e=Cn(an.Eras,fe.Narrow);break;case"y":e=Wn(Wt.FullYear,1,0,!1,!0);break;case"yy":e=Wn(Wt.FullYear,2,0,!0,!0);break;case"yyy":e=Wn(Wt.FullYear,3,0,!1,!0);break;case"yyyy":e=Wn(Wt.FullYear,4,0,!1,!0);break;case"Y":e=Kt(1);break;case"YY":e=Kt(2,!0);break;case"YYY":e=Kt(3);break;case"YYYY":e=Kt(4);break;case"M":case"L":e=Wn(Wt.Month,1,1);break;case"MM":case"LL":e=Wn(Wt.Month,2,1);break;case"MMM":e=Cn(an.Months,fe.Abbreviated);break;case"MMMM":e=Cn(an.Months,fe.Wide);break;case"MMMMM":e=Cn(an.Months,fe.Narrow);break;case"LLL":e=Cn(an.Months,fe.Abbreviated,ie.Standalone);break;case"LLLL":e=Cn(an.Months,fe.Wide,ie.Standalone);break;case"LLLLL":e=Cn(an.Months,fe.Narrow,ie.Standalone);break;case"w":e=en(1);break;case"ww":e=en(2);break;case"W":e=en(1,!0);break;case"d":e=Wn(Wt.Date,1);break;case"dd":e=Wn(Wt.Date,2);break;case"c":case"cc":e=Wn(Wt.Day,1);break;case"ccc":e=Cn(an.Days,fe.Abbreviated,ie.Standalone);break;case"cccc":e=Cn(an.Days,fe.Wide,ie.Standalone);break;case"ccccc":e=Cn(an.Days,fe.Narrow,ie.Standalone);break;case"cccccc":e=Cn(an.Days,fe.Short,ie.Standalone);break;case"E":case"EE":case"EEE":e=Cn(an.Days,fe.Abbreviated);break;case"EEEE":e=Cn(an.Days,fe.Wide);break;case"EEEEE":e=Cn(an.Days,fe.Narrow);break;case"EEEEEE":e=Cn(an.Days,fe.Short);break;case"a":case"aa":case"aaa":e=Cn(an.DayPeriods,fe.Abbreviated);break;case"aaaa":e=Cn(an.DayPeriods,fe.Wide);break;case"aaaaa":e=Cn(an.DayPeriods,fe.Narrow);break;case"b":case"bb":case"bbb":e=Cn(an.DayPeriods,fe.Abbreviated,ie.Standalone,!0);break;case"bbbb":e=Cn(an.DayPeriods,fe.Wide,ie.Standalone,!0);break;case"bbbbb":e=Cn(an.DayPeriods,fe.Narrow,ie.Standalone,!0);break;case"B":case"BB":case"BBB":e=Cn(an.DayPeriods,fe.Abbreviated,ie.Format,!0);break;case"BBBB":e=Cn(an.DayPeriods,fe.Wide,ie.Format,!0);break;case"BBBBB":e=Cn(an.DayPeriods,fe.Narrow,ie.Format,!0);break;case"h":e=Wn(Wt.Hours,1,-12);break;case"hh":e=Wn(Wt.Hours,2,-12);break;case"H":e=Wn(Wt.Hours,1);break;case"HH":e=Wn(Wt.Hours,2);break;case"m":e=Wn(Wt.Minutes,1);break;case"mm":e=Wn(Wt.Minutes,2);break;case"s":e=Wn(Wt.Seconds,1);break;case"ss":e=Wn(Wt.Seconds,2);break;case"S":e=Wn(Wt.FractionalSeconds,1);break;case"SS":e=Wn(Wt.FractionalSeconds,2);break;case"SSS":e=Wn(Wt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=An(Pt.Short);break;case"ZZZZZ":e=An(Pt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=An(Pt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=An(Pt.Long);break;default:return null}return ne[n]=e,e}(N);T+=L?L(s,t,w):"''"===N?"'":N.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),T}function _r(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Qn(n,e){const t=function tt(n){return(0,c.cg1)(n)[c.wAp.LocaleId]}(n);if(ji[t]=ji[t]||{},ji[t][e])return ji[t][e];let r="";switch(e){case"shortDate":r=Hn(n,De.Short);break;case"mediumDate":r=Hn(n,De.Medium);break;case"longDate":r=Hn(n,De.Long);break;case"fullDate":r=Hn(n,De.Full);break;case"shortTime":r=Lr(n,De.Short);break;case"mediumTime":r=Lr(n,De.Medium);break;case"longTime":r=Lr(n,De.Long);break;case"fullTime":r=Lr(n,De.Full);break;case"short":const s=Qn(n,"shortTime"),u=Qn(n,"shortDate");r=uo(Vi(n,De.Short),[s,u]);break;case"medium":const h=Qn(n,"mediumTime"),_=Qn(n,"mediumDate");r=uo(Vi(n,De.Medium),[h,_]);break;case"long":const w=Qn(n,"longTime"),T=Qn(n,"longDate");r=uo(Vi(n,De.Long),[w,T]);break;case"full":const N=Qn(n,"fullTime"),L=Qn(n,"fullDate");r=uo(Vi(n,De.Full),[N,L])}return r&&(ji[t][e]=r),r}function uo(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Gi(n,e,t="-",r,s){let u="";(n<0||s&&n<=0)&&(s?n=1-n:(n=-n,u=t));let h=String(n);for(;h.length<e;)h="0"+h;return r&&(h=h.slice(h.length-e)),u+h}function Wn(n,e,t=0,r=!1,s=!1){return function(u,h){let _=function Jo(n,e){switch(n){case Wt.FullYear:return e.getFullYear();case Wt.Month:return e.getMonth();case Wt.Date:return e.getDate();case Wt.Hours:return e.getHours();case Wt.Minutes:return e.getMinutes();case Wt.Seconds:return e.getSeconds();case Wt.FractionalSeconds:return e.getMilliseconds();case Wt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||_>-t)&&(_+=t),n===Wt.Hours)0===_&&-12===t&&(_=12);else if(n===Wt.FractionalSeconds)return function Pu(n,e){return Gi(n,3).substring(0,e)}(_,e);const w=Qt(h,we.MinusSign);return Gi(_,e,w,r,s)}}function Cn(n,e,t=ie.Format,r=!1){return function(s,u){return function Wr(n,e,t,r,s,u){switch(t){case an.Months:return zn(e,s,r)[n.getMonth()];case an.Days:return Fn(e,s,r)[n.getDay()];case an.DayPeriods:const h=n.getHours(),_=n.getMinutes();if(u){const T=function lo(n){const e=(0,c.cg1)(n);return Ta(e),(e[c.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?ss(r):[ss(r[0]),ss(r[1])])}(e),N=function is(n,e,t){const r=(0,c.cg1)(n);Ta(r);const u=sr([r[c.wAp.ExtraData][0],r[c.wAp.ExtraData][1]],e)||[];return sr(u,t)||[]}(e,s,r),L=T.findIndex(j=>{if(Array.isArray(j)){const[z,Q]=j,le=h>=z.hours&&_>=z.minutes,ve=h<Q.hours||h===Q.hours&&_<Q.minutes;if(z.hours<Q.hours){if(le&&ve)return!0}else if(le||ve)return!0}else if(j.hours===h&&j.minutes===_)return!0;return!1});if(-1!==L)return N[L]}return Gt(e,s,r)[h<12?0:1];case an.Eras:return function bn(n,e){return sr((0,c.cg1)(n)[c.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(s,u,n,e,t,r)}}function An(n){return function(e,t,r){const s=-1*r,u=Qt(t,we.MinusSign),h=s>0?Math.floor(s/60):Math.ceil(s/60);switch(n){case Pt.Short:return(s>=0?"+":"")+Gi(h,2,u)+Gi(Math.abs(s%60),2,u);case Pt.ShortGMT:return"GMT"+(s>=0?"+":"")+Gi(h,1,u);case Pt.Long:return"GMT"+(s>=0?"+":"")+Gi(h,2,u)+":"+Gi(Math.abs(s%60),2,u);case Pt.Extended:return 0===r?"Z":(s>=0?"+":"")+Gi(h,2,u)+":"+Gi(Math.abs(s%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}function un(n){return _r(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function en(n,e=!1){return function(t,r){let s;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,h=t.getDate();s=1+Math.floor((h+u)/7)}else{const u=un(t),h=function Tt(n){const e=_r(n,0,1).getDay();return _r(n,0,1+(e<=4?4:11)-e)}(u.getFullYear()),_=u.getTime()-h.getTime();s=1+Math.round(_/6048e5)}return Gi(s,n,Qt(r,we.MinusSign))}}function Kt(n,e=!1){return function(t,r){return Gi(un(t).getFullYear(),n,Qt(r,we.MinusSign),e)}}const ne={};function se(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Pe(n){return n instanceof Date&&!isNaN(n.valueOf())}const yr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function xa(n,e,t,r,s,u,h=!1){let _="",w=!1;if(isFinite(n)){let T=function Ou(n){let r,s,u,h,_,e=Math.abs(n)+"",t=0;for((s=e.indexOf("."))>-1&&(e=e.replace(".","")),(u=e.search(/e/i))>0?(s<0&&(s=u),s+=+e.slice(u+1),e=e.substring(0,u)):s<0&&(s=e.length),u=0;"0"===e.charAt(u);u++);if(u===(_=e.length))r=[0],s=1;else{for(_--;"0"===e.charAt(_);)_--;for(s-=u,r=[],h=0;u<=_;u++,h++)r[h]=Number(e.charAt(u))}return s>22&&(r=r.splice(0,21),t=s-1,s=1),{digits:r,exponent:t,integerLen:s}}(n);h&&(T=function qc(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(T));let N=e.minInt,L=e.minFrac,j=e.maxFrac;if(u){const nt=u.match(yr);if(null===nt)throw new Error(`${u} is not a valid digit info`);const ht=nt[1],it=nt[3],ft=nt[5];null!=ht&&(N=Qo(ht)),null!=it&&(L=Qo(it)),null!=ft?j=Qo(ft):null!=it&&L>j&&(j=L)}!function xo(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,s=r.length-n.integerLen;const u=Math.min(Math.max(e,s),t);let h=u+n.integerLen,_=r[h];if(h>0){r.splice(Math.max(n.integerLen,h));for(let L=h;L<r.length;L++)r[L]=0}else{s=Math.max(0,s),n.integerLen=1,r.length=Math.max(1,h=u+1),r[0]=0;for(let L=1;L<h;L++)r[L]=0}if(_>=5)if(h-1<0){for(let L=0;L>h;L--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[h-1]++;for(;s<Math.max(0,u);s++)r.push(0);let w=0!==u;const T=e+n.integerLen,N=r.reduceRight(function(L,j,z,Q){return Q[z]=(j+=L)<10?j:j-10,w&&(0===Q[z]&&z>=T?Q.pop():w=!1),j>=10?1:0},0);N&&(r.unshift(N),n.integerLen++)}(T,L,j);let z=T.digits,Q=T.integerLen;const le=T.exponent;let ve=[];for(w=z.every(nt=>!nt);Q<N;Q++)z.unshift(0);for(;Q<0;Q++)z.unshift(0);Q>0?ve=z.splice(Q,z.length):(ve=z,z=[0]);const He=[];for(z.length>=e.lgSize&&He.unshift(z.splice(-e.lgSize,z.length).join(""));z.length>e.gSize;)He.unshift(z.splice(-e.gSize,z.length).join(""));z.length&&He.unshift(z.join("")),_=He.join(Qt(t,r)),ve.length&&(_+=Qt(t,s)+ve.join("")),le&&(_+=Qt(t,we.Exponential)+"+"+le)}else _=Qt(t,we.Infinity);return _=n<0&&!w?e.negPre+_+e.negSuf:e.posPre+_+e.posSuf,_}function Ln(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),s=r[0],u=r[1],h=-1!==s.indexOf(".")?s.split("."):[s.substring(0,s.lastIndexOf("0")+1),s.substring(s.lastIndexOf("0")+1)],_=h[0],w=h[1]||"";t.posPre=_.substring(0,_.indexOf("#"));for(let N=0;N<w.length;N++){const L=w.charAt(N);"0"===L?t.minFrac=t.maxFrac=N+1:"#"===L?t.maxFrac=N+1:t.posSuf+=L}const T=_.split(",");if(t.gSize=T[1]?T[1].length:0,t.lgSize=T[2]||T[1]?(T[2]||T[1]).length:0,u){const N=s.length-t.posPre.length-t.posSuf.length,L=u.indexOf("#");t.negPre=u.substring(0,L).replace(/'/g,""),t.negSuf=u.slice(L+N).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function Qo(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function Zr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}let co=(()=>{class n{constructor(t,r,s,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=s,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class gi{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Nr=(()=>{class n{constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,u,h)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new gi(s.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===u?void 0:u);else if(null!==u){const _=r.get(u);r.move(_,h),br(_,s)}});for(let s=0,u=r.length;s<u;s++){const _=r.get(s).context;_.index=s,_.count=u,_.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{br(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function br(n,e){n.context.$implicit=e.item}let sn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Gs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ho("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ho("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Gs{constructor(){this.$implicit=null,this.ngIf=null}}function ho(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}let gr=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:s,ngTemplateOutletContext:u,ngTemplateOutletInjector:h}=this;this._viewRef=r.createEmbeddedView(s,u,h?{injector:h}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]}),n})();function Dr(n,e){return new c.vHH(2100,!1)}const mi=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Ii=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw Dr();return t.replace(mi,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=c.Yjl({name:"titlecase",type:n,pure:!0,standalone:!0}),n})(),Lu=(()=>{class n{constructor(t){this._locale=t}transform(t,r,s){if(!zc(t))return null;s=s||this._locale;try{return function Vl(n,e,t){return xa(n,Ln(pr(e,ee.Percent),Qt(e,we.MinusSign)),e,we.Group,we.Decimal,t,!0).replace(new RegExp("%","g"),Qt(e,we.PercentSign))}(Wc(t),s,r)}catch(u){throw Dr()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16))},n.\u0275pipe=c.Yjl({name:"percent",type:n,pure:!0,standalone:!0}),n})(),be=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,s="symbol",u,h){if(!zc(t))return null;h=h||this._locale,"boolean"==typeof s&&(s=s?"symbol":"code");let _=r||this._defaultCurrencyCode;"code"!==s&&(_="symbol"===s||"symbol-narrow"===s?function zt(n,e,t="en"){const r=function Hi(n){return(0,c.cg1)(n)[c.wAp.Currencies]}(t)[n]||et[n]||[],s=r[1];return"narrow"===e&&"string"==typeof s?s:r[0]||n}(_,"symbol"===s?"wide":"narrow",h):s);try{return function Ao(n,e,t,r,s){const h=Ln(pr(e,ee.Currency),Qt(e,we.MinusSign));return h.minFrac=function dr(n){let e;const t=et[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),h.maxFrac=h.minFrac,xa(n,h,e,we.CurrencyGroup,we.CurrencyDecimal,s).replace("\xa4",t).replace("\xa4","").trim()}(Wc(t),h,_,r,u)}catch(w){throw Dr()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16),c.Y36(c.EJc,16))},n.\u0275pipe=c.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();function zc(n){return!(null==n||""===n||n!=n)}function Wc(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}let Mo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const gf="browser";function Yc(n){return"server"===n}let na=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new pe((0,c.LFG)(Ee),window)}),n})();class pe{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Jc(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const h=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(h)return h}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Z(this.window.history)||Z(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Z(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ra{}class Mn extends de{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class La extends Mn{static makeCurrent(){!function Ce(n){me||(me=n)}(new La)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Yu(){return zi=zi||document.querySelector("base"),zi?zi.getAttribute("href"):null}();return null==t?null:function hl(n){mo=mo||document.createElement("a"),mo.setAttribute("href",n);const e=mo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){zi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Zr(document.cookie,e)}}let mo,zi=null;const Wl=new c.OlP("TRANSITION_ID"),Ju=[{provide:c.ip1,useFactory:function Kl(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=G(),s=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<s.length;u++)r.remove(s[u])})}},deps:[Wl,Ee,c.zs3],multi:!0}];let Zd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Zl=new c.OlP("EventManagerPlugins");let Fo=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}addGlobalEventListener(t,r,s){return this._findPluginFor(r).addGlobalEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const s=this._plugins;for(let u=0;u<s.length;u++){const h=s[u];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Zl),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Qu{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const s=G().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,r)}}let bf=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),r.add(s))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ba=(()=>{class n extends bf{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,s){t.forEach(u=>{const h=this._doc.createElement("style");h.textContent=u,s.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(nd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,s)=>{this._addStylesToHost(t,s,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(nd))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function nd(n){G().remove(n)}const hr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Yl=/%COMP%/g;function Xl(n,e){return e.flat(100).map(t=>t.replace(Yl,n))}function Lo(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ua=(()=>{class n{constructor(t,r,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new gl(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let s=this.rendererByCompId.get(r.id);return s||(s=new tc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,s)),s.applyToHost(t),s}case 1:case c.ifc.ShadowDom:return new Bo(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const s=Xl(r.id,r.styles);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Fo),c.LFG(Ba),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class gl{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(hr[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Wi(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Wi(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const u=hr[s];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=hr[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,s&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Lo(r)):this.eventManager.addEventListener(e,t,Lo(r))}}function Wi(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class tc extends gl{constructor(e,t,r,s){super(e),this.component=r;const u=Xl(s+"-"+r.id,r.styles);t.addStyles(u),this.contentAttr=function fl(n){return"_ngcontent-%COMP%".replace(Yl,n)}(s+"-"+r.id),this.hostAttr=function rd(n){return"_nghost-%COMP%".replace(Yl,n)}(s+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Bo extends gl{constructor(e,t,r,s){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Xl(s.id,s.styles);for(let h=0;h<u.length;h++){const _=document.createElement("style");_.textContent=u[h],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Va=(()=>{class n extends Qu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const nc=["alt","control","meta","shift"],id={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Zs=(()=>{class n extends Qu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const u=n.parseEventName(r),h=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>G().onAndCancel(t,u.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=n._normalizeKey(r.pop());let h="",_=r.indexOf("code");if(_>-1&&(r.splice(_,1),h="code."),nc.forEach(T=>{const N=r.indexOf(T);N>-1&&(r.splice(N,1),h+=T+".")}),h+=u,0!=r.length||0===u.length)return null;const w={};return w.domEventName=s,w.fullKey=h,w}static matchEventFullKeyCode(t,r){let s=id[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(s=t.code,u="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),nc.forEach(h=>{h!==s&&(0,rc[h])(t)&&(u+=h+".")}),u+=s,u===r)}static eventCallback(t,r,s){return u=>{n.matchEventFullKeyCode(u,t)&&s.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const fs=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:gf},{provide:c.g9A,useValue:function ic(){La.makeCurrent()},multi:!0},{provide:Ee,useFactory:function ca(){return(0,c.RDi)(document),document},deps:[]}]),wr=new c.OlP(""),od=[{provide:c.rWj,useClass:class Ks{addToWindow(e){c.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new Error("Could not find testability for element.");return u},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const s=c.dqk.getAllAngularTestabilities();let u=s.length,h=!1;const _=function(w){h=h||w,u--,0==u&&r(h)};s.forEach(function(w){w.whenStable(_)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?G().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Jd=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function yo(){return new c.qLn},deps:[]},{provide:Zl,useClass:Va,multi:!0,deps:[Ee,c.R0b,c.Lbi]},{provide:Zl,useClass:Zs,multi:!0,deps:[Ee]},{provide:ua,useClass:ua,deps:[Fo,Ba,c.AFp]},{provide:c.FYo,useExisting:ua},{provide:bf,useExisting:Ba},{provide:Ba,useClass:Ba,deps:[Ee]},{provide:Fo,useClass:Fo,deps:[Zl,c.R0b]},{provide:Ra,useClass:Zd,deps:[]},[]];let eu=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Wl,useExisting:c.AFp},Ju]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wr,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Jd,...od],imports:[Mo,c.hGG]}),n})(),da=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ee))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ps(){return new da((0,c.LFG)(Ee))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var cn=q(8996),ir=q(9751);const{isArray:Qr}=Array,{getPrototypeOf:Vo,prototype:vl,keys:Ua}=Object;function vo(n){if(1===n.length){const e=n[0];if(Qr(e))return{args:e,keys:null};if(function hc(n){return n&&"object"==typeof n&&Vo(n)===vl}(e)){const t=Ua(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ai=q(8421),$a=q(3269),tr=q(5403),Nt=q(4004);const{isArray:fc}=Array;function pa(n){return(0,Nt.U)(e=>function rh(n,e){return fc(e)?n(...e):n(e)}(n,e))}function R(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}let V=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Y=(()=>{class n extends V{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const oe=new c.OlP("NgValueAccessor"),Mt={provide:oe,useExisting:(0,c.Gpc)(()=>on),multi:!0},Lt=new c.OlP("CompositionEventMode");let on=(()=>{class n extends V{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Bt(){const n=G()?G().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Lt,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[c._Bn([Mt]),c.qOj]}),n})();function Pr(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const Tr=new c.OlP("NgValidators"),_s=new c.OlP("NgAsyncValidators"),xs=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function gm(n){return Pr(n.value)?{required:!0}:null}function mm(n){return Pr(n.value)||xs.test(n.value)?null:{email:!0}}function pc(n){return null}function _m(n){return null!=n}function ou(n){return(0,c.QGY)(n)?(0,cn.D)(n):n}function ym(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Fp(n,e){return e.map(t=>t(n))}function Lp(n){return n.map(e=>function bl(n){return!n.validate}(e)?e:t=>e.validate(t))}function Ns(n){return null!=n?function Ni(n){if(!n)return null;const e=n.filter(_m);return 0==e.length?null:function(t){return ym(Fp(t,e))}}(Lp(n)):null}function vm(n){return null!=n?function sh(n){if(!n)return null;const e=n.filter(_m);return 0==e.length?null:function(t){return function O(...n){const e=(0,$a.jO)(n),{args:t,keys:r}=vo(n),s=new ir.y(u=>{const{length:h}=t;if(!h)return void u.complete();const _=new Array(h);let w=h,T=h;for(let N=0;N<h;N++){let L=!1;(0,ai.Xf)(t[N]).subscribe((0,tr.x)(u,j=>{L||(L=!0,T--),_[N]=j},()=>w--,void 0,()=>{(!w||!L)&&(T||u.next(r?R(r,_):_),u.complete())}))}});return e?s.pipe(pa(e)):s}(Fp(t,e).map(ou)).pipe((0,Nt.U)(ym))}}(Lp(n)):null}function Sf(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function oh(n){return n?Array.isArray(n)?n:[n]:[]}function ah(n,e){return Array.isArray(n)?n.includes(e):n===e}function ad(n,e){const t=oh(e);return oh(n).forEach(s=>{ah(t,s)||t.push(s)}),t}function Uo(n,e){return oh(e).filter(t=>!ah(n,t))}class bm{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ns(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ys extends bm{get formDirective(){return null}get path(){return null}}class au extends bm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Vp{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let wl=(()=>{class n extends Vp{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(au,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[c.qOj]}),n})(),Up=(()=>{class n extends Vp{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ys,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[c.qOj]}),n})();const mc="VALID",Rs="INVALID",Ha="PENDING",_c="DISABLED";function $o(n){return(Mi(n)?n.validators:n)||null}function ch(n,e){return(Mi(e)?e.asyncValidators:n)||null}function Mi(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Ri{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===mc}get invalid(){return this.status===Rs}get pending(){return this.status==Ha}get disabled(){return this.status===_c}get enabled(){return this.status!==_c}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ad(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ad(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Uo(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Uo(e,this._rawAsyncValidators))}hasValidator(e){return ah(this._rawValidators,e)}hasAsyncValidator(e){return ah(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ha,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=_c,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=mc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mc||this.status===Ha)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_c:mc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ha,this._hasOwnPendingAsyncValidator=!0;const t=ou(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,s)=>r&&r._find(s),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?_c:this.errors?Rs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ha)?Ha:this._anyControlsHaveStatus(Rs)?Rs:mc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Mi(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Rf(n){return Array.isArray(n)?Ns(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function lu(n){return Array.isArray(n)?vm(n):n||null}(this._rawAsyncValidators)}}class Eo extends Ri{constructor(e,t,r){super($o(t),ch(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function Cl(n,e,t){n._forEachChild((r,s)=>{if(void 0===t[s])throw new c.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function ud(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[t])throw new c.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const s=this.controls[r];s&&s.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,s)=>((r.enabled||this.disabled)&&(t[s]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,u)=>{r=t(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const ja=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ps}),Ps="always";function yc(n,e,t=Ps){hh(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Ys(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&qp(n,e)})}(n,e),function cu(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Gp(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&qp(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function wm(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function dd(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function hh(n,e){const t=function Bp(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Sf(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function El(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Sf(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();dd(e._rawValidators,s),dd(e._rawAsyncValidators,s)}function qp(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const zp={provide:ys,useExisting:(0,c.Gpc)(()=>_a)},Gn=(()=>Promise.resolve())();let _a=(()=>{class n extends ys{constructor(t,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new Eo({},Ns(t),vm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Gn.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),yc(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Gn.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Gn.then(()=>{const r=this._findContainer(t.path),s=new Eo({});(function Sl(n,e){hh(n,e)})(s,t),r.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Gn.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Gn.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Ec(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Tr,10),c.Y36(_s,10),c.Y36(ja,8))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([zp]),c.qOj]}),n})();function wc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Cc(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const fd=class extends Ri{constructor(e=null,t,r){super($o(t),ch(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mi(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Cc(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){wc(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){wc(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Cc(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Tm={provide:au,useExisting:(0,c.Gpc)(()=>fu)},Os=(()=>Promise.resolve())();let fu=(()=>{class n extends au{constructor(t,r,s,u,h,_){super(),this._changeDetectorRef=h,this.callSetDisabledState=_,this.control=new fd,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function ph(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===on?t=u:function hd(n){return Object.getPrototypeOf(n.constructor)===Y}(u)?r=u:s=u}),s||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function fh(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){yc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Os.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,s=0!==r&&(0,c.D6c)(r);Os.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function ma(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ys,9),c.Y36(Tr,10),c.Y36(_s,10),c.Y36(oe,10),c.Y36(c.sBO,8),c.Y36(ja,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Tm]),c.qOj,c.TTD]}),n})(),_h=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Of={provide:oe,useExisting:(0,c.Gpc)(()=>Js),multi:!0};let Js=(()=>{class n extends Y{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[c._Bn([Of]),c.qOj]}),n})(),yh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();let Dc=(()=>{class n{constructor(){this._validator=pc}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):pc,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const dw={provide:Tr,useExisting:(0,c.Gpc)(()=>Xp),multi:!0};let Xp=(()=>{class n extends Dc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.D6c,this.createValidator=t=>gm}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([dw]),c.qOj]}),n})();const v0={provide:Tr,useExisting:(0,c.Gpc)(()=>tg),multi:!0};let tg=(()=>{class n extends Dc{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=c.D6c,this.createValidator=t=>mm}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[c._Bn([v0]),c.qOj]}),n})();const hy={provide:Tr,useExisting:(0,c.Gpc)(()=>bh),multi:!0};let bh=(()=>{class n extends Dc{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function Lf(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function kp(n){return e=>Pr(e.value)||!function jr(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[c._Bn([hy]),c.qOj]}),n})(),_u=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[yh]}),n})(),b0=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ja,useValue:t.callSetDisabledState??Ps}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[_u]}),n})();function Ut(...n){const e=(0,$a.yG)(n);return(0,cn.D)(n,e)}var Ei=q(7579);class Pi extends Ei.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const ng=(0,q(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Eh=q(4671),gy=q(9672);function my(...n){const e=(0,$a.yG)(n),t=(0,$a.jO)(n),{args:r,keys:s}=vo(n);if(0===r.length)return(0,cn.D)([],e);const u=new ir.y(function _y(n,e,t=Eh.y){return r=>{yy(e,()=>{const{length:s}=n,u=new Array(s);let h=s,_=s;for(let w=0;w<s;w++)yy(e,()=>{const T=(0,cn.D)(n[w],e);let N=!1;T.subscribe((0,tr.x)(r,L=>{u[w]=L,N||(N=!0,_--),_||r.next(t(u.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,s?h=>R(s,h):Eh.y));return t?u.pipe(pa(t)):u}function yy(n,e,t){n?(0,gy.f)(t,n,e):e()}var ks=q(8189);function Vf(...n){return function Bf(){return(0,ks.J)(1)}()((0,cn.D)(n,(0,$a.yG)(n)))}function yd(n){return new ir.y(e=>{(0,ai.Xf)(n()).subscribe(e)})}var rg=q(9635),Xs=q(576);function Ga(n,e){const t=(0,Xs.m)(n)?n:()=>n,r=s=>s.error(t());return new ir.y(e?s=>e.schedule(r,0,s):r)}var yu=q(515),wh=q(727),Or=q(4482);function ya(){return(0,Or.e)((n,e)=>{let t=null;n._refCount++;const r=(0,tr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Rn extends ir.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Or.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new wh.w0;const t=this.getSubject();e.add(this.source.subscribe((0,tr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=wh.w0.EMPTY)}return e}refCount(){return ya()(this)}}function Oi(n,e){return(0,Or.e)((t,r)=>{let s=null,u=0,h=!1;const _=()=>h&&!s&&r.complete();t.subscribe((0,tr.x)(r,w=>{s?.unsubscribe();let T=0;const N=u++;(0,ai.Xf)(n(w,N)).subscribe(s=(0,tr.x)(r,L=>r.next(e?e(w,L,N,T++):L),()=>{s=null,_()}))},()=>{h=!0,_()}))})}function Es(n){return n<=0?()=>yu.E:(0,Or.e)((e,t)=>{let r=0;e.subscribe((0,tr.x)(t,s=>{++r<=n&&(t.next(s),n<=r&&t.complete())}))})}function vd(...n){const e=(0,$a.yG)(n);return(0,Or.e)((t,r)=>{(e?Vf(n,t,e):Vf(n,t)).subscribe(r)})}function ei(n,e){return(0,Or.e)((t,r)=>{let s=0;t.subscribe((0,tr.x)(r,u=>n.call(e,u,s++)&&r.next(u)))})}var di=q(5577);function Om(n){return(0,Or.e)((e,t)=>{let r=!1;e.subscribe((0,tr.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function w0(n=ig){return(0,Or.e)((e,t)=>{let r=!1;e.subscribe((0,tr.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function ig(){return new ng}function qa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ei((s,u)=>n(s,u,r)):Eh.y,Es(1),t?Om(e):w0(()=>new ng))}function bd(n,e){return(0,Xs.m)(e)?(0,di.z)(n,e,1):(0,di.z)(n,1)}var Gr=q(8505);function vu(n){return(0,Or.e)((e,t)=>{let u,r=null,s=!1;r=e.subscribe((0,tr.x)(t,void 0,void 0,h=>{u=(0,ai.Xf)(n(h,vu(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(t))})}function C0(n,e,t,r,s){return(u,h)=>{let _=t,w=e,T=0;u.subscribe((0,tr.x)(h,N=>{const L=T++;w=_?n(w,N,L):(_=!0,N),r&&h.next(w)},s&&(()=>{_&&h.next(w),h.complete()})))}}function eo(n,e){return(0,Or.e)(C0(n,e,arguments.length>=2,!0))}function km(n){return n<=0?()=>yu.E:(0,Or.e)((e,t)=>{let r=[];e.subscribe((0,tr.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function Uf(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ei((s,u)=>n(s,u,r)):Eh.y,km(1),t?Om(e):w0(()=>new ng))}function Dh(n){return(0,Or.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const On="primary",Sh=Symbol("RouteTitle");class _w{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function bu(n){return new _w(n)}function Fm(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let u=0;u<r.length;u++){const h=r[u],_=n[u];if(h.startsWith(":"))s[h.substring(1)]=_;else if(h!==_.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function wi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!Ed(n[s],e[s]))return!1;return!0}function Ed(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,u)=>r[u]===s)}return n===e}function Bm(n){return Array.prototype.concat.apply([],n)}function Vm(n){return n.length>0?n[n.length-1]:null}function hi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Sc(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,cn.D)(Promise.resolve(n)):Ut(n)}const sg=!1,yw={exact:function S0(n,e,t){if(!wd(n.segments,e.segments)||!og(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!S0(n.children[r],e.children[r],t))return!1;return!0},subset:Il},by={exact:function vw(n,e){return wi(n,e)},subset:function Th(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ed(n[t],e[t]))},ignored:()=>!0};function D0(n,e,t){return yw[t.paths](n.root,e.root,t.matrixParams)&&by[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Il(n,e,t){return T0(n,e,e.segments,t)}function T0(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!wd(s,t)||e.hasChildren()||!og(s,t,r))}if(n.segments.length===t.length){if(!wd(n.segments,t)||!og(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!Il(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(wd(n.segments,s)&&og(n.segments,s,r)&&n.children[On])&&T0(n.children[On],e,u,r)}}function og(n,e,t){return e.every((r,s)=>by[t](n[s].parameters,r.parameters))}class ag{constructor(e=new Un([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bu(this.queryParams)),this._queryParamMap}toString(){return bw.serialize(this)}}class Un{constructor(e,t){this.segments=e,this.children=t,this.parent=null,hi(t,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $m(this)}}class lg{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=bu(this.parameters)),this._parameterMap}toString(){return Cy(this)}}function wd(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ug=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new Um},providedIn:"root"}),n})();class Um{parse(e){const t=new Cd(e);return new ag(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${to(e.root,!0)}`,r=function Cw(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${$f(t)}=${$f(s)}`).join("&"):`${$f(t)}=${$f(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Ew(n){return encodeURI(n)}(e.fragment)}`:""}`}}const bw=new Um;function $m(n){return n.segments.map(e=>Cy(e)).join("/")}function to(n,e){if(!n.hasChildren())return $m(n);if(e){const t=n.children[On]?to(n.children[On],!1):"",r=[];return hi(n.children,(s,u)=>{u!==On&&r.push(`${u}:${to(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function I0(n,e){let t=[];return hi(n.children,(r,s)=>{s===On&&(t=t.concat(e(r,s)))}),hi(n.children,(r,s)=>{s!==On&&(t=t.concat(e(r,s)))}),t}(n,(r,s)=>s===On?[to(n.children[On],!1)]:[`${s}:${to(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[On]?`${$m(n)}/${t[0]}`:`${$m(n)}/(${t.join("//")})`}}function A0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $f(n){return A0(n).replace(/%3B/gi,";")}function Hm(n){return A0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cg(n){return decodeURIComponent(n)}function wy(n){return cg(n.replace(/\+/g,"%20"))}function Cy(n){return`${Hm(n.path)}${function ww(n){return Object.keys(n).map(e=>`;${Hm(e)}=${Hm(n[e])}`).join("")}(n.parameters)}`}const Dw=/^[^\/()?;=#]+/;function vn(n){const e=n.match(Dw);return e?e[0]:""}const x0=/^[^=?&#]+/,jm=/^[^&#]+/;class Cd{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Un([],{}):new Un([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[On]=new Un(e,t)),r}parseSegment(){const e=vn(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,sg);return this.capture(e),new lg(cg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=vn(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=vn(this.remaining);s&&(r=s,this.capture(r))}e[cg(t)]=cg(r)}parseQueryParam(e){const t=function Sw(n){const e=n.match(x0);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function Dy(n){const e=n.match(jm);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const s=wy(t),u=wy(r);if(e.hasOwnProperty(s)){let h=e[s];Array.isArray(h)||(h=[h],e[s]=h),h.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=vn(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new c.vHH(4010,sg);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=On);const h=this.parseChildren();t[u]=1===Object.keys(h).length?h[On]:new Un([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,sg)}}function Gm(n){return n.segments.length>0?new Un([],{[On]:n}):n}function qm(n){const e={};for(const r of Object.keys(n.children)){const u=qm(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function N0(n){if(1===n.numberOfChildren&&n.children[On]){const e=n.children[On];return new Un(n.segments.concat(e.segments),e.children)}return n}(new Un(n.segments,e))}function Ih(n){return n instanceof ag}function Ah(n,e,t,r,s){if(0===t.length)return Tc(e.root,e.root,e.root,r,s);const u=function Iw(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Tw(!0,0,n);let e=0,t=!1;const r=n.reduce((s,u,h)=>{if("object"==typeof u&&null!=u){if(u.outlets){const _={};return hi(u.outlets,(w,T)=>{_[T]="string"==typeof w?w.split("/"):w}),[...s,{outlets:_}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===h?(u.split("/").forEach((_,w)=>{0==w&&"."===_||(0==w&&""===_?t=!0:".."===_?e++:""!=_&&s.push(_))}),s):[...s,u]},[]);return new Tw(t,e,r)}(t);return u.toRoot()?Tc(e.root,e.root,new Un([],{}),r,s):function h(w){const T=function Ty(n,e,t,r){if(n.isAbsolute)return new hg(e.root,!0,0);if(-1===r)return new hg(t,t===e.root,0);return function O0(n,e,t){let r=n,s=e,u=t;for(;u>s;){if(u-=s,r=r.parent,!r)throw new c.vHH(4005,!1);s=r.segments.length}return new hg(r,!1,s-u)}(t,r+(dg(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,w),N=T.processChildren?fg(T.segmentGroup,T.index,u.commands):Ic(T.segmentGroup,T.index,u.commands);return Tc(e.root,T.segmentGroup,N,r,s)}(n.snapshot?._lastPathIndex)}function dg(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function xh(n){return"object"==typeof n&&null!=n&&n.outlets}function Tc(n,e,t,r,s){let h,u={};r&&hi(r,(w,T)=>{u[T]=Array.isArray(w)?w.map(N=>`${N}`):`${w}`}),h=n===e?t:Ir(n,e,t);const _=Gm(qm(h));return new ag(_,u,s)}function Ir(n,e,t){const r={};return hi(n.children,(s,u)=>{r[u]=s===e?t:Ir(s,e,t)}),new Un(n.segments,r)}class Tw{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&dg(r[0]))throw new c.vHH(4003,!1);const s=r.find(xh);if(s&&s!==Vm(r))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hg{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Ic(n,e,t){if(n||(n=new Un([],{})),0===n.segments.length&&n.hasChildren())return fg(n,e,t);const r=function Hf(n,e,t){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return u;const h=n.segments[s],_=t[r];if(xh(_))break;const w=`${_}`,T=r<t.length-1?t[r+1]:null;if(s>0&&void 0===w)break;if(w&&T&&"object"==typeof T&&void 0===T.outlets){if(!L0(w,T,h))return u;r+=2}else{if(!L0(w,{},h))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Un(n.segments.slice(0,r.pathIndex),{});return u.children[On]=new Un(n.segments.slice(r.pathIndex),n.children),fg(u,0,s)}return r.match&&0===s.length?new Un(n.segments,{}):r.match&&!n.hasChildren()?va(n,e,t):r.match?fg(n,0,s):va(n,e,t)}function fg(n,e,t){if(0===t.length)return new Un(n.segments,{});{const r=function k0(n){return xh(n[0])?n[0].outlets:{[On]:n}}(t),s={};return hi(r,(u,h)=>{"string"==typeof u&&(u=[u]),null!==u&&(s[h]=Ic(n.children[h],e,u))}),hi(n.children,(u,h)=>{void 0===r[h]&&(s[h]=u)}),new Un(n.segments,s)}}function va(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(xh(u)){const w=F0(u.outlets);return new Un(r,w)}if(0===s&&dg(t[0])){r.push(new lg(n.segments[e].path,Iy(t[0]))),s++;continue}const h=xh(u)?u.outlets[On]:`${u}`,_=s<t.length-1?t[s+1]:null;h&&_&&dg(_)?(r.push(new lg(h,Iy(_))),s+=2):(r.push(new lg(h,{})),s++)}return new Un(r,{})}function F0(n){const e={};return hi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=va(new Un([],{}),0,t))}),e}function Iy(n){const e={};return hi(n,(t,r)=>e[r]=`${t}`),e}function L0(n,e,t){return n==t.path&&wi(e,t.parameters)}class Ac{constructor(e,t){this.id=e,this.url=t}}class Ay extends Ac{constructor(e,t,r="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dd extends Ac{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jf extends Ac{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xy extends Ac{constructor(e,t,r,s){super(e,t),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Aw extends Ac{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class B0 extends Ac{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class no extends Ac{constructor(e,t,r,s,u){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ny extends Ac{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class V0 extends Ac{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pg{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class U0{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xw{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gf{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $0{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nw{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zm{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Wm=(()=>{class n{createUrlTree(t,r,s,u,h,_){return Ah(t||r.root,s,u,h,_)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),My=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){return Wm.\u0275fac(e)},providedIn:"root"}),n})();class zf{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=gg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=gg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Wf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Wf(e,this._root).map(t=>t.value)}}function gg(n,e){if(n===e.value)return e;for(const t of e.children){const r=gg(n,t);if(r)return r}return null}function Wf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Wf(n,t);if(r.length)return r.unshift(e),r}return[]}class Eu{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Sd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Km extends zf{constructor(e,t){super(e),this.snapshot=t,Zm(this,e)}toString(){return this.snapshot.toString()}}function za(n,e){const t=function j0(n,e){const h=new mg([],{},{},"",{},On,e,null,n.root,-1,{});return new q0("",new Eu(h,[]))}(n,e),r=new Pi([new lg("",{})]),s=new Pi({}),u=new Pi({}),h=new Pi({}),_=new Pi(""),w=new wu(r,s,h,_,u,On,e,t.root);return w.snapshot=t.root,new Km(new Eu(w,[]),t)}class wu{constructor(e,t,r,s,u,h,_,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=h,this.component=_,this.title=this.data?.pipe((0,Nt.U)(T=>T[Sh]))??Ut(void 0),this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Nt.U)(e=>bu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Nt.U)(e=>bu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function G0(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],u=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function Mw(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class mg{constructor(e,t,r,s,u,h,_,w,T,N,L){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=h,this.component=_,this.routeConfig=w,this._urlSegment=T,this._lastPathIndex=N,this._resolve=L}get title(){return this.data?.[Sh]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class q0 extends zf{constructor(e,t){super(t),this.url=e,Zm(this,t)}toString(){return Ry(this._root)}}function Zm(n,e){e.value._routerState=n,e.children.forEach(t=>Zm(n,t))}function Ry(n){const e=n.children.length>0?` { ${n.children.map(Ry).join(", ")} } `:"";return`${n.value}${e}`}function Py(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,wi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),wi(e.params,t.params)||n.params.next(t.params),function Lm(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!wi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),wi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Oy(n,e){const t=wi(n.params,e.params)&&function Ey(n,e){return wd(n,e)&&n.every((t,r)=>wi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Oy(n.parent,e.parent))}function Kf(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function Rw(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return Kf(n,r,s);return Kf(n,r)})}(n,e,t);return new Eu(r,s)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const h=u.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(_=>Kf(n,_)),h}}const r=function n1(n){return new wu(new Pi(n.url),new Pi(n.params),new Pi(n.queryParams),new Pi(n.fragment),new Pi(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(u=>Kf(n,u));return new Eu(r,s)}}const _g="ngNavigationCancelingError";function ky(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ih(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=Ym(!1,0,e);return s.url=t,s.navigationBehaviorOptions=r,s}function Ym(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[_g]=!0,r.cancellationCode=e,t&&(r.url=t),r}function z0(n){return W0(n)&&Ih(n.url)}function W0(n){return n&&n[_g]}class Fy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Nh,this.attachRef=null}}let Nh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Fy,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jm=!1;let Wa=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=On,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(Nh),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:s}=t.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,Jm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,Jm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,Jm);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new c.vHH(4013,Jm);this._activatedRoute=t;const s=this.location,h=t.snapshot.component,_=this.parentContexts.getOrCreateContext(this.name).children,w=new K0(t,_,s.injector);if(r&&function Pw(n){return!!n.resolveComponentFactory}(r)){const T=r.resolveComponentFactory(h);this.activated=s.createComponent(T,s.length,w)}else this.activated=s.createComponent(h,{index:s.length,injector:w,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),n})();class K0{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===wu?this.route:e===Nh?this.childContexts:this.parent.get(e,t)}}let yg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[Wa],encapsulation:2}),n})();function Ly(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Yf(n){const e=n.children&&n.children.map(Yf),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==On&&(t.component=yg),t}function jo(n){return n.outlet||On}function J0(n,e){const t=n.filter(r=>jo(r)===e);return t.push(...n.filter(r=>jo(r)!==e)),t}function Jf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Vy{constructor(e,t,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Py(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=Sd(t);e.children.forEach(u=>{const h=u.value.outlet;this.deactivateRoutes(u,s[h],r),delete s[h]}),hi(s,(u,h)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const h=r.getContext(s.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=Sd(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],s);if(r&&r.outlet){const h=r.outlet.detach(),_=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:_})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=Sd(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],s);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const s=Sd(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new Nw(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Gf(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(Py(s),s===u)if(s.component){const h=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const h=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const _=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),h.children.onOutletReAttached(_.contexts),h.attachRef=_.componentRef,h.route=_.route.value,h.outlet&&h.outlet.attach(_.componentRef,_.route.value),Py(_.route.value),this.activateChildRoutes(e,null,h.children)}else{const _=Jf(s.snapshot),w=_?.get(c._Vd)??null;h.attachRef=null,h.route=s,h.resolver=w,h.injector=_,h.outlet&&h.outlet.activateWith(s,h.injector),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class bg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Xm{constructor(e,t){this.component=e,this.route=t}}function Qf(n,e,t){const r=n._root;return Xf(r,e?e._root:null,t,[r.value])}function Mh(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:r}function Xf(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=Sd(e);return n.children.forEach(h=>{(function Q0(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,h=e?e.value:null,_=t?t.getContext(n.value.outlet):null;if(h&&u.routeConfig===h.routeConfig){const w=function X0(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!wd(n.url,e.url);case"pathParamsOrQueryParamsChange":return!wd(n.url,e.url)||!wi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Oy(n,e)||!wi(n.queryParams,e.queryParams);default:return!Oy(n,e)}}(h,u,u.routeConfig.runGuardsAndResolvers);w?s.canActivateChecks.push(new bg(r)):(u.data=h.data,u._resolvedData=h._resolvedData),Xf(n,e,u.component?_?_.children:null:t,r,s),w&&_&&_.outlet&&_.outlet.isActivated&&s.canDeactivateChecks.push(new Xm(_.outlet.component,h))}else h&&Nc(e,_,s),s.canActivateChecks.push(new bg(r)),Xf(n,null,u.component?_?_.children:null:t,r,s)})(h,u[h.value.outlet],t,r.concat([h.value]),s),delete u[h.value.outlet]}),hi(u,(h,_)=>Nc(h,t.getContext(_),s)),s}function Nc(n,e,t){const r=Sd(n),s=n.value;hi(r,(u,h)=>{Nc(u,s.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new Xm(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function ro(n){return"function"==typeof n}function Td(n){return n instanceof ng||"EmptyError"===n?.name}const t_=Symbol("INITIAL_VALUE");function Cg(){return Oi(n=>my(n.map(e=>e.pipe(Es(1),vd(t_)))).pipe((0,Nt.U)(e=>{for(const t of e)if(!0!==t){if(t===t_)return t_;if(!1===t||t instanceof ag)return t}return!0}),ei(e=>e!==t_),Es(1)))}function $y(n){return(0,rg.z)((0,Gr.b)(e=>{if(Ih(e))throw ky(0,e)}),(0,Nt.U)(e=>!0===e))}const Hy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ib(n,e,t,r,s){const u=r_(n,e,t);return u.matched?function n_(n,e,t,r){const s=e.canMatch;return s&&0!==s.length?Ut(s.map(h=>{const _=Mh(h,n);return Sc(function eb(n){return n&&ro(n.canMatch)}(_)?_.canMatch(e,t):n.runInContext(()=>_(e,t)))})).pipe(Cg(),$y()):Ut(!0)}(r=Ly(e,r),e,t).pipe((0,Nt.U)(h=>!0===h?u:{...Hy})):Ut(u)}function r_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Hy}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||Fm)(t,n,e);if(!s)return{...Hy};const u={};hi(s.posParams,(_,w)=>{u[w]=_.path});const h=s.consumed.length>0?{...u,...s.consumed[s.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:h,positionalParamSegments:s.posParams??{}}}function i_(n,e,t,r){if(t.length>0&&function jw(n,e,t){return t.some(r=>Tg(n,e,r)&&jo(r)!==On)}(n,t,r)){const u=new Un(e,function Hw(n,e,t,r){const s={};s[On]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&jo(u)!==On){const h=new Un([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,s[jo(u)]=h}return s}(n,e,r,new Un(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function sb(n,e,t){return t.some(r=>Tg(n,e,r))}(n,t,r)){const u=new Un(n.segments,function $w(n,e,t,r,s){const u={};for(const h of r)if(Tg(n,t,h)&&!s[jo(h)]){const _=new Un([],{});_._sourceSegment=n,_._segmentIndexShift=e.length,u[jo(h)]=_}return{...s,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const s=new Un(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Tg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function ob(n,e,t,r){return!!(jo(n)===r||r!==On&&Tg(e,t,n))&&("**"===n.path||r_(e,n,t).matched)}function ab(n,e,t){return 0===e.length&&!n.children[t]}const Ig=!1;class Cu{constructor(e){this.segmentGroup=e||null}}class Id{constructor(e){this.urlTree=e}}function s_(n){return Ga(new Cu(n))}function Rh(n){return Ga(new Id(n))}class cb{constructor(e,t,r,s,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=s,this.config=u,this.allowRedirects=!0}apply(){const e=i_(this.urlTree.root,[],[],this.config).segmentGroup,t=new Un(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,On).pipe((0,Nt.U)(u=>this.createUrlTree(qm(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vu(u=>{if(u instanceof Id)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Cu?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,On).pipe((0,Nt.U)(s=>this.createUrlTree(qm(s),e.queryParams,e.fragment))).pipe(vu(s=>{throw s instanceof Cu?this.noMatchError(s):s}))}noMatchError(e){return new c.vHH(4002,Ig)}createUrlTree(e,t,r){const s=Gm(e);return new ag(s,t,r)}expandSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Nt.U)(u=>new Un([],u))):this.expandSegment(e,r,t,r.segments,s,!0)}expandChildren(e,t,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,cn.D)(s).pipe(bd(u=>{const h=r.children[u],_=J0(t,u);return this.expandSegmentGroup(e,_,h,u).pipe((0,Nt.U)(w=>({segment:w,outlet:u})))}),eo((u,h)=>(u[h.outlet]=h.segment,u),{}),Uf())}expandSegment(e,t,r,s,u,h){return(0,cn.D)(r).pipe(bd(_=>this.expandSegmentAgainstRoute(e,t,r,_,s,u,h).pipe(vu(T=>{if(T instanceof Cu)return Ut(null);throw T}))),qa(_=>!!_),vu((_,w)=>{if(Td(_))return ab(t,s,u)?Ut(new Un([],{})):s_(t);throw _}))}expandSegmentAgainstRoute(e,t,r,s,u,h,_){return ob(s,t,u,h)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,u,h):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,h):s_(t):s_(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,h){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Rh(u):this.lineralizeSegments(r,u).pipe((0,di.z)(h=>{const _=new Un(h,{});return this.expandSegment(e,_,t,h,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,h){const{matched:_,consumedSegments:w,remainingSegments:T,positionalParamSegments:N}=r_(t,s,u);if(!_)return s_(t);const L=this.applyRedirectCommands(w,s.redirectTo,N);return s.redirectTo.startsWith("/")?Rh(L):this.lineralizeSegments(s,L).pipe((0,di.z)(j=>this.expandSegment(e,t,r,j.concat(T),h,!1)))}matchSegmentAgainstRoute(e,t,r,s,u){return"**"===r.path?(e=Ly(r,e),r.loadChildren?(r._loadedRoutes?Ut({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Nt.U)(_=>(r._loadedRoutes=_.routes,r._loadedInjector=_.injector,new Un(s,{})))):Ut(new Un(s,{}))):ib(t,r,s,e).pipe(Oi(({matched:h,consumedSegments:_,remainingSegments:w})=>h?this.getChildConfig(e=r._injector??e,r,s).pipe((0,di.z)(N=>{const L=N.injector??e,j=N.routes,{segmentGroup:z,slicedSegments:Q}=i_(t,_,w,j),le=new Un(z.segments,z.children);if(0===Q.length&&le.hasChildren())return this.expandChildren(L,j,le).pipe((0,Nt.U)(ht=>new Un(_,ht)));if(0===j.length&&0===Q.length)return Ut(new Un(_,{}));const ve=jo(r)===u;return this.expandSegment(L,le,j,Q,ve?On:u,!0).pipe((0,Nt.U)(nt=>new Un(_.concat(nt.segments),nt.children)))})):s_(t)))}getChildConfig(e,t,r){return t.children?Ut({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ut({routes:t._loadedRoutes,injector:t._loadedInjector}):function Sg(n,e,t,r){const s=e.canLoad;return void 0===s||0===s.length?Ut(!0):Ut(s.map(h=>{const _=Mh(h,n);return Sc(function e_(n){return n&&ro(n.canLoad)}(_)?_.canLoad(e,t):n.runInContext(()=>_(e,t)))})).pipe(Cg(),$y())}(e,t,r).pipe((0,di.z)(s=>s?this.configLoader.loadChildren(e,t).pipe((0,Gr.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function ub(n){return Ga(Ym(Ig,3))}())):Ut({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return Ut(r);if(s.numberOfChildren>1||!s.children[On])return Ga(new c.vHH(4e3,Ig));s=s.children[On]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,s){const u=this.createSegmentGroup(e,t.root,r,s);return new ag(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return hi(e,(s,u)=>{if("string"==typeof s&&s.startsWith(":")){const _=s.substring(1);r[u]=t[_]}else r[u]=s}),r}createSegmentGroup(e,t,r,s){const u=this.createSegments(e,t.segments,r,s);let h={};return hi(t.children,(_,w)=>{h[w]=this.createSegmentGroup(e,_,r,s)}),new Un(u,h)}createSegments(e,t,r,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new c.vHH(4001,Ig);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}class io{}class Go{constructor(e,t,r,s,u,h,_){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=s,this.url=u,this.paramsInheritanceStrategy=h,this.urlSerializer=_}recognize(){const e=i_(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,On).pipe((0,Nt.U)(t=>{if(null===t)return null;const r=new mg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},On,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Eu(r,t),u=new q0(this.url,s);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=G0(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,s)}processChildren(e,t,r){return(0,cn.D)(Object.keys(r.children)).pipe(bd(s=>{const u=r.children[s],h=J0(t,s);return this.processSegmentGroup(e,h,u,s)}),eo((s,u)=>s&&u?(s.push(...u),s):null),function mw(n,e=!1){return(0,Or.e)((t,r)=>{let s=0;t.subscribe((0,tr.x)(r,u=>{const h=n(u,s++);(h||e)&&r.next(u),!h&&r.complete()}))})}(s=>null!==s),Om(null),Uf(),(0,Nt.U)(s=>{if(null===s)return null;const u=Ka(s);return function jy(n){n.sort((e,t)=>e.value.outlet===On?-1:t.value.outlet===On?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,s,u){return(0,cn.D)(t).pipe(bd(h=>this.processSegmentAgainstRoute(h._injector??e,h,r,s,u)),qa(h=>!!h),vu(h=>{if(Td(h))return ab(r,s,u)?Ut([]):Ut(null);throw h}))}processSegmentAgainstRoute(e,t,r,s,u){if(t.redirectTo||!ob(t,r,s,u))return Ut(null);let h;if("**"===t.path){const _=s.length>0?Vm(s).parameters:{},w=Lh(r)+s.length;h=Ut({snapshot:new mg(s,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xd(t),jo(t),t.component??t._loadedComponent??null,t,Ad(r),w,Nd(t)),consumedSegments:[],remainingSegments:[]})}else h=ib(r,t,s,e).pipe((0,Nt.U)(({matched:_,consumedSegments:w,remainingSegments:T,parameters:N})=>{if(!_)return null;const L=Lh(r)+w.length;return{snapshot:new mg(w,N,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xd(t),jo(t),t.component??t._loadedComponent??null,t,Ad(r),L,Nd(t)),consumedSegments:w,remainingSegments:T}}));return h.pipe(Oi(_=>{if(null===_)return Ut(null);const{snapshot:w,consumedSegments:T,remainingSegments:N}=_;e=t._injector??e;const L=t._loadedInjector??e,j=function ep(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:z,slicedSegments:Q}=i_(r,T,N,j.filter(ve=>void 0===ve.redirectTo));if(0===Q.length&&z.hasChildren())return this.processChildren(L,j,z).pipe((0,Nt.U)(ve=>null===ve?null:[new Eu(w,ve)]));if(0===j.length&&0===Q.length)return Ut([new Eu(w,[])]);const le=jo(t)===u;return this.processSegment(L,j,z,Q,le?On:u).pipe((0,Nt.U)(ve=>null===ve?null:[new Eu(w,ve)]))}))}}function kh(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Ka(n){const e=[],t=new Set;for(const r of n){if(!kh(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=Ka(r.children);e.push(new Eu(r.value,s))}return e.filter(r=>!t.has(r))}function Ad(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Lh(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function xd(n){return n.data||{}}function Nd(n){return n.resolve||{}}function hb(n,e){return(0,di.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return Ut(t);let u=0;return(0,cn.D)(s).pipe(bd(h=>function fb(n,e,t,r){const s=n.routeConfig,u=n._resolve;return void 0!==s?.title&&!Gy(s)&&(u[Sh]=s.title),function pb(n,e,t,r){const s=function gb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return Ut({});const u={};return(0,cn.D)(s).pipe((0,di.z)(h=>function Ag(n,e,t,r){const s=Jf(e)??r,u=Mh(n,s);return Sc(u.resolve?u.resolve(e,t):s.runInContext(()=>u(e,t)))}(n[h],e,t,r).pipe(qa(),(0,Gr.b)(_=>{u[h]=_}))),km(1),function Ch(n){return(0,Nt.U)(()=>n)}(u),vu(h=>Td(h)?yu.E:Ga(h)))}(u,n,e,r).pipe((0,Nt.U)(h=>(n._resolvedData=h,n.data=G0(n,t).resolve,s&&Gy(s)&&(n.data[Sh]=s.title),null)))}(h.route,r,n,e)),(0,Gr.b)(()=>u++),km(1),(0,di.z)(h=>u===s.length?Ut(t):yu.E))})}function Gy(n){return"string"==typeof n.title||null===n.title}function l_(n){return Oi(e=>{const t=n(e);return t?(0,cn.D)(t).pipe((0,Nt.U)(()=>e)):Ut(e)})}const xg=new c.OlP("ROUTES");let u_=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ut(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Sc(t.loadComponent()).pipe((0,Nt.U)(Bh),(0,Gr.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Dh(()=>{this.componentLoaders.delete(t)})),s=new Rn(r,()=>new Ei.x).pipe(ya());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ut({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Nt.U)(_=>{this.onLoadEndListener&&this.onLoadEndListener(r);let w,T,N=!1;Array.isArray(_)?T=_:(w=_.create(t).injector,T=Bm(w.get(xg,[],c.XFs.Self|c.XFs.Optional)));return{routes:T.map(Yf),injector:w}}),Dh(()=>{this.childrenLoaders.delete(r)})),h=new Rn(u,()=>new Ei.x).pipe(ya());return this.childrenLoaders.set(r,h),h}loadModuleFactoryOrRoutes(t){return Sc(t()).pipe((0,Nt.U)(Bh),(0,di.z)(s=>s instanceof c.YKP||Array.isArray(s)?Ut(s):(0,cn.D)(this.compiler.compileModuleAsync(s))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Bh(n){return function _b(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Ng=(()=>{class n{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ei.x,this.configLoader=(0,c.f3M)(u_),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(ug),this.rootContexts=(0,c.f3M)(Nh),this.navigationId=0,this.configLoader.onLoadEndListener=s=>this.events.next(new U0(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new pg(s))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Pi({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ei(r=>0!==r.id),(0,Nt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Oi(r=>{let s=!1,u=!1;return Ut(r).pipe((0,Gr.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Oi(h=>{const _=t.browserUrlTree.toString(),w=!t.navigated||h.extractedUrl.toString()!==_||_!==t.currentUrlTree.toString();if(("reload"===t.onSameUrlNavigation||w)&&t.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return yb(h.source)&&(t.browserUrlTree=h.extractedUrl),Ut(h).pipe(Oi(N=>{const L=this.transitions?.getValue();return this.events.next(new Ay(N.id,this.urlSerializer.serialize(N.extractedUrl),N.source,N.restoredState)),L!==this.transitions?.getValue()?yu.E:Promise.resolve(N)}),function Du(n,e,t,r){return Oi(s=>function o_(n,e,t,r,s){return new cb(n,e,t,r,s).apply()}(n,e,t,s.extractedUrl,r).pipe((0,Nt.U)(u=>({...s,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Gr.b)(N=>{this.currentNavigation={...this.currentNavigation,finalUrl:N.urlAfterRedirects},r.urlAfterRedirects=N.urlAfterRedirects}),function db(n,e,t,r,s){return(0,di.z)(u=>function a_(n,e,t,r,s,u,h="emptyOnly"){return new Go(n,e,t,r,s,h,u).recognize().pipe(Oi(_=>null===_?function Oh(n){return new ir.y(e=>e.error(n))}(new io):Ut(_)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,s).pipe((0,Nt.U)(h=>({...u,targetSnapshot:h}))))}(this.environmentInjector,t.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Gr.b)(N=>{if(r.targetSnapshot=N.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!N.extras.skipLocationChange){const j=t.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl);t.setBrowserUrl(j,N)}t.browserUrlTree=N.urlAfterRedirects}const L=new Aw(N.id,this.urlSerializer.serialize(N.extractedUrl),this.urlSerializer.serialize(N.urlAfterRedirects),N.targetSnapshot);this.events.next(L)}));if(w&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:L,extractedUrl:j,source:z,restoredState:Q,extras:le}=h,ve=new Ay(L,this.urlSerializer.serialize(j),z,Q);this.events.next(ve);const He=za(j,t.rootComponentType).snapshot;return Ut(r={...h,targetSnapshot:He,urlAfterRedirects:j,extras:{...le,skipLocationChange:!1,replaceUrl:!1}})}return t.rawUrlTree=h.rawUrl,h.resolve(null),yu.E}),(0,Gr.b)(h=>{const _=new B0(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(_)}),(0,Nt.U)(h=>r={...h,guards:Qf(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function nb(n,e){return(0,di.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:h}}=t;return 0===h.length&&0===u.length?Ut({...t,guardsResult:!0}):function Fw(n,e,t,r){return(0,cn.D)(n).pipe((0,di.z)(s=>function Dg(n,e,t,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?Ut(u.map(_=>{const w=Jf(e)??s,T=Mh(_,w);return Sc(function Uy(n){return n&&ro(n.canDeactivate)}(T)?T.canDeactivate(n,e,t,r):w.runInContext(()=>T(n,e,t,r))).pipe(qa())})).pipe(Cg()):Ut(!0)}(s.component,s.route,t,e,r)),qa(s=>!0!==s,!0))}(h,r,s,n).pipe((0,di.z)(_=>_&&function Eg(n){return"boolean"==typeof n}(_)?function rb(n,e,t,r){return(0,cn.D)(e).pipe(bd(s=>Vf(function Bw(n,e){return null!==n&&e&&e(new xw(n)),Ut(!0)}(s.route.parent,r),function Lw(n,e){return null!==n&&e&&e(new $0(n)),Ut(!0)}(s.route,r),function Uw(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(h=>function Ow(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>yd(()=>Ut(h.guards.map(w=>{const T=Jf(h.node)??t,N=Mh(w,T);return Sc(function kw(n){return n&&ro(n.canActivateChild)}(N)?N.canActivateChild(r,n):T.runInContext(()=>N(r,n))).pipe(qa())})).pipe(Cg())));return Ut(u).pipe(Cg())}(n,s.path,t),function Vw(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ut(!0);const s=r.map(u=>yd(()=>{const h=Jf(e)??t,_=Mh(u,h);return Sc(function wg(n){return n&&ro(n.canActivate)}(_)?_.canActivate(e,n):h.runInContext(()=>_(e,n))).pipe(qa())}));return Ut(s).pipe(Cg())}(n,s.route,t))),qa(s=>!0!==s,!0))}(r,u,n,e):Ut(_)),(0,Nt.U)(_=>({...t,guardsResult:_})))})}(this.environmentInjector,h=>this.events.next(h)),(0,Gr.b)(h=>{if(r.guardsResult=h.guardsResult,Ih(h.guardsResult))throw ky(0,h.guardsResult);const _=new no(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.events.next(_)}),ei(h=>!!h.guardsResult||(t.restoreHistory(h),this.cancelNavigationTransition(h,"",3,t),!1)),l_(h=>{if(h.guards.canActivateChecks.length)return Ut(h).pipe((0,Gr.b)(_=>{const w=new Ny(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(w)}),Oi(_=>{let w=!1;return Ut(_).pipe(hb(t.paramsInheritanceStrategy,this.environmentInjector),(0,Gr.b)({next:()=>w=!0,complete:()=>{w||(t.restoreHistory(_),this.cancelNavigationTransition(_,"",2,t))}}))}),(0,Gr.b)(_=>{const w=new V0(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(w)}))}),l_(h=>{const _=w=>{const T=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,Gr.b)(N=>{w.component=N}),(0,Nt.U)(()=>{})));for(const N of w.children)T.push(..._(N));return T};return my(_(h.targetSnapshot.root)).pipe(Om(),Es(1))}),l_(()=>t.afterPreactivation()),(0,Nt.U)(h=>{const _=function ba(n,e,t){const r=Kf(n,e._root,t?t._root:void 0);return new Km(r,e)}(t.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r={...h,targetRouterState:_}}),(0,Gr.b)(h=>{t.currentUrlTree=h.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),t.routerState=h.targetRouterState,"deferred"===t.urlUpdateStrategy&&(h.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,h),t.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,Nt.U)(r=>(new Vy(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,h=>this.events.next(h)),(0,Gr.b)({next:h=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Dd(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(h.targetRouterState.snapshot),h.resolve(!0)},complete:()=>{s=!0}}),Dh(()=>{s||u||this.cancelNavigationTransition(r,"",1,t),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),vu(h=>{if(u=!0,W0(h)){z0(h)||(t.navigated=!0,t.restoreHistory(r,!0));const _=new jf(r.id,this.urlSerializer.serialize(r.extractedUrl),h.message,h.cancellationCode);if(this.events.next(_),z0(h)){const w=t.urlHandlingStrategy.merge(h.url,t.rawUrlTree),T={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||yb(r.source)};t.scheduleNavigation(w,"imperative",null,T,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const _=new xy(r.id,this.urlSerializer.serialize(r.extractedUrl),h,r.targetSnapshot??void 0);this.events.next(_);try{r.resolve(t.errorHandler(h))}catch(w){r.reject(w)}}return yu.E}))}))}cancelNavigationTransition(t,r,s,u){const h=new jf(t.id,this.urlSerializer.serialize(t.extractedUrl),r,s);this.events.next(h),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yb(n){return"imperative"!==n}let np=(()=>{class n{buildTitle(t){let r,s=t.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(u=>u.outlet===On);return r}getResolvedTitleForRoute(t){return t.data[Sh]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(d_)},providedIn:"root"}),n})(),d_=(()=>{class n extends np{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(da))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Za)},providedIn:"root"}),n})();class qw{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Za=(()=>{class n extends qw{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rg=new c.OlP("",{providedIn:"root",factory:()=>({})});let vb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(zy)},providedIn:"root"}),n})(),zy=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bb(n){throw n}function Wy(n,e,t){return e.parse("/")}const Eb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yi=(()=>{class n{constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(Rg,{optional:!0})||{},this.errorHandler=this.options.errorHandler||bb,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Wy,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ut(void 0),this.urlHandlingStrategy=(0,c.f3M)(vb),this.routeReuseStrategy=(0,c.f3M)(qy),this.urlCreationStrategy=(0,c.f3M)(My),this.titleStrategy=(0,c.f3M)(np),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Bm((0,c.f3M)(xg,{optional:!0})??[]),this.navigationTransitions=(0,c.f3M)(Ng),this.urlSerializer=(0,c.f3M)(ug),this.location=(0,c.f3M)(Oe),this.rootComponentType=null,this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ag,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=za(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const s={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(t.state){const _={...t.state};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(s.state=_)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,r,u,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Yf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:u,fragment:h,queryParamsHandling:_,preserveFragment:w}=r,T=w?this.currentUrlTree.fragment:h;let N=null;switch(_){case"merge":N={...this.currentUrlTree.queryParams,...u};break;case"preserve":N=this.currentUrlTree.queryParams;break;default:N=u||null}return null!==N&&(N=this.removeEmptyProps(N)),this.urlCreationStrategy.createUrlTree(s,this.routerState,this.currentUrlTree,t,N,T??null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=Ih(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function wb(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new c.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?{...Eb}:!1===r?{...rp}:r,Ih(t))return D0(this.currentUrlTree,t,s);const u=this.parseUrl(t);return D0(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const u=t[s];return null!=u&&(r[s]=u),r},{})}scheduleNavigation(t,r,s,u,h){if(this.disposed)return Promise.resolve(!1);let _,w,T,N;return h?(_=h.resolve,w=h.reject,T=h.promise):T=new Promise((L,j)=>{_=L,w=j}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),N=s&&s.\u0275routerPageId?s.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):N=0,this.navigationTransitions.handleNavigationRequest({targetPageId:N,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:_,reject:w,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(L=>Promise.reject(L))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl?this.location.replaceState(s,"",u):this.location.go(s,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===s?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ip=(()=>{class n{constructor(t,r,s,u,h,_){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=u,this.el=h,this.locationStrategy=_,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ei.x;const w=h.nativeElement.tagName;this.isAnchorElement="A"===w||"AREA"===w,this.isAnchorElement?this.subscription=t.events.subscribe(T=>{T instanceof Dd&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,s,u,h){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||s||u||h||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const s=this.renderer,u=this.el.nativeElement;null!==r?s.setAttribute(u,t,r):s.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Yi),c.Y36(wu),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Ct))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&c.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&c.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})(),Mc=(()=>{class n{constructor(t,r,s,u,h){this.router=t,this.element=r,this.renderer=s,this.cdr=u,this.link=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.vpe,this.routerEventsSubscription=t.events.subscribe(_=>{_ instanceof Dd&&this.update()})}ngAfterContentInit(){Ut(this.links.changes,Ut(null)).pipe((0,ks.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,cn.D)(t).pipe((0,ks.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function zw(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>!!s.urlTree&&t.isActive(s.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Yi),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(ip,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,s){if(1&t&&c.Suo(s,ip,5),2&t){let u;c.iGM(u=c.CRH())&&(r.links=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[c.TTD]}),n})();class Ky{}let f_=(()=>{class n{constructor(t,r,s,u,h){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(ei(t=>t instanceof Dd),bd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,c.MMx)(u.providers,t,`Route: ${u.path}`));const h=u._injector??t,_=u._loadedInjector??h;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?s.push(this.preloadConfig(h,u)):(u.children||u._loadedRoutes)&&s.push(this.processRoutes(_,u.children??u._loadedRoutes))}return(0,cn.D)(s).pipe((0,ks.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Ut(null);const u=s.pipe((0,di.z)(h=>null===h?Ut(void 0):(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,this.processRoutes(h.injector??t,h.routes))));if(r.loadComponent&&!r._loadedComponent){const h=this.loader.loadComponent(r);return(0,cn.D)([u,h]).pipe((0,ks.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Yi),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(Ky),c.LFG(u_))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const p_=new c.OlP("");let Pg=(()=>{class n{constructor(t,r,s,u,h={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=s,this.zone=u,this.options=h,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},h.scrollPositionRestoration=h.scrollPositionRestoration||"disabled",h.anchorScrolling=h.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ay?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Dd&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof zm&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new zm(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Uh(n,e){return{\u0275kind:n,\u0275providers:e}}function Ib(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const r=n.get(Yi),s=n.get(Ab);1===n.get(Al)&&r.initialNavigation(),n.get(Og,null,c.XFs.Optional)?.setUpPreloading(),n.get(p_,null,c.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.unsubscribe())}}const Ab=new c.OlP("",{factory:()=>new Ei.x}),Al=new c.OlP("",{providedIn:"root",factory:()=>1});const Og=new c.OlP("");function o1(n){return Uh(0,[{provide:Og,useExisting:f_},{provide:Ky,useExisting:n}])}const Qy=new c.OlP("ROUTER_FORROOT_GUARD"),Kw=[Oe,{provide:ug,useClass:Um},Yi,Nh,{provide:wu,useFactory:function Zy(n){return n.routerState.root},deps:[Yi]},u_,[]];function Ji(){return new c.PXZ("Router",Yi)}let m_=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Kw,[],{provide:xg,multi:!0,useValue:t},{provide:Qy,useFactory:Zw,deps:[[Yi,new c.FiY,new c.tp0]]},{provide:Rg,useValue:r||{}},r?.useHash?{provide:Ct,useClass:Ge}:{provide:Ct,useClass:je},{provide:p_,useFactory:()=>{const n=(0,c.f3M)(na),e=(0,c.f3M)(c.R0b),t=(0,c.f3M)(Rg),r=(0,c.f3M)(Ng),s=(0,c.f3M)(ug);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Pg(s,r,n,e,t)}},r?.preloadingStrategy?o1(r.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:Ji},r?.initialNavigation?Pb(r):[],[{provide:Xy,useFactory:Ib},{provide:c.tb,multi:!0,useExisting:Xy}]]}}static forChild(t){return{ngModule:n,providers:[{provide:xg,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Qy,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[yg]}),n})();function Zw(n){return"guarded"}function Pb(n){return["disabled"===n.initialNavigation?Uh(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(Yi);return()=>{e.setUpLocationChangeListener()}}},{provide:Al,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Uh(2,[{provide:Al,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(Ae,Promise.resolve());return()=>t.then(()=>new Promise(s=>{const u=e.get(Yi),h=e.get(Ab);(function r(s){e.get(Yi).events.pipe(ei(h=>h instanceof Dd||h instanceof jf||h instanceof xy),(0,Nt.U)(h=>h instanceof Dd||h instanceof jf&&(0===h.code||1===h.code)&&null),ei(h=>null!==h),Es(1)).subscribe(()=>{s()})})(()=>{s(!0)}),u.afterPreactivation=()=>(s(!0),h.closed?Ut(void 0):h),u.initialNavigation()}))}}]).\u0275providers:[]]}const Xy=new c.OlP("");var Ob=q(4986),Qi=q(2122);function kb(){return(0,Or.e)((n,e)=>{let t,r=!1;n.subscribe((0,tr.x)(e,s=>{const u=t;t=s,r&&e.next([u,s]),r=!0}))})}function Fg(n,e=Eh.y){return n=n??oI,(0,Or.e)((t,r)=>{let s,u=!0;t.subscribe((0,tr.x)(r,h=>{const _=e(h);(u||!n(s,_))&&(u=!1,s=_,r.next(h))}))})}function oI(n,e){return n===e}var $t,Ya=q(2011),Ja=(q(9169),q(3942)),ke=q(5861),Rd=q(9681),Ea=q(4859),Fs=q(1877),In=q(2090),Yw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qo={},ev=ev||{},En=Yw||self;function __(){}function Lg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Su(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var y_="closure_uid_"+(1e9*Math.random()>>>0),Jw=0;function Qw(n,e,t){return n.call.apply(n.bind,arguments)}function Lb(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function Xi(n,e,t){return(Xi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qw:Lb).apply(null,arguments)}function v_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ws(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,s,u){for(var h=Array(arguments.length-2),_=2;_<arguments.length;_++)h[_-2]=arguments[_];return e.prototype[s].apply(r,h)}}function Pc(){this.s=this.s,this.o=this.o}Pc.prototype.s=!1,Pc.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Fb(n){Object.prototype.hasOwnProperty.call(n,y_)&&n[y_]||(n[y_]=++Jw)}(this)},Pc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Bg=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function tv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function nv(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Lg(r)){const s=n.length||0,u=r.length||0;n.length=s+u;for(let h=0;h<u;h++)n[s+h]=r[h]}else n.push(r)}}function Ls(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ls.prototype.h=function(){this.defaultPrevented=!0};var Xw=function(){if(!En.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{En.addEventListener("test",__,e),En.removeEventListener("test",__,e)}catch{}return n}();function Vg(n){return/^[\s\xa0]*$/.test(n)}var rv=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function iv(n,e){return n<e?-1:n>e?1:0}function Ug(){var n=En.navigator;return n&&(n=n.userAgent)?n:""}function Tu(n){return-1!=Ug().indexOf(n)}function Vb(n){return Vb[" "](n),n}Vb[" "]=__;var $g,n,b_=Tu("Opera"),op=Tu("Trident")||Tu("MSIE"),sv=Tu("Edge"),ov=sv||op,Ub=Tu("Gecko")&&!(-1!=Ug().toLowerCase().indexOf("webkit")&&!Tu("Edge"))&&!(Tu("Trident")||Tu("MSIE"))&&!Tu("Edge"),tC=-1!=Ug().toLowerCase().indexOf("webkit")&&!Tu("Edge");function $b(){var n=En.document;return n?n.documentMode:void 0}e:{var av="",E_=(n=Ug(),Ub?/rv:([^\);]+)(\)|;)/.exec(n):sv?/Edge\/([\d\.]+)/.exec(n):op?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):tC?/WebKit\/(\S+)/.exec(n):b_?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(E_&&(av=E_?E_[1]:""),op){var lv=$b();if(null!=lv&&lv>parseFloat(av)){$g=String(lv);break e}}$g=av}var u1={};var cv=En.document&&op&&($b()||parseInt($g,10))||void 0;function Hh(n,e){if(Ls.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Ub){e:{try{Vb(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:iC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Hh.X.h.call(this)}}ws(Hh,Ls);var iC={2:"touch",3:"pen",4:"mouse"};Hh.prototype.h=function(){Hh.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Hg="closure_listenable_"+(1e6*Math.random()|0),Hb=0;function jb(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=s,this.key=++Hb,this.ba=this.ea=!1}function jh(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function w_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function C_(n){const e={};for(const t in n)e[t]=n[t];return e}const p="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function i(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<p.length;u++)t=p[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function l(n){this.src=n,this.g={},this.h=0}function f(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=Bg(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(jh(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function y(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return s}return-1}l.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var h=y(n,e,r,s);return-1<h?(e=n[h],t||(e.ea=!1)):((e=new jb(e,this.src,u,!!r,s)).ea=t,n.push(e)),e};var C="closure_lm_"+(1e6*Math.random()|0),A={};function P(n,e,t,r,s){if(r&&r.once)return W(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)P(n,e[u],t,r,s);return null}return t=At(t),n&&n[Hg]?n.N(e,t,Su(r)?!!r.capture:!!r,s):B(n,e,t,!1,r,s)}function B(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var h=Su(s)?!!s.capture:!!s,_=xt(n);if(_||(n[C]=_=new l(n)),(t=_.add(e,t,r,h,u)).proxy)return t;if(r=function U(){const e=Je;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Xw||(s=h),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(Ke(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function W(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)W(n,e[u],t,r,s);return null}return t=At(t),n&&n[Hg]?n.O(e,t,Su(r)?!!r.capture:!!r,s):B(n,e,t,!0,r,s)}function ue(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)ue(n,e[u],t,r,s);else r=Su(r)?!!r.capture:!!r,t=At(t),n&&n[Hg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=y(u=n.g[e],t,r,s))&&(jh(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=xt(n))&&(e=n.g[e.toString()],n=-1,e&&(n=y(e,t,r,s)),(t=-1<n?e[n]:null)&&he(t))}function he(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Hg])f(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Ke(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=xt(e))?(f(t,n),0==t.h&&(t.src=null,e[C]=null)):jh(n)}}}function Ke(n){return n in A?A[n]:A[n]="on"+n}function Je(n,e){if(n.ba)n=!0;else{e=new Hh(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&he(n),n=t.call(r,e)}return n}function xt(n){return(n=n[C])instanceof l?n:null}var pt="__closure_events_fn_"+(1e9*Math.random()>>>0);function At(n){return"function"==typeof n?n:(n[pt]||(n[pt]=function(e){return n.handleEvent(e)}),n[pt])}function gt(){Pc.call(this),this.i=new l(this),this.P=this,this.I=null}function ln(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ls(e,n);else if(e instanceof Ls)e.target=e.target||n;else{var s=e;i(e=new Ls(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var h=e.g=t[u];s=wn(h,r,!0,e)&&s}if(s=wn(h=e.g=n,r,!0,e)&&s,s=wn(h,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=wn(h=e.g=t[u],r,!1,e)&&s}function wn(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var h=e[u];if(h&&!h.ba&&h.capture==t){var _=h.listener,w=h.ha||h.src;h.ea&&f(n.i,h),s=!1!==_.call(w,r)&&s}}return s&&!r.defaultPrevented}ws(gt,Pc),gt.prototype[Hg]=!0,gt.prototype.removeEventListener=function(n,e,t,r){ue(this,n,e,t,r)},gt.prototype.M=function(){if(gt.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)jh(t[r]);delete n.g[e],n.h--}}this.I=null},gt.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},gt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var wo=En.JSON.stringify;function Iu(){var n=Pd;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Bs,xl=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Ht,n=>n.reset());class Ht{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function qr(n){En.setTimeout(()=>{throw n},0)}function fr(n,e){Bs||function Gh(){var n=En.Promise.resolve(void 0);Bs=function(){n.then(zo)}}(),Au||(Bs(),Au=!0),Pd.add(n,e)}var Au=!1,Pd=new class Oc{constructor(){this.h=this.g=null}add(e,t){const r=xl.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function zo(){for(var n;n=Iu();){try{n.h.call(n.g)}catch(t){qr(t)}var e=xl;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Au=!1}function Wo(n,e){gt.call(this),this.h=n||1,this.g=e||En,this.j=Xi(this.lb,this),this.l=Date.now()}function dv(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function sC(n,e,t){if("function"==typeof n)t&&(n=Xi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Xi(n.handleEvent,n)}return 2147483647<Number(e)?-1:En.setTimeout(n,e||0)}function hv(n){n.g=sC(()=>{n.g=null,n.i&&(n.i=!1,hv(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ws(Wo,gt),($t=Wo.prototype).ca=!1,$t.R=null,$t.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ln(this,"tick"),this.ca&&(dv(this),this.start()))}},$t.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$t.M=function(){Wo.X.M.call(this),dv(this),delete this.g};class c1 extends Pc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:hv(this)}M(){super.M(),this.g&&(En.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function D_(n){Pc.call(this),this.h=n,this.g={}}ws(D_,Pc);var oC=[];function d1(n,e,t,r){Array.isArray(t)||(t&&(oC[0]=t.toString()),t=oC);for(var s=0;s<t.length;s++){var u=P(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function S_(n){w_(n.g,function(e,t){this.g.hasOwnProperty(t)&&he(e)},n),n.g={}}function ap(){this.g=!0}function T_(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function f1(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var h=1;h<s.length;h++)s[h]=""}}}return wo(t)}catch{return e}}(n,t)+(r?" "+r:"")})}D_.prototype.M=function(){D_.X.M.call(this),S_(this)},D_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ap.prototype.Aa=function(){this.g=!1},ap.prototype.info=function(){};var lp={},p1=null;function fv(){return p1=p1||new gt}function g1(n){Ls.call(this,lp.Pa,n)}function pv(n){const e=fv();ln(e,new g1(e))}function uI(n,e){Ls.call(this,lp.STAT_EVENT,n),this.stat=e}function Qa(n){const e=fv();ln(e,new uI(e,n))}function cI(n,e){Ls.call(this,lp.Qa,n),this.size=e}function Gb(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return En.setTimeout(function(){n()},e)}lp.Pa="serverreachability",ws(g1,Ls),lp.STAT_EVENT="statevent",ws(uI,Ls),lp.Qa="timingevent",ws(cI,Ls);var aC={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},dI={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function qb(){}function m1(){}qb.prototype.h=null;var lC,mv={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function zb(){Ls.call(this,"d")}function jg(){Ls.call(this,"c")}function Wb(){}function _v(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new D_(this),this.O=hI,this.T=new Wo(n=ov?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new _1}function _1(){this.i=null,this.g="",this.h=!1}ws(zb,Ls),ws(jg,Ls),ws(Wb,qb),Wb.prototype.g=function(){return new XMLHttpRequest},Wb.prototype.i=function(){return{}},lC=new Wb;var hI=45e3,Kb={},Zb={};function uC(n,e,t){n.K=1,n.v=Jb(Wh(e)),n.s=t,n.P=!0,I_(n,null)}function I_(n,e){n.F=Date.now(),A_(n),n.A=Wh(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),Qb(t.i,"t",r),n.C=0,t=n.l.H,n.h=new _1,n.g=z1(n.l,t?e:null,!n.s),0<n.N&&(n.L=new c1(Xi(n.La,n,n.g),n.N)),d1(n.S,n.g,"readystatechange",n.ib),e=n.H?C_(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),pv(),function aI(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var h="",_=u.split("&"),w=0;w<_.length;w++){var T=_[w].split("=");if(1<T.length){var N=T[0];T=T[1];var L=N.split("_");h=2<=L.length&&"type"==L[1]?h+(N+"=")+T+"&":h+(N+"=redacted&")}}else h=null;else h=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.U,n.s)}function y1(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function cC(n,e,t){let s,r=!0;for(;!n.I&&n.C<t.length;){if(s=fI(n,t),s==Zb){4==e&&(n.o=4,Qa(14),r=!1),T_(n.j,n.m,null,"[Incomplete Response]");break}if(s==Kb){n.o=4,Qa(15),T_(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}T_(n.j,n.m,s,null),dC(n,s)}y1(n)&&s!=Zb&&s!=Kb&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Qa(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),oE(e),e.K=!0,Qa(11))):(T_(n.j,n.m,t,"[Invalid Chunked Response]"),qh(n),vv(n))}function fI(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Zb:(t=Number(e.substring(t,r)),isNaN(t)?Kb:(r+=1)+t>e.length?Zb:(e=e.substr(r,t),n.C=r+t,e))}function A_(n){n.V=Date.now()+n.O,v1(n,n.O)}function v1(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Gb(Xi(n.gb,n),e)}function yv(n){n.B&&(En.clearTimeout(n.B),n.B=null)}function vv(n){0==n.l.G||n.I||G1(n.l,n)}function qh(n){yv(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,dv(n.T),S_(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function dC(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||eE(t.h,n)))if(!n.J&&eE(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Tv(t),rE(t)}sE(t),Qa(18)}}else t.Ba=s[1],0<t.Ba-t.T&&37500>s[2]&&t.L&&0==t.A&&!t.v&&(t.v=Gb(Xi(t.cb,t),6e3));if(1>=P1(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else dp(t,11)}else if((n.J||t.g==n)&&Tv(t),!Vg(e))for(s=t.Fa.g.parse(e),e=0;e<s.length;e++){let T=s[e];if(t.T=T[0],T=T[1],2==t.G)if("c"==T[0]){t.I=T[1],t.ka=T[2];const N=T[3];null!=N&&(t.ma=N,t.j.info("VER="+t.ma));const L=T[4];null!=L&&(t.Ca=L,t.j.info("SVER="+t.Ca));const j=T[5];null!=j&&"number"==typeof j&&0<j&&(t.J=r=1.5*j,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const z=n.g;if(z){const Q=z.g?z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Q){var u=r.h;u.g||-1==Q.indexOf("spdy")&&-1==Q.indexOf("quic")&&-1==Q.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(cp(u,u.h),u.h=null))}if(r.D){const le=z.g?z.g.getResponseHeader("X-HTTP-Session-Id"):null;le&&(r.za=le,fi(r.F,r.D,le))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var h=n;if((r=t).sa=q1(r,r.H?r.ka:null,r.V),h.J){fC(r.h,h);var _=h,w=r.J;w&&_.setTimeout(w),_.B&&(yv(_),A_(_)),r.g=h}else EC(r);0<t.i.length&&iE(t)}else"stop"!=T[0]&&"close"!=T[0]||dp(t,7);else 3==t.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?dp(t,7):vC(t):"noop"!=T[0]&&t.l&&t.l.wa(T),t.A=0)}pv()}catch{}}function w1(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Lg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function E1(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Lg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function b1(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Lg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}($t=_v.prototype).setTimeout=function(n){this.O=n},$t.ib=function(n){n=n.target;const e=this.L;e&&3==Zh(n)?e.l():this.La(n)},$t.La=function(n){try{if(n==this.g)e:{const N=Zh(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>N)&&(3!=N||ov||this.g&&(this.h.h||this.g.fa()||$1(this.g)))){this.I||4!=N||7==e||pv(),yv(this);var t=this.g.aa();this.Y=t;t:if(y1(this)){var r=$1(this.g);n="";var s=r.length,u=4==Zh(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){qh(this),vv(this);var h="";break t}this.h.i=new En.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.fa();if(this.i=200==t,function lI(n,e,t,r,s,u,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+h})}(this.j,this.u,this.A,this.m,this.U,N,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var _,w=this.g;if((_=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vg(_)){var T=_;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,Qa(12),qh(this),vv(this);break e}T_(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,dC(this,t)}this.P?(cC(this,N,h),ov&&this.i&&3==N&&(d1(this.S,this.T,"tick",this.hb),this.T.start())):(T_(this.j,this.m,h,null),dC(this,h)),4==N&&qh(this),this.i&&!this.I&&(4==N?G1(this.l,this):(this.i=!1,A_(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,Qa(12)):(this.o=0,Qa(13)),qh(this),vv(this)}}}catch{}},$t.hb=function(){if(this.g){var n=Zh(this.g),e=this.g.fa();this.C<e.length&&(yv(this),cC(this,n,e),this.i&&4!=n&&A_(this))}},$t.cancel=function(){this.I=!0,qh(this)},$t.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function h1(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(pv(),Qa(17)),qh(this),this.o=2,vv(this)):v1(this,this.V-n)};var C1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zh(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof zh){this.h=void 0!==e?e:n.h,bv(this,n.j),this.s=n.s,this.g=n.g,Yb(this,n.m),this.l=n.l,e=n.i;var t=new Gg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),D1(this,t),this.o=n.o}else n&&(t=String(n).match(C1))?(this.h=!!e,bv(this,t[1]||"",!0),this.s=Ev(t[2]||""),this.g=Ev(t[3]||"",!0),Yb(this,t[4]),this.l=Ev(t[5]||"",!0),D1(this,t[6]||"",!0),this.o=Ev(t[7]||"")):(this.h=!!e,this.i=new Gg(null,this.h))}function Wh(n){return new zh(n)}function bv(n,e,t){n.j=t?Ev(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Yb(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function D1(n,e,t){e instanceof Gg?(n.i=e,function M1(n,e){e&&!n.j&&(Kh(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(x1(this,r),Qb(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=wv(e,A1)),n.i=new Gg(e,n.h))}function fi(n,e,t){n.i.set(e,t)}function Jb(n){return fi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ev(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function wv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,gI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function gI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}zh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(wv(e,S1,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(wv(e,S1,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(wv(t,"/"==t.charAt(0)?I1:T1,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",wv(t,mI)),n.join("")};var S1=/[#\/\?@]/g,T1=/[#\?:]/g,I1=/[#\?]/g,A1=/[#\?@]/g,mI=/#/g;function Gg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Kh(n){n.g||(n.g=new Map,n.h=0,n.i&&function pI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function x1(n,e){Kh(n),e=up(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function N1(n,e){return Kh(n),e=up(n,e),n.g.has(e)}function Qb(n,e,t){x1(n,e),0<t.length&&(n.i=null,n.g.set(up(n,e),tv(t)),n.h+=t.length)}function up(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function R1(n){this.l=n||_I,n=En.PerformanceNavigationTiming?0<(n=En.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(En.g&&En.g.Ga&&En.g.Ga()&&En.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($t=Gg.prototype).add=function(n,e){Kh(this),this.i=null,n=up(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},$t.forEach=function(n,e){Kh(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},$t.oa=function(){Kh(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let u=0;u<s.length;u++)t.push(e[r])}return t},$t.W=function(n){Kh(this);let e=[];if("string"==typeof n)N1(this,n)&&(e=e.concat(this.g.get(up(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},$t.set=function(n,e){return Kh(this),this.i=null,N1(this,n=up(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},$t.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},$t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),h=this.W(r);for(r=0;r<h.length;r++){var s=u;""!==h[r]&&(s+="="+encodeURIComponent(String(h[r]))),n.push(s)}}return this.i=n.join("&")};var _I=10;function Xb(n){return!!n.h||!!n.g&&n.g.size>=n.j}function P1(n){return n.h?1:n.g?n.g.size:0}function eE(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function cp(n,e){n.g?n.g.add(e):n.h=e}function fC(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function O1(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return tv(n.i)}function k1(){}function F1(){this.g=new k1}function pC(n,e,t){const r=t||"";try{w1(n,function(s,u){let h=s;Su(s)&&(h=wo(s)),e.push(r+u+"="+encodeURIComponent(h))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function x_(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Cv(n){this.l=n.ac||null,this.j=n.jb||!1}function Dv(n,e){gt.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Sv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}R1.prototype.cancel=function(){if(this.i=O1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},k1.prototype.stringify=function(n){return En.JSON.stringify(n,void 0)},k1.prototype.parse=function(n){return En.JSON.parse(n,void 0)},ws(Cv,qb),Cv.prototype.g=function(){return new Dv(this.l,this.j)},Cv.prototype.i=function(n){return function(){return n}}({}),ws(Dv,gt);var Sv=0;function gC(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function N_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,M_(n)}function M_(n){n.onreadystatechange&&n.onreadystatechange.call(n)}($t=Dv.prototype).open=function(n,e){if(this.readyState!=Sv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,M_(this)},$t.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||En).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},$t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,N_(this)),this.readyState=Sv},$t.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,M_(this)),this.g&&(this.readyState=3,M_(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof En.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gC(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},$t.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?N_(this):M_(this),3==this.readyState&&gC(this)}},$t.Va=function(n){this.g&&(this.response=this.responseText=n,N_(this))},$t.Ua=function(n){this.g&&(this.response=n,N_(this))},$t.ga=function(){this.g&&N_(this)},$t.setRequestHeader=function(n,e){this.v.append(n,e)},$t.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},$t.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Dv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var L1=En.JSON.parse;function ki(n){gt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=B1,this.K=this.L=!1}ws(ki,gt);var B1="",vI=/^https?$/i,bI=["POST","PUT"];function EI(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,mC(n),tE(n)}function mC(n){n.D||(n.D=!0,ln(n,"complete"),ln(n,"error"))}function U1(n){if(n.h&&typeof ev<"u"&&(!n.C[1]||4!=Zh(n)||2!=n.aa()))if(n.v&&4==Zh(n))sC(n.Ha,0,n);else if(ln(n,"readystatechange"),4==Zh(n)){n.h=!1;try{const _=n.aa();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===_){var s=String(n.H).match(C1)[1]||null;if(!s&&En.self&&En.self.location){var u=En.self.location.protocol;s=u.substr(0,u.length-1)}r=!vI.test(s?s.toLowerCase():"")}t=r}if(t)ln(n,"complete"),ln(n,"success");else{n.m=6;try{var h=2<Zh(n)?n.g.statusText:""}catch{h=""}n.j=h+" ["+n.aa()+"]",mC(n)}}finally{tE(n)}}}function tE(n,e){if(n.g){wI(n);const t=n.g,r=n.C[0]?__:null;n.g=null,n.C=null,e||ln(n,"ready");try{t.onreadystatechange=r}catch{}}}function wI(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(En.clearTimeout(n.A),n.A=null)}function Zh(n){return n.g?n.g.readyState:0}function $1(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case B1:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function _C(n){let e="";return w_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function nE(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=_C(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):fi(n,e,t))}function R_(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function yC(n){this.Ca=0,this.i=[],this.j=new ap,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=R_("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=R_("baseRetryDelayMs",5e3,n),this.bb=R_("retryDelaySeedMs",1e4,n),this.$a=R_("forwardChannelMaxRetries",2,n),this.ta=R_("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new R1(n&&n.concurrentRequestLimit),this.Fa=new F1,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function vC(n){if(H1(n),3==n.G){var e=n.U++,t=Wh(n.F);fi(t,"SID",n.I),fi(t,"RID",e),fi(t,"TYPE","terminate"),Yh(n,t),(e=new _v(n,n.j,e,void 0)).K=2,e.v=Jb(Wh(t)),t=!1,En.navigator&&En.navigator.sendBeacon&&(t=En.navigator.sendBeacon(e.v.toString(),"")),!t&&En.Image&&((new Image).src=e.v,t=!0),t||(e.g=z1(e.l,null),e.g.da(e.v)),e.F=Date.now(),A_(e)}CC(n)}function rE(n){n.g&&(oE(n),n.g.cancel(),n.g=null)}function H1(n){rE(n),n.u&&(En.clearTimeout(n.u),n.u=null),Tv(n),n.h.cancel(),n.m&&("number"==typeof n.m&&En.clearTimeout(n.m),n.m=null)}function iE(n){Xb(n.h)||n.m||(n.m=!0,fr(n.Ja,n),n.C=0)}function j1(n,e){var t;t=e?e.m:n.U++;const r=Wh(n.F);fi(r,"SID",n.I),fi(r,"RID",t),fi(r,"AID",n.T),Yh(n,r),n.o&&n.s&&nE(r,n.o,n.s),t=new _v(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=bC(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),cp(n.h,t),uC(t,r,e)}function Yh(n,e){n.ia&&w_(n.ia,function(t,r){fi(e,r,t)}),n.l&&w1({},function(t,r){fi(e,r,t)})}function bC(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Xi(n.l.Ra,n.l,n):null;e:{var s=n.i;let u=-1;for(;;){const h=["count="+t];-1==u?0<t?(u=s[0].h,h.push("ofs="+u)):u=0:h.push("ofs="+u);let _=!0;for(let w=0;w<t;w++){let T=s[w].h;const N=s[w].g;if(T-=u,0>T)u=Math.max(0,s[w].h-100),_=!1;else try{pC(N,h,"req"+T+"_")}catch{r&&r(N)}}if(_){r=h.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function EC(n){n.g||n.u||(n.Z=1,fr(n.Ia,n),n.A=0)}function sE(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Gb(Xi(n.Ia,n),DI(n,n.A)),n.A++,0))}function oE(n){null!=n.B&&(En.clearTimeout(n.B),n.B=null)}function wC(n){n.g=new _v(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Wh(n.sa);fi(e,"RID","rpc"),fi(e,"SID",n.I),fi(e,"CI",n.L?"0":"1"),fi(e,"AID",n.T),fi(e,"TYPE","xmlhttp"),Yh(n,e),n.o&&n.s&&nE(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Jb(Wh(e)),t.s=null,t.P=!0,I_(t,n)}function Tv(n){null!=n.v&&(En.clearTimeout(n.v),n.v=null)}function G1(n,e){var t=null;if(n.g==e){Tv(n),oE(n),n.g=null;var r=2}else{if(!eE(n.h,e))return;t=e.D,fC(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var s=n.C;ln(r=fv(),new cI(r,t)),iE(n)}else EC(n);else if(3==(s=e.o)||0==s&&0<n.pa||!(1==r&&function CI(n,e){return!(P1(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Gb(Xi(n.Ja,n,e),DI(n,n.C)),n.C++,0)))}(n,e)||2==r&&sE(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),s){case 1:dp(n,5);break;case 4:dp(n,10);break;case 3:dp(n,6);break;default:dp(n,2)}}function DI(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function dp(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Xi(n.kb,n);t||(t=new zh("//www.google.com/images/cleardot.gif"),En.location&&"http"==En.location.protocol||bv(t,"https"),Jb(t)),function yI(n,e){const t=new ap;if(En.Image){const r=new Image;r.onload=v_(x_,t,r,"TestLoadImage: loaded",!0,e),r.onerror=v_(x_,t,r,"TestLoadImage: error",!1,e),r.onabort=v_(x_,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=v_(x_,t,r,"TestLoadImage: timeout",!1,e),En.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Qa(2);n.G=0,n.l&&n.l.va(e),CC(n),H1(n)}function CC(n){if(n.G=0,n.la=[],n.l){const e=O1(n.h);(0!=e.length||0!=n.i.length)&&(nv(n.la,e),nv(n.la,n.i),n.h.i.length=0,tv(n.i),n.i.length=0),n.l.ua()}}function q1(n,e,t){var r=t instanceof zh?Wh(t):new zh(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Yb(r,r.m);else{var s=En.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var u=new zh(null,void 0);r&&bv(u,r),e&&(u.g=e),s&&Yb(u,s),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&fi(r,t,e),fi(r,"VER",n.ma),Yh(n,r),r}function z1(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ki(t&&n.Da&&!n.ra?new Cv({jb:!0}):n.ra)).Ka(n.H),e}function W1(){}function hp(){if(op&&!(10<=Number(cv)))throw Error("Environmental error: no available transport.")}function Nl(n,e){gt.call(this),this.g=new yC(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Vg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new P_(this)}function aE(n){zb.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function kc(){jg.call(this),this.status=1}function P_(n){this.g=n}($t=ki.prototype).Ka=function(n){this.L=n},$t.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lC.g(),this.C=function gv(n){return n.h||(n.h=n.i())}(this.u?this.u:lC),this.g.onreadystatechange=Xi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void EI(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),s=En.FormData&&n instanceof En.FormData,!(0<=Bg(bI,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,h]of t)this.g.setRequestHeader(u,h);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{wI(this),0<this.B&&((this.K=function V1(n){return op&&function nC(){return function eC(n){var e=u1;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=rv(String($g)).split("."),t=rv("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var s=e[h]||"",u=t[h]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;n=iv(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||iv(0==s[2].length,0==u[2].length)||iv(s[2],u[2]),s=s[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xi(this.qa,this)):this.A=sC(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){EI(this,u)}},$t.qa=function(){typeof ev<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ln(this,"timeout"),this.abort(8))},$t.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ln(this,"complete"),ln(this,"abort"),tE(this))},$t.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tE(this,!0)),ki.X.M.call(this)},$t.Ha=function(){this.s||(this.F||this.v||this.l?U1(this):this.fb())},$t.fb=function(){U1(this)},$t.aa=function(){try{return 2<Zh(this)?this.g.status:-1}catch{return-1}},$t.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},$t.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),L1(e)}},$t.Ea=function(){return this.m},$t.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},($t=yC.prototype).ma=8,$t.G=1,$t.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const s=new _v(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=C_(u),i(u,this.S)):u=this.S),null!==this.o||this.N||(s.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=bC(this,s,e),fi(t=Wh(this.F),"RID",n),fi(t,"CVER",22),this.D&&fi(t,"X-HTTP-Session-Id",this.D),Yh(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(_C(u)))+"&"+e:this.o&&nE(t,this.o,u)),cp(this.h,s),this.Ya&&fi(t,"TYPE","init"),this.O?(fi(t,"$req",e),fi(t,"SID","null"),s.Z=!0,uC(s,t,null)):uC(s,t,e),this.G=2}}else 3==this.G&&(n?j1(this,n):0==this.i.length||Xb(this.h)||j1(this))},$t.Ia=function(){if(this.u=null,wC(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Gb(Xi(this.eb,this),n)}},$t.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Qa(10),rE(this),wC(this))},$t.cb=function(){null!=this.v&&(this.v=null,rE(this),sE(this),Qa(19))},$t.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Qa(2)):(this.j.info("Failed to ping google.com"),Qa(1))},($t=W1.prototype).xa=function(){},$t.wa=function(){},$t.va=function(){},$t.ua=function(){},$t.Ra=function(){},hp.prototype.g=function(n,e){return new Nl(n,e)},ws(Nl,gt),Nl.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Qa(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=q1(n,null,n.V),iE(n)},Nl.prototype.close=function(){vC(this.g)},Nl.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=wo(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&iE(e)},Nl.prototype.M=function(){this.g.l=null,delete this.j,vC(this.g),delete this.g,Nl.X.M.call(this)},ws(aE,zb),ws(kc,jg),ws(P_,W1),P_.prototype.xa=function(){ln(this.g,"a")},P_.prototype.wa=function(n){ln(this.g,new aE(n))},P_.prototype.va=function(n){ln(this.g,new kc)},P_.prototype.ua=function(){ln(this.g,"b")},hp.prototype.createWebChannel=hp.prototype.g,Nl.prototype.send=Nl.prototype.u,Nl.prototype.open=Nl.prototype.m,Nl.prototype.close=Nl.prototype.close,aC.NO_ERROR=0,aC.TIMEOUT=8,aC.HTTP_ERROR=6,dI.COMPLETE="complete",m1.EventType=mv,mv.OPEN="a",mv.CLOSE="b",mv.ERROR="c",mv.MESSAGE="d",gt.prototype.listen=gt.prototype.N,ki.prototype.listenOnce=ki.prototype.O,ki.prototype.getLastError=ki.prototype.Oa,ki.prototype.getLastErrorCode=ki.prototype.Ea,ki.prototype.getStatus=ki.prototype.aa,ki.prototype.getResponseJson=ki.prototype.Sa,ki.prototype.getResponseText=ki.prototype.fa,ki.prototype.send=ki.prototype.da,ki.prototype.setWithCredentials=ki.prototype.Ka;var DC=qo.createWebChannelTransport=function(){return new hp},Iv=qo.getStatEventTarget=function(){return fv()},SC=qo.ErrorCode=aC,SI=qo.EventType=dI,TI=qo.Event=lp,Av=qo.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},lE=qo.FetchXmlHttpFactory=Cv,uE=qo.WebChannel=m1,II=qo.XhrIo=ki;const TC="@firebase/firestore";class Vs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vs.UNAUTHENTICATED=new Vs(null),Vs.GOOGLE_CREDENTIALS=new Vs("google-credentials-uid"),Vs.FIRST_PARTY=new Vs("first-party-uid"),Vs.MOCK_USER=new Vs("mock-user");let fp="9.15.0";const Jh=new Fs.Yd("@firebase/firestore");function xv(){return Jh.logLevel}function rt(n,...e){if(Jh.logLevel<=Fs.in.DEBUG){const t=e.map(AC);Jh.debug(`Firestore (${fp}): ${n}`,...t)}}function Ci(n,...e){if(Jh.logLevel<=Fs.in.ERROR){const t=e.map(AC);Jh.error(`Firestore (${fp}): ${n}`,...t)}}function Qh(n,...e){if(Jh.logLevel<=Fs.in.WARN){const t=e.map(AC);Jh.warn(`Firestore (${fp}): ${n}`,...t)}}function AC(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ft(n="Unexpected state"){const e=`FIRESTORE (${fp}) INTERNAL ASSERTION FAILED: `+n;throw Ci(e),new Error(e)}function Zt(n,e){n||Ft()}function Et(n,e){return n}const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ye extends In.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Cs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class xC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class K1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Vs.UNAUTHENTICATED))}shutdown(){}}class xI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Z1{constructor(e){this.t=e,this.currentUser=Vs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const u=T=>this.i!==s?(s=this.i,t(T)):Promise.resolve();let h=new Cs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Cs,e.enqueueRetryable(()=>u(this.currentUser))};const _=()=>{const T=h;e.enqueueRetryable((0,ke.Z)(function*(){yield T.promise,yield u(r.currentUser)}))},w=T=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(T=>w(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?w(T):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Cs)}},0),_()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Zt("string"==typeof r.accessToken),new xC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Zt(null===e||"string"==typeof e),new Vs(e)}}class Y1{constructor(e,t,r,s){this.h=e,this.l=t,this.m=r,this.g=s,this.type="FirstParty",this.user=Vs.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Zt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class NI{constructor(e,t,r,s){this.h=e,this.l=t,this.m=r,this.g=s}getToken(){return Promise.resolve(new Y1(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Vs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J1{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.A;return this.A=u.token,rt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const s=u=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?s(u):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Zt("string"==typeof t.token),this.A=t.token,new NC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function O_(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Q1{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=O_(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+=e.charAt(s[u]%e.length))}return r}}function Sn(n,e){return n<e?-1:n>e?1:0}function Nv(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function MI(n){return n+"\0"}class ti{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ye(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ye(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ye(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ye(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ti.fromMillis(Date.now())}static fromDate(e){return ti.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ti(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Sn(this.nanoseconds,e.nanoseconds):Sn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rn(e)}static min(){return new rn(new ti(0,0))}static max(){return new rn(new ti(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xh{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ft(),void 0===r?r=e.length-t:r>e.length-t&&Ft(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Xh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),h=t.get(s);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class nr extends Xh{construct(e,t,r){return new nr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ye(Te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new nr(t)}static emptyPath(){return new nr([])}}const MC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fi extends Xh{construct(e,t,r){return new Fi(e,t,r)}static isValidIdentifier(e){return MC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fi(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const u=()=>{if(0===r.length)throw new Ye(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;s<e.length;){const _=e[s];if("\\"===_){if(s+1===e.length)throw new Ye(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[s+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Ye(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,s+=2}else"`"===_?(h=!h,s++):"."!==_||h?(r+=_,s++):(u(),s++)}if(u(),h)throw new Ye(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fi(t)}static emptyPath(){return new Fi([])}}class vt{constructor(e){this.path=e}static fromPath(e){return new vt(nr.fromString(e))}static fromName(e){return new vt(nr.fromString(e).popFirst(5))}static empty(){return new vt(nr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===nr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return nr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new nr(e.slice()))}}class cE{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function RC(n){return n.fields.find(e=>2===e.kind)}function qg(n){return n.fields.filter(e=>2!==e.kind)}cE.UNKNOWN_ID=-1;class Mv{constructor(e,t){this.fieldPath=e,this.kind=t}}class pp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new pp(0,el.min())}}function dE(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=rn.fromTimestamp(1e9===r?new ti(t+1,0):new ti(t,r));return new el(s,vt.empty(),e)}function RI(n){return new el(n.readTime,n.key,-1)}class el{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new el(rn.min(),vt.empty(),-1)}static max(){return new el(rn.max(),vt.empty(),-1)}}function OC(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=vt.comparator(n.documentKey,e.documentKey),0!==t?t:Sn(n.largestBatchId,e.largestBatchId))}const kC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function gp(n){return hE.apply(this,arguments)}function hE(){return hE=(0,ke.Z)(function*(n){if(n.code!==Te.FAILED_PRECONDITION||n.message!==kC)throw n;rt("LocalStore","Unexpectedly lost primary lease")}),hE.apply(this,arguments)}class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Se((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Se?t:Se.resolve(t)}catch(t){return Se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Se.reject(t)}static resolve(e){return new Se((t,r)=>{t(e)})}static reject(e){return new Se((t,r)=>{r(e)})}static waitFor(e){return new Se((t,r)=>{let s=0,u=0,h=!1;e.forEach(_=>{++s,_.next(()=>{++u,h&&u===s&&t()},w=>r(w))}),h=!0,u===s&&t()})}static or(e){let t=Se.resolve(!1);for(const r of e)t=t.next(s=>s?Se.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,u)=>{r.push(t.call(this,s,u))}),this.waitFor(r)}static mapArray(e,t){return new Se((r,s)=>{const u=e.length,h=new Array(u);let _=0;for(let w=0;w<u;w++){const T=w;t(e[T]).next(N=>{h[T]=N,++_,_===u&&r(h)},N=>s(N))}})}static doWhile(e,t){return new Se((r,s)=>{const u=()=>{!0===e()?t().next(()=>{u()},s):r()};u()})}}class FC{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Cs,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Rv(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const s=BC(r.target.error);this.P.reject(new Rv(e,s))}}static open(e,t,r,s){try{return new FC(t,e.transaction(s,r))}catch(u){throw new Rv(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(rt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new PI(t)}}class Fc{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Fc.D((0,In.z$)())&&Ci("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return rt("SimpleDb","Removing database:",e),_p(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,In.hl)())return!1;if(Fc.N())return!0;const e=(0,In.z$)(),t=Fc.D(e),r=0<t&&t<10,s=Fc.k(e),u=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,ke.Z)(function*(){return t.db||(rt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=h=>{r(h.target.result)},u.onblocked=()=>{s(new Rv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=h=>{const _=h.target.error;s("VersionError"===_.name?new Ye(Te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===_.name?new Ye(Te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+_):new Rv(e,_))},u.onupgradeneeded=h=>{rt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.S.$(h.target.result,u.transaction,h.oldVersion,t.version).next(()=>{rt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var u=this;return(0,ke.Z)(function*(){const h="readonly"===t;let _=0;for(;;){++_;try{u.db=yield u.F(e);const w=FC.open(u.db,e,h?"readonly":"readwrite",r),T=s(w).next(N=>(w.V(),N)).catch(N=>(w.abort(N),Se.reject(N))).toPromise();return T.catch(()=>{}),yield w.v,T}catch(w){const T=w,N="FirebaseError"!==T.name&&_<3;if(rt("SimpleDb","Transaction failed with error:",T.message,"Retrying:",N),u.close(),!N)return Promise.reject(T)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class xM{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return _p(this.q.delete())}}class Rv extends Ye{constructor(e,t){super(Te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function mp(n){return"IndexedDbTransactionError"===n.name}class PI{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(rt("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(rt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),_p(r)}add(e){return rt("SimpleDb","ADD",this.store.name,e,e),_p(this.store.add(e))}get(e){return _p(this.store.get(e)).next(t=>(void 0===t&&(t=null),rt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return rt("SimpleDb","DELETE",this.store.name,e),_p(this.store.delete(e))}count(){return rt("SimpleDb","COUNT",this.store.name),_p(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),u=[];return this.H(s,(h,_)=>{u.push(_)}).next(()=>u)}{const s=this.store.getAll(r.range);return new Se((u,h)=>{s.onerror=_=>{h(_.target.error)},s.onsuccess=_=>{u(_.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Se((s,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}Y(e,t){rt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const s=this.cursor(r);return this.H(s,(u,h,_)=>_.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.H(s,t)}tt(e){const t=this.cursor({});return new Se((r,s)=>{t.onerror=u=>{const h=BC(u.target.error);s(h)},t.onsuccess=u=>{const h=u.target.result;h?e(h.primaryKey,h.value).next(_=>{_?h.continue():r()}):r()}})}H(e,t){const r=[];return new Se((s,u)=>{e.onerror=h=>{u(h.target.error)},e.onsuccess=h=>{const _=h.target.result;if(!_)return void s();const w=new xM(_),T=t(_.primaryKey,_.value,w);if(T instanceof Se){const N=T.catch(L=>(w.done(),Se.reject(L)));r.push(N)}w.isDone?s():null===w.G?_.continue():_.continue(w.G)}}).next(()=>Se.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function _p(n){return new Se((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=BC(r.target.error);t(s)}})}let LC=!1;function BC(n){const e=Fc.D((0,In.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ye("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return LC||(LC=!0,setTimeout(()=>{throw r},0)),r}}return n}class eS{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;rt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ke.Z)(function*(){t.task=null;try{rt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){mp(r)?rt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield gp(r)}yield t.nt(6e4)}))}}class tS{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ke.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let s=t,u=!0;return Se.doWhile(()=>!0===u&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(h=>{if(null!==h&&!r.has(h))return rt("IndexBackiller",`Processing collection: ${h}`),this.rt(e,h,s).next(_=>{s-=_,r.add(h)});u=!1})).next(()=>t-s)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next(u=>{const h=u.changes;return this.localStore.indexManager.updateIndexEntries(e,h).next(()=>this.ot(s,u)).next(_=>(rt("IndexBackiller",`Updating offset: ${_}`),this.localStore.indexManager.updateCollectionGroup(e,t,_))).next(()=>h.size)}))}ot(e,t){let r=e;return t.changes.forEach((s,u)=>{const h=RI(u);OC(h,r)>0&&(r=h)}),new el(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ml=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ut(s),this.ct=s=>r.writeSequenceNumber(s))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class OI{constructor(e,t,r,s,u,h,_,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=_,this.useFetchStreams=w}}class ef{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ef("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ef&&e.projectId===this.projectId&&e.database===this.database}}function nS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function yp(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function VC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function k_(n){return null==n}function F_(n){return 0===n&&1/n==-1/0}function rS(n){return"number"==typeof n&&Number.isInteger(n)&&!F_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class so{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new so(t)}static fromUint8Array(e){const t=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new so(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Sn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}so.EMPTY_BYTE_STRING=new so("");const iS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wg(n){if(Zt(!!n),"string"==typeof n){let e=0;const t=iS.exec(n);if(Zt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:es(n.seconds),nanos:es(n.nanos)}}function es(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function L_(n){return"string"==typeof n?so.fromBase64String(n):so.fromUint8Array(n)}function sS(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function FI(n){const e=n.mapValue.fields.__previous_value__;return sS(e)?FI(e):e}function fE(n){const e=Wg(n.mapValue.fields.__local_write_time__.timestampValue);return new ti(e.seconds,e.nanos)}const Kg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},UC={nullValue:"NULL_VALUE"};function Od(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sS(n)?4:aS(n)?9007199254740991:10:Ft()}function tf(n,e){if(n===e)return!0;const t=Od(n);if(t!==Od(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fE(n).isEqual(fE(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=Wg(r.timestampValue),h=Wg(s.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,L_(n.bytesValue).isEqual(L_(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return es(r.geoPointValue.latitude)===es(s.geoPointValue.latitude)&&es(r.geoPointValue.longitude)===es(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return es(r.integerValue)===es(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=es(r.doubleValue),h=es(s.doubleValue);return u===h?F_(u)===F_(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Nv(n.arrayValue.values||[],e.arrayValue.values||[],tf);case 10:return function(r,s){const u=r.mapValue.fields||{},h=s.mapValue.fields||{};if(nS(u)!==nS(h))return!1;for(const _ in u)if(u.hasOwnProperty(_)&&(void 0===h[_]||!tf(u[_],h[_])))return!1;return!0}(n,e);default:return Ft()}var s}function B_(n,e){return void 0!==(n.values||[]).find(t=>tf(t,e))}function Lc(n,e){if(n===e)return 0;const t=Od(n),r=Od(e);if(t!==r)return Sn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Sn(n.booleanValue,e.booleanValue);case 2:return function(s,u){const h=es(s.integerValue||s.doubleValue),_=es(u.integerValue||u.doubleValue);return h<_?-1:h>_?1:h===_?0:isNaN(h)?isNaN(_)?0:-1:1}(n,e);case 3:return $C(n.timestampValue,e.timestampValue);case 4:return $C(fE(n),fE(e));case 5:return Sn(n.stringValue,e.stringValue);case 6:return function(s,u){const h=L_(s),_=L_(u);return h.compareTo(_)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const h=s.split("/"),_=u.split("/");for(let w=0;w<h.length&&w<_.length;w++){const T=Sn(h[w],_[w]);if(0!==T)return T}return Sn(h.length,_.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const h=Sn(es(s.latitude),es(u.latitude));return 0!==h?h:Sn(es(s.longitude),es(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const h=s.values||[],_=u.values||[];for(let w=0;w<h.length&&w<_.length;++w){const T=Lc(h[w],_[w]);if(T)return T}return Sn(h.length,_.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===Kg.mapValue&&u===Kg.mapValue)return 0;if(s===Kg.mapValue)return 1;if(u===Kg.mapValue)return-1;const h=s.fields||{},_=Object.keys(h),w=u.fields||{},T=Object.keys(w);_.sort(),T.sort();for(let N=0;N<_.length&&N<T.length;++N){const L=Sn(_[N],T[N]);if(0!==L)return L;const j=Lc(h[_[N]],w[T[N]]);if(0!==j)return j}return Sn(_.length,T.length)}(n.mapValue,e.mapValue);default:throw Ft()}}function $C(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Sn(n,e);const t=Wg(n),r=Wg(e),s=Sn(t.seconds,r.seconds);return 0!==s?s:Sn(t.nanos,r.nanos)}function Zg(n){return oS(n)}function oS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=Wg(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?L_(n.bytesValue).toBase64():"referenceValue"in n?vt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",u=!0;for(const h of r.values||[])u?u=!1:s+=",",s+=oS(h);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",h=!0;for(const _ of s)h?h=!1:u+=",",u+=`${_}:${oS(r.fields[_])}`;return u+"}"}(n.mapValue):Ft();var e}function nf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function pE(n){return!!n&&"integerValue"in n}function Pv(n){return!!n&&"arrayValue"in n}function HC(n){return!!n&&"nullValue"in n}function LI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gE(n){return!!n&&"mapValue"in n}function Ov(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return yp(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ov(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ov(n.arrayValue.values[t]);return e}return Object.assign({},n)}function aS(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function mE(n){return"nullValue"in n?UC:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?nf(ef.empty(),vt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ft()}function BI(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?nf(ef.empty(),vt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Kg:Ft()}function VI(n,e){const t=Lc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function UI(n,e){const t=Lc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Yg{constructor(e,t){this.position=e,this.inclusive=t}}function lS(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const u=e[s],h=n.position[s];if(r=u.field.isKeyField()?vt.comparator(vt.fromName(h.referenceValue),t.key):Lc(h,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function uS(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!tf(n.position[t],e.position[t]))return!1;return!0}class cS{}class Yn extends cS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Nu(e,t,r):"array-contains"===t?new GI(e,r):"in"===t?new vE(e,r):"not-in"===t?new pS(e,r):"array-contains-any"===t?new gS(e,r):new Yn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new jI(e,r):new jC(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Lc(t,this.value)):null!==t&&Od(this.value)===Od(t)&&this.matchesComparison(Lc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Cr extends cS{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Cr(e,t)}matches(e){return Jg(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Jg(n){return"and"===n.op}function _E(n){return"or"===n.op}function $I(n){return xu(n)&&Jg(n)}function xu(n){for(const e of n.filters)if(e instanceof Cr)return!1;return!0}function dS(n){if(n instanceof Yn)return n.field.canonicalString()+n.op.toString()+Zg(n.value);{const e=n.filters.map(t=>dS(t)).join(",");return`${n.op}(${e})`}}function yE(n,e){return n instanceof Yn?(t=n,(r=e)instanceof Yn&&t.op===r.op&&t.field.isEqual(r.field)&&tf(t.value,r.value)):n instanceof Cr?function(t,r){return r instanceof Cr&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((s,u,h)=>s&&yE(u,r.filters[h]),!0)}(n,e):void Ft();var t,r}function hS(n,e){const t=n.filters.concat(e);return Cr.create(t,n.op)}function HI(n){return n instanceof Yn?`${(e=n).field.canonicalString()} ${e.op} ${Zg(e.value)}`:n instanceof Cr?function(e){return e.op.toString()+" {"+e.getFilters().map(HI).join(" ,")+"}"}(n):"Filter";var e}class Nu extends Yn{constructor(e,t,r){super(e,t,r),this.key=vt.fromName(r.referenceValue)}matches(e){const t=vt.comparator(e.key,this.key);return this.matchesComparison(t)}}class jI extends Yn{constructor(e,t){super(e,"in",t),this.keys=fS(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jC extends Yn{constructor(e,t){super(e,"not-in",t),this.keys=fS(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fS(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>vt.fromName(r.referenceValue))}class GI extends Yn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pv(t)&&B_(t.arrayValue,this.value)}}class vE extends Yn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&B_(this.value.arrayValue,t)}}class pS extends Yn{constructor(e,t){super(e,"not-in",t)}matches(e){if(B_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!B_(this.value.arrayValue,t)}}class gS extends Yn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>B_(this.value.arrayValue,r))}}class V_{constructor(e,t="asc"){this.field=e,this.dir=t}}function mS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Di{constructor(e,t){this.comparator=e,this.root=t||oo.EMPTY}insert(e,t){return new Di(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,oo.BLACK,null,null))}remove(e){return new Di(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bE(this.root,e,this.comparator,!1)}getReverseIterator(){return new bE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bE(this.root,e,this.comparator,!0)}}class bE{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class oo{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=r??oo.RED,this.left=s??oo.EMPTY,this.right=u??oo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new oo(e??this.key,t??this.value,r??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return oo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return oo.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,oo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,oo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ft();const e=this.left.check();if(e!==this.right.check())throw Ft();return e+(this.isRed()?0:1)}}oo.EMPTY=null,oo.RED=!0,oo.BLACK=!1,oo.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft()}get value(){throw Ft()}get color(){throw Ft()}get left(){throw Ft()}get right(){throw Ft()}copy(n,e,t,r,s){return this}insert(n,e,t){return new oo(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ar{constructor(e){this.comparator=e,this.data=new Di(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new EE(this.data.getIterator())}getIteratorFrom(e){return new EE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ar)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ar(this.comparator);return t.data=e,t}}class EE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Rl(n){return n.hasNext()?n.getNext():void 0}class tl{constructor(e){this.fields=e,e.sort(Fi.comparator)}static empty(){return new tl([])}unionWith(e){let t=new Ar(Fi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new tl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nv(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Us{constructor(e){this.value=e}static empty(){return new Us({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!gE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ov(t)}setAll(e){let t=Fi.emptyPath(),r={},s=[];e.forEach((h,_)=>{if(!t.isImmediateParentOf(_)){const w=this.getFieldsMap(t);this.applyChanges(w,r,s),r={},s=[],t=_.popLast()}h?r[_.lastSegment()]=Ov(h):s.push(_.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,s)}delete(e){const t=this.field(e.popLast());gE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return tf(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];gE(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){yp(t,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new Us(Ov(this.value))}}function kd(n){const e=[];return yp(n.fields,(t,r)=>{const s=new Fi([t]);if(gE(r)){const u=kd(r.mapValue).fields;if(0===u.length)e.push(s);else for(const h of u)e.push(s.child(h))}else e.push(s)}),new tl(e)}class ni{constructor(e,t,r,s,u,h,_){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=u,this.data=h,this.documentState=_}static newInvalidDocument(e){return new ni(e,0,rn.min(),rn.min(),rn.min(),Us.empty(),0)}static newFoundDocument(e,t,r,s){return new ni(e,1,t,rn.min(),r,s,0)}static newNoDocument(e,t){return new ni(e,2,t,rn.min(),rn.min(),Us.empty(),0)}static newUnknownDocument(e,t){return new ni(e,3,t,rn.min(),rn.min(),Us.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(rn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Us.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ni&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ni(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class NM{constructor(e,t=null,r=[],s=[],u=null,h=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=h,this.endAt=_,this.ft=null}}function GC(n,e=null,t=[],r=[],s=null,u=null,h=null){return new NM(n,e,t,r,s,u,h)}function Qg(n){const e=Et(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>dS(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),k_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Zg(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Zg(r)).join(",")),e.ft=t}return e.ft}function kv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!mS(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!yE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!uS(n.startAt,e.startAt)&&uS(n.endAt,e.endAt)}function wE(n){return vt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Fv(n,e){return n.filters.filter(t=>t instanceof Yn&&t.field.isEqual(e))}function qI(n,e,t){let r=UC,s=!0;for(const u of Fv(n,e)){let h=UC,_=!0;switch(u.op){case"<":case"<=":h=mE(u.value);break;case"==":case"in":case">=":h=u.value;break;case">":h=u.value,_=!1;break;case"!=":case"not-in":h=UC}VI({value:r,inclusive:s},{value:h,inclusive:_})<0&&(r=h,s=_)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const h=t.position[u];VI({value:r,inclusive:s},{value:h,inclusive:t.inclusive})<0&&(r=h,s=t.inclusive);break}return{value:r,inclusive:s}}function qC(n,e,t){let r=Kg,s=!0;for(const u of Fv(n,e)){let h=Kg,_=!0;switch(u.op){case">=":case">":h=BI(u.value),_=!1;break;case"==":case"in":case"<=":h=u.value;break;case"<":h=u.value,_=!1;break;case"!=":case"not-in":h=Kg}UI({value:r,inclusive:s},{value:h,inclusive:_})>0&&(r=h,s=_)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const h=t.position[u];UI({value:r,inclusive:s},{value:h,inclusive:t.inclusive})>0&&(r=h,s=t.inclusive);break}return{value:r,inclusive:s}}class rf{constructor(e,t=null,r=[],s=[],u=null,h="F",_=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=h,this.startAt=_,this.endAt=w,this.dt=null,this._t=null}}function zC(n,e,t,r,s,u,h,_){return new rf(n,e,t,r,s,u,h,_)}function Lv(n){return new rf(n)}function CE(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function DE(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Bv(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function SE(n){return null!==n.collectionGroup}function vp(n){const e=Et(n);if(null===e.dt){e.dt=[];const t=Bv(e),r=DE(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new V_(t)),e.dt.push(new V_(Fi.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.dt.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new V_(Fi.keyField(),u))}}}return e.dt}function Ko(n){const e=Et(n);if(!e._t)if("F"===e.limitType)e._t=GC(e.path,e.collectionGroup,vp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of vp(e))t.push(new V_(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Yg(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Yg(e.startAt.position,e.startAt.inclusive):null;e._t=GC(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e._t}function U_(n,e){e.getFirstInequalityField(),Bv(n);const t=n.filters.concat([e]);return new rf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Xg(n,e,t){return new rf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $_(n,e){return kv(Ko(n),Ko(e))&&n.limitType===e.limitType}function _S(n){return`${Qg(Ko(n))}|lt:${n.limitType}`}function WC(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>HI(r)).join(", ")}]`),k_(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Zg(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Zg(r)).join(",")),`Target(${t})`}(Ko(n))}; limitType=${n.limitType})`}function yS(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):vt.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of vp(t))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,u,h){const _=lS(s,u,h);return s.inclusive?_<=0:_<0}(t.startAt,vp(t),r)||t.endAt&&!function(s,u,h){const _=lS(s,u,h);return s.inclusive?_>=0:_>0}(t.endAt,vp(t),r)));var t,r}function zI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function WI(n){return(e,t)=>{let r=!1;for(const s of vp(n)){const u=vS(s,e,t);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function vS(n,e,t){const r=n.field.isKeyField()?vt.comparator(e.key,t.key):function(s,u,h){const _=u.data.field(s),w=h.data.field(s);return null!==_&&null!==w?Lc(_,w):Ft()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ft()}}function bS(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:F_(e)?"-0":e}}function ES(n){return{integerValue:""+n}}function wS(n,e){return rS(e)?ES(e):bS(n,e)}class KC{constructor(){this._=void 0}}function MM(n,e,t){return n instanceof Vv?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof em?Uv(n,e):n instanceof tm?CS(n,e):function(r,s){const u=KI(r,s),h=bp(u)+bp(r.gt);return pE(u)&&pE(r.gt)?ES(h):bS(r.yt,h)}(n,e)}function RM(n,e,t){return n instanceof em?Uv(n,e):n instanceof tm?CS(n,e):t}function KI(n,e){return n instanceof nm?pE(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Vv extends KC{}class em extends KC{constructor(e){super(),this.elements=e}}function Uv(n,e){const t=ZC(e);for(const r of n.elements)t.some(s=>tf(s,r))||t.push(r);return{arrayValue:{values:t}}}class tm extends KC{constructor(e){super(),this.elements=e}}function CS(n,e){let t=ZC(e);for(const r of n.elements)t=t.filter(s=>!tf(s,r));return{arrayValue:{values:t}}}class nm extends KC{constructor(e,t){super(),this.yt=e,this.gt=t}}function bp(n){return es(n.integerValue||n.doubleValue)}function ZC(n){return Pv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class rm{constructor(e,t){this.field=e,this.transform=t}}class ZI{constructor(e,t){this.version=e,this.transformResults=t}}class zr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zr}static exists(e){return new zr(void 0,e)}static updateTime(e){return new zr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function H_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class im{}function YI(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new sm(n.key,zr.none()):new j_(n.key,n.data,zr.none());{const t=n.data,r=Us.empty();let s=new Ar(Fi.comparator);for(let u of e.fields)if(!s.has(u)){let h=t.field(u);null===h&&u.length>1&&(u=u.popLast(),h=t.field(u)),null===h?r.delete(u):r.set(u,h),s=s.add(u)}return new sf(n.key,r,new tl(s.toArray()),zr.none())}}function PM(n,e,t){n instanceof j_?function(r,s,u){const h=r.value.clone(),_=SS(r.fieldTransforms,s,u.transformResults);h.setAll(_),s.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof sf?function(r,s,u){if(!H_(r.precondition,s))return void s.convertToUnknownDocument(u.version);const h=SS(r.fieldTransforms,s,u.transformResults),_=s.data;_.setAll(DS(r)),_.setAll(h),s.convertToFoundDocument(u.version,_).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function TE(n,e,t,r){return n instanceof j_?function(s,u,h,_){if(!H_(s.precondition,u))return h;const w=s.value.clone(),T=QC(s.fieldTransforms,_,u);return w.setAll(T),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null}(n,e,t,r):n instanceof sf?function(s,u,h,_){if(!H_(s.precondition,u))return h;const w=QC(s.fieldTransforms,_,u),T=u.data;return T.setAll(DS(s)),T.setAll(w),u.convertToFoundDocument(u.version,T).setHasLocalMutations(),null===h?null:h.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(N=>N.field))}(n,e,t,r):(h=t,H_(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h);var u,h}function OM(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),u=KI(r.transform,s||null);null!=u&&(null===t&&(t=Us.empty()),t.set(r.field,u))}return t||null}function JC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Nv(t,r,(s,u)=>function YC(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof em&&r instanceof em||t instanceof tm&&r instanceof tm?Nv(t.elements,r.elements,tf):t instanceof nm&&r instanceof nm?tf(t.gt,r.gt):t instanceof Vv&&r instanceof Vv);var t,r}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class j_ extends im{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class sf extends im{constructor(e,t,r,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function DS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function SS(n,e,t){const r=new Map;Zt(n.length===t.length);for(let s=0;s<t.length;s++){const u=n[s],h=u.transform,_=e.data.field(u.field);r.set(u.field,RM(h,_,t[s]))}return r}function QC(n,e,t){const r=new Map;for(const s of n){const u=s.transform,h=t.data.field(s.field);r.set(s.field,MM(u,h,e))}return r}class sm extends im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IE extends im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class JI{constructor(e){this.count=e}}var Ds,Jn;function AE(n){switch(n){default:return Ft();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0}}function QI(n){if(void 0===n)return Ci("GRPC error has no .code"),Te.UNKNOWN;switch(n){case Ds.OK:return Te.OK;case Ds.CANCELLED:return Te.CANCELLED;case Ds.UNKNOWN:return Te.UNKNOWN;case Ds.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case Ds.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case Ds.INTERNAL:return Te.INTERNAL;case Ds.UNAVAILABLE:return Te.UNAVAILABLE;case Ds.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case Ds.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case Ds.NOT_FOUND:return Te.NOT_FOUND;case Ds.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case Ds.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case Ds.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case Ds.ABORTED:return Te.ABORTED;case Ds.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case Ds.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case Ds.DATA_LOSS:return Te.DATA_LOSS;default:return Ft()}}(Jn=Ds||(Ds={}))[Jn.OK=0]="OK",Jn[Jn.CANCELLED=1]="CANCELLED",Jn[Jn.UNKNOWN=2]="UNKNOWN",Jn[Jn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jn[Jn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jn[Jn.NOT_FOUND=5]="NOT_FOUND",Jn[Jn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jn[Jn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jn[Jn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jn[Jn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jn[Jn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jn[Jn.ABORTED=10]="ABORTED",Jn[Jn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jn[Jn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jn[Jn.INTERNAL=13]="INTERNAL",Jn[Jn.UNAVAILABLE=14]="UNAVAILABLE",Jn[Jn.DATA_LOSS=15]="DATA_LOSS";class af{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){yp(this.inner,(t,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return VC(this.inner)}size(){return this.innerSize}}const XC=new Di(vt.comparator);function nl(){return XC}const TS=new Di(vt.comparator);function xE(...n){let e=TS;for(const t of n)e=e.insert(t.key,t);return e}function XI(n){let e=TS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Fd(){return $v()}function IS(){return $v()}function $v(){return new af(n=>n.toString(),(n,e)=>n.isEqual(e))}const kM=new Di(vt.comparator),FM=new Ar(vt.comparator);function kn(...n){let e=FM;for(const t of n)e=e.add(t);return e}const LM=new Ar(Sn);function eD(){return LM}class Hv{constructor(e,t,r,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,NE.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Hv(rn.min(),s,eD(),nl(),kn())}}class NE{constructor(e,t,r,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new NE(r,t,kn(),kn(),kn())}}class tD{constructor(e,t,r,s){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=s}}class eA{constructor(e,t){this.targetId=e,this.Et=t}}class tA{constructor(e,t,r=so.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class nA{constructor(){this.At=0,this.Rt=a(),this.bt=so.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=kn(),t=kn(),r=kn();return this.Rt.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ft()}}),new NE(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=a()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class BM{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=nl(),this.qt=o(),this.Ut=new Ar(Sn)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:Ft()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,s)=>{this.zt(s)&&t(s)})}Jt(e){const t=e.targetId,r=e.Et.count,s=this.Yt(t);if(s){const u=s.target;if(wE(u))if(0===r){const h=new vt(u.path);this.Qt(t,h,ni.newNoDocument(h,rn.min()))}else Zt(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((u,h)=>{const _=this.Yt(h);if(_){if(u.current&&wE(_.target)){const w=new vt(_.target.path);null!==this.Lt.get(w)||this.te(h,w)||this.Qt(h,w,ni.newNoDocument(w,e))}u.St&&(t.set(h,u.Ct()),u.xt())}});let r=kn();this.qt.forEach((u,h)=>{let _=!0;h.forEachWhile(w=>{const T=this.Yt(w);return!T||2===T.purpose||(_=!1,!1)}),_&&(r=r.add(u))}),this.Lt.forEach((u,h)=>h.setReadTime(e));const s=new Hv(e,t,this.Ut,this.Lt,r);return this.Lt=nl(),this.qt=o(),this.Ut=new Ar(Sn),s}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const s=this.Wt(e);this.te(e,t)?s.Nt(t,1):s.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new nA,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Ar(Sn),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||rt("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new nA),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function o(){return new Di(vt.comparator)}function a(){return new Di(vt.comparator)}const d={asc:"ASCENDING",desc:"DESCENDING"},g={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m={and:"AND",or:"OR"};class b{constructor(e,t){this.databaseId=e,this.wt=t}}function S(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x(n,e){return n.wt?e.toBase64():e.toUint8Array()}function M(n,e){return S(n,e.toTimestamp())}function k(n){return Zt(!!n),rn.fromTimestamp(function(e){const t=Wg(e);return new ti(t.seconds,t.nanos)}(n))}function $(n,e){return(t=n,new nr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function K(n){const e=nr.fromString(n);return Zt(jM(e)),e}function re(n,e){return $(n.databaseId,e.path)}function ge(n,e){const t=K(e);if(t.get(1)!==n.databaseId.projectId)throw new Ye(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ye(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new vt(Vt(t))}function Le(n,e){return $(n.databaseId,e)}function lt(n){const e=K(n);return 4===e.length?nr.emptyPath():Vt(e)}function yt(n){return new nr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Vt(n){return Zt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function pn(n,e,t){return{name:re(n,e),fields:t.value.mapValue.fields}}function Qe(n,e,t){const r=ge(n,e.name),s=k(e.updateTime),u=e.createTime?k(e.createTime):rn.min(),h=new Us({mapValue:{fields:e.fields}}),_=ni.newFoundDocument(r,s,u,h);return t&&_.setHasCommittedMutations(),t?_.setHasCommittedMutations():_}function ri(n,e){let t;if(e instanceof j_)t={update:pn(n,e.key,e.value)};else if(e instanceof sm)t={delete:re(n,e.key)};else if(e instanceof sf)t={update:pn(n,e.key,e.data),updateMask:RF(e.fieldMask)};else{if(!(e instanceof IE))return Ft();t={verify:re(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const h=u.transform;if(h instanceof Vv)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof em)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof tm)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof nm)return{fieldPath:u.field.canonicalString(),increment:h.gt};throw Ft()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:M(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Ft()),t;var s}function AS(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?zr.updateTime(k(s.updateTime)):void 0!==s.exists?zr.exists(s.exists):zr.none():zr.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(u,h){let _=null;"setToServerValue"in h?(Zt("REQUEST_TIME"===h.setToServerValue),_=new Vv):"appendMissingElements"in h?_=new em(h.appendMissingElements.values||[]):"removeAllFromArray"in h?_=new tm(h.removeAllFromArray.values||[]):"increment"in h?_=new nm(u,h.increment):Ft();const w=Fi.fromServerFormat(h.fieldPath);return new rm(w,_)}(n,s)):[];var s;if(e.update){const s=ge(n,e.update.name),u=new Us({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new tl((e.updateMask.fieldPaths||[]).map(T=>Fi.fromServerFormat(T)));return new sf(s,u,h,t,r)}return new j_(s,u,t,r)}if(e.delete){const s=ge(n,e.delete);return new sm(s,t)}if(e.verify){const s=ge(n,e.verify);return new IE(s,t)}return Ft()}function VM(n,e){return{documents:[Le(n,e.path)]}}function rA(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Le(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Le(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(w){if(0!==w.length)return HM(Cr.create(w,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const u=function(w){if(0!==w.length)return w.map(T=>{return{field:ME((N=T).field),direction:xF(N.dir)};var N})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=(T=e.limit,n.wt||k_(T)?T:{value:T});var T,_,w;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(_=e.startAt).inclusive,values:_.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function UM(n){let e=lt(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Zt(1===r);const N=t.from[0];N.allDescendants?s=N.collectionId:e=e.child(N.collectionId)}let u=[];t.where&&(u=function(N){const L=$M(N);return L instanceof Cr&&$I(L)?L.getFilters():[L]}(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(N=>{return new V_(RE((L=N).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction));var L}));let _=null;t.limit&&(_=function(N){let L;return L="object"==typeof N?N.value:N,k_(L)?null:L}(t.limit));let w=null;var N;t.startAt&&(w=new Yg((N=t.startAt).values||[],!!N.before));let T=null;return t.endAt&&(T=function(N){return new Yg(N.values||[],!N.before)}(t.endAt)),zC(e,s,h,u,_,"F",w,T)}function $M(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=RE(e.unaryFilter.field);return Yn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=RE(e.unaryFilter.field);return Yn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=RE(e.unaryFilter.field);return Yn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=RE(e.unaryFilter.field);return Yn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ft()}}(n):void 0!==n.fieldFilter?Yn.create(RE((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ft()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Cr.create(e.compositeFilter.filters.map(t=>$M(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ft()}}(e.compositeFilter.op))}(n):Ft();var e}function xF(n){return d[n]}function NF(n){return g[n]}function MF(n){return m[n]}function ME(n){return{fieldPath:n.canonicalString()}}function RE(n){return Fi.fromServerFormat(n.fieldPath)}function HM(n){return n instanceof Yn?function(e){if("=="===e.op){if(LI(e.value))return{unaryFilter:{field:ME(e.field),op:"IS_NAN"}};if(HC(e.value))return{unaryFilter:{field:ME(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(LI(e.value))return{unaryFilter:{field:ME(e.field),op:"IS_NOT_NAN"}};if(HC(e.value))return{unaryFilter:{field:ME(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ME(e.field),op:NF(e.op),value:e.value}}}(n):n instanceof Cr?function(e){const t=e.getFilters().map(r=>HM(r));return 1===t.length?t[0]:{compositeFilter:{op:MF(e.op),filters:t}}}(n):Ft()}function RF(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jM(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Pl(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=GM(e)),e=PF(n.get(t),e);return GM(e)}function PF(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const u=n.charAt(s);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function GM(n){return n+"\x01\x01"}function Ep(n){const e=n.length;if(Zt(e>=2),2===e)return Zt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),nr.emptyPath();const t=e-2,r=[];let s="";for(let u=0;u<e;){const h=n.indexOf("\x01",u);switch((h<0||h>t)&&Ft(),n.charAt(h+1)){case"\x01":const _=n.substring(u,h);let w;0===s.length?w=_:(s+=_,w=s,s=""),r.push(w);break;case"\x10":s+=n.substring(u,h),s+="\0";break;case"\x11":s+=n.substring(u,h+1);break;default:Ft()}u=h+2}return new nr(r)}const qM=["userId","batchId"];function xS(n,e){return[n,Pl(e)]}function zM(n,e,t){return[n,Pl(e),t]}const OF={},kF=["prefixPath","collectionGroup","readTime","documentId"],FF=["prefixPath","collectionGroup","documentId"],LF=["collectionGroup","readTime","prefixPath","documentId"],BF=["canonicalId","targetId"],VF=["targetId","path"],UF=["path","targetId"],$F=["collectionId","parent"],HF=["indexId","uid"],jF=["uid","sequenceNumber"],GF=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qF=["indexId","uid","orderedDocumentKey"],zF=["userId","collectionPath","documentId"],WF=["userId","collectionPath","largestBatchId"],KF=["userId","collectionGroup","largestBatchId"],WM=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ZF=[...WM,"documentOverlays"],KM=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ZM=KM,YF=[...ZM,"indexConfiguration","indexState","indexEntries"];class iA extends zg{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Zo(n,e){const t=Et(n);return Fc.M(t.se,e)}class sA{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&PM(u,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=TE(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=TE(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=IS();return this.mutations.forEach(s=>{const u=e.get(s.key),h=u.overlayedDocument;let _=this.applyToLocalView(h,u.mutatedFields);_=t.has(s.key)?null:_;const w=YI(h,_);null!==w&&r.set(s.key,w),h.isValidDocument()||h.convertToNoDocument(rn.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),kn())}isEqual(e){return this.batchId===e.batchId&&Nv(this.mutations,e.mutations,(t,r)=>JC(t,r))&&Nv(this.baseMutations,e.baseMutations,(t,r)=>JC(t,r))}}class oA{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Zt(e.mutations.length===r.length);let s=kM;const u=e.mutations;for(let h=0;h<u.length;h++)s=s.insert(u[h].key,r[h].version);return new oA(e,t,r,s)}}class aA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class G_{constructor(e,t,r,s,u=rn.min(),h=rn.min(),_=so.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=_}withSequenceNumber(e){return new G_(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new G_(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new G_(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class YM{constructor(e){this.ie=e}}function JM(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:NS(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:re(s=n.ie,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:S(s,u.version.toTimestamp()),createTime:S(s,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:jv(e.version)};else{if(!e.isUnknownDocument())return Ft();r.unknownDocument={path:t.path.toArray(),version:jv(e.version)}}var s,u;return r}function NS(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function jv(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Gv(n){const e=new ti(n.seconds,n.nanoseconds);return rn.fromTimestamp(e)}function qv(n,e){const t=(e.baseMutations||[]).map(u=>AS(n.ie,u));for(let u=0;u<e.mutations.length-1;++u){const h=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(h.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>AS(n.ie,u)),s=ti.fromMillis(e.localWriteTimeMs);return new sA(e.batchId,s,t,r)}function nD(n){const e=Gv(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Gv(n.lastLimboFreeSnapshotVersion):rn.min();let r;var s;return void 0!==n.query.documents?(Zt(1===(s=n.query).documents.length),r=Ko(Lv(lt(s.documents[0])))):r=Ko(UM(n.query)),new G_(r,n.targetId,0,n.lastListenSequenceNumber,e,t,so.fromBase64String(n.resumeToken))}function QM(n,e){const t=jv(e.snapshotVersion),r=jv(e.lastLimboFreeSnapshotVersion);let s;s=wE(e.target)?VM(n.ie,e.target):rA(n.ie,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qg(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function lA(n){const e=UM({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Xg(e,e.limit,"L"):e}function uA(n,e){return new aA(e.largestBatchId,AS(n.ie,e.overlayMutation))}function XM(n,e){const t=e.path.lastSegment();return[n,Pl(e.path.popLast()),t]}function eR(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:jv(r.readTime),documentKey:Pl(r.documentKey.path),largestBatchId:r.largestBatchId}}class QF{getBundleMetadata(e,t){return tR(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:Gv(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return tR(e).put({bundleId:(r=t).id,createTime:jv(k(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return nR(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:lA(s.bundledQuery),readTime:Gv(s.readTime)};var s})}saveNamedQuery(e,t){return nR(e).put({name:(r=t).name,readTime:jv(k(r.readTime)),bundledQuery:r.bundledQuery});var r}}function tR(n){return Zo(n,"bundles")}function nR(n){return Zo(n,"namedQueries")}class MS{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new MS(e,t.uid||"")}getOverlay(e,t){return rD(e).get(XM(this.userId,t)).next(r=>r?uA(this.yt,r):null)}getOverlays(e,t){const r=Fd();return Se.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){const s=[];return r.forEach((u,h)=>{const _=new aA(t,h);s.push(this.oe(e,_))}),Se.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(h=>s.add(Pl(h.getCollectionPath())));const u=[];return s.forEach(h=>{const _=IDBKeyRange.bound([this.userId,h,r],[this.userId,h,r+1],!1,!0);u.push(rD(e).Y("collectionPathOverlayIndex",_))}),Se.waitFor(u)}getOverlaysForCollection(e,t,r){const s=Fd(),u=Pl(t),h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return rD(e).W("collectionPathOverlayIndex",h).next(_=>{for(const w of _){const T=uA(this.yt,w);s.set(T.getKey(),T)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const u=Fd();let h;const _=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return rD(e).Z({index:"collectionGroupOverlayIndex",range:_},(w,T,N)=>{const L=uA(this.yt,T);u.size()<s||L.largestBatchId===h?(u.set(L.getKey(),L),h=L.largestBatchId):N.done()}).next(()=>u)}oe(e,t){return rD(e).put(function(r,s,u){const[h,_,w]=XM(s,u.mutation.key);return{userId:s,collectionPath:_,documentId:w,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:ri(r.ie,u.mutation)}}(this.yt,this.userId,t))}}function rD(n){return Zo(n,"documentOverlays")}class zv{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(es(e.integerValue));else if("doubleValue"in e){const r=es(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),F_(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(L_(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?aS(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Ft()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const s of Object.keys(r))this.de(s,t),this.ce(r[s],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const s of r)this.ce(s,t)}me(e,t){this.he(t,37),vt.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function XF(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function rR(n){const e=64-function(t){let r=0;for(let s=0;s<8;++s){const u=XF(255&t[s]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}zv.Ie=new zv;class eL{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ee(r.value),r=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Pe()}ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const s=t.codePointAt(0);this.Ee(240|s>>>18),this.Ee(128|63&s>>>12),this.Ee(128|63&s>>>6),this.Ee(128|63&s)}}this.Ae()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const s=t.codePointAt(0);this.be(240|s>>>18),this.be(128|63&s>>>12),this.be(128|63&s>>>6),this.be(128|63&s)}}this.Pe()}Se(e){const t=this.De(e),r=rR(t);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}xe(e){const t=this.De(e),r=rR(t);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(s){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,s,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class tL{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class nL{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class iD{constructor(){this.$e=new eL,this.Be=new tL(this.$e),this.Le=new nL(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Wv{constructor(e,t,r,s){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=s}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Wv(this.indexId,this.documentKey,this.arrayValue,r)}}function q_(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=iR(n.arrayValue,e.arrayValue),0!==t?t:(t=iR(n.directionalValue,e.directionalValue),0!==t?t:vt.comparator(n.documentKey,e.documentKey)))}function iR(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class rL{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const r=t;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){Zt(e.collectionGroup===this.collectionId);const t=RC(e);if(void 0!==t&&!this.We(t))return!1;const r=qg(e);let s=0,u=0;for(;s<r.length&&this.We(r[s]);++s);if(s===r.length)return!0;if(void 0!==this.Qe){const h=r[s];if(!this.ze(this.Qe,h)||!this.He(this.Ke[u++],h))return!1;++s}for(;s<r.length;++s){const h=r[s];if(u>=this.Ke.length||!this.He(this.Ke[u++],h))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function sR(n){var e,t;if(Zt(n instanceof Yn||n instanceof Cr),n instanceof Yn){if(n instanceof vE){const s=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>Yn.create(n.field,"==",u)))||[];return Cr.create(s,"or")}return n}const r=n.filters.map(s=>sR(s));return Cr.create(r,n.op)}function iL(n){if(0===n.getFilters().length)return[];const e=hA(sR(n));return Zt(oR(e)),cA(e)||dA(e)?[e]:e.getFilters()}function cA(n){return n instanceof Yn}function dA(n){return n instanceof Cr&&$I(n)}function oR(n){return cA(n)||dA(n)||function(e){if(e instanceof Cr&&_E(e)){for(const t of e.getFilters())if(!cA(t)&&!dA(t))return!1;return!0}return!1}(n)}function hA(n){if(Zt(n instanceof Yn||n instanceof Cr),n instanceof Yn)return n;if(1===n.filters.length)return hA(n.filters[0]);const e=n.filters.map(r=>hA(r));let t=Cr.create(e,n.op);return t=RS(t),oR(t)?t:(Zt(t instanceof Cr),Zt(Jg(t)),Zt(t.filters.length>1),t.filters.reduce((r,s)=>fA(r,s)))}function fA(n,e){let t;return Zt(n instanceof Yn||n instanceof Cr),Zt(e instanceof Yn||e instanceof Cr),t=n instanceof Yn?e instanceof Yn?Cr.create([n,e],"and"):aR(n,e):e instanceof Yn?aR(e,n):function(r,s){if(Zt(r.filters.length>0&&s.filters.length>0),Jg(r)&&Jg(s))return hS(r,s.getFilters());const u=_E(r)?r:s,h=_E(r)?s:r,_=u.filters.map(w=>fA(w,h));return Cr.create(_,"or")}(n,e),RS(t)}function aR(n,e){if(Jg(e))return hS(e,n.getFilters());{const t=e.filters.map(r=>fA(n,r));return Cr.create(t,"or")}}function RS(n){if(Zt(n instanceof Yn||n instanceof Cr),n instanceof Yn)return n;const e=n.getFilters();if(1===e.length)return RS(e[0]);if(xu(n))return n;const t=e.map(s=>RS(s)),r=[];return t.forEach(s=>{s instanceof Yn?r.push(s):s instanceof Cr&&(s.op===n.op?r.push(...s.filters):r.push(s))}),1===r.length?r[0]:Cr.create(r,n.op)}class sL{constructor(){this.Je=new pA}addToCollectionParentIndex(e,t){return this.Je.add(t),Se.resolve()}getCollectionParents(e,t){return Se.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return Se.resolve()}deleteFieldIndex(e,t){return Se.resolve()}getDocumentsMatchingTarget(e,t){return Se.resolve(null)}getIndexType(e,t){return Se.resolve(0)}getFieldIndexes(e,t){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,t){return Se.resolve(el.min())}getMinOffsetFromCollectionGroup(e,t){return Se.resolve(el.min())}updateCollectionGroup(e,t,r){return Se.resolve()}updateIndexEntries(e,t){return Se.resolve()}}class pA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Ar(nr.comparator),u=!s.has(r);return this.index[t]=s.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ar(nr.comparator)).toArray()}}const PS=new Uint8Array(0);class oL{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new pA,this.Xe=new af(r=>Qg(r),(r,s)=>kv(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const u={collectionId:r,parent:Pl(s)};return lR(e).put(u)}return Se.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[MI(t),""],!1,!0);return lR(e).W(s).next(u=>{for(const h of u){if(h.collectionId!==t)break;r.push(Ep(h.parent))}return r})}addFieldIndex(e,t){const r=OS(e),s={indexId:(h=t).indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(_=>[_.fieldPath.canonicalString(),_.kind])};var h;delete s.indexId;const u=r.add(s);if(t.indexState){const h=oD(e);return u.next(_=>{h.put(eR(_,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=OS(e),s=oD(e),u=sD(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=sD(e);let s=!0;const u=new Map;return Se.forEach(this.Ze(t),h=>this.tn(e,h).next(_=>{s&&(s=!!_),u.set(h,_)})).next(()=>{if(s){let h=kn();const _=[];return Se.forEach(u,(w,T)=>{var N;rt("IndexedDbIndexManager",`Using index ${N=w,`id=${N.indexId}|cg=${N.collectionGroup}|f=${N.fields.map(ht=>`${ht.fieldPath}:${ht.kind}`).join(",")}`} to execute ${Qg(t)}`);const L=function(ht,it){const ft=RC(it);if(void 0===ft)return null;for(const mt of Fv(ht,ft.fieldPath))switch(mt.op){case"array-contains-any":return mt.value.arrayValue.values||[];case"array-contains":return[mt.value]}return null}(T,w),j=function(ht,it){const ft=new Map;for(const mt of qg(it))for(const Jt of Fv(ht,mt.fieldPath))switch(Jt.op){case"==":case"in":ft.set(mt.fieldPath.canonicalString(),Jt.value);break;case"not-in":case"!=":return ft.set(mt.fieldPath.canonicalString(),Jt.value),Array.from(ft.values())}return null}(T,w),z=function(ht,it){const ft=[];let mt=!0;for(const Jt of qg(it)){const Pn=0===Jt.kind?qI(ht,Jt.fieldPath,ht.startAt):qC(ht,Jt.fieldPath,ht.startAt);ft.push(Pn.value),mt&&(mt=Pn.inclusive)}return new Yg(ft,mt)}(T,w),Q=function(ht,it){const ft=[];let mt=!0;for(const Jt of qg(it)){const Pn=0===Jt.kind?qC(ht,Jt.fieldPath,ht.endAt):qI(ht,Jt.fieldPath,ht.endAt);ft.push(Pn.value),mt&&(mt=Pn.inclusive)}return new Yg(ft,mt)}(T,w),le=this.en(w,T,z),ve=this.en(w,T,Q),He=this.nn(w,T,j),nt=this.sn(w.indexId,L,le,z.inclusive,ve,Q.inclusive,He);return Se.forEach(nt,ht=>r.J(ht,t.limit).next(it=>{it.forEach(ft=>{const mt=vt.fromSegments(ft.documentKey);h.has(mt)||(h=h.add(mt),_.push(mt))})}))}).next(()=>_)}return Se.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:iL(Cr.create(e.filters,"and")).map(r=>GC(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,r,s,u,h,_){const w=(null!=t?t.length:1)*Math.max(r.length,u.length),T=w/(null!=t?t.length:1),N=[];for(let L=0;L<w;++L){const j=t?this.rn(t[L/T]):PS,z=this.on(e,j,r[L%T],s),Q=this.un(e,j,u[L%T],h),le=_.map(ve=>this.on(e,j,ve,!0));N.push(...this.createRange(z,Q,le))}return N}on(e,t,r,s){const u=new Wv(e,vt.empty(),t,r);return s?u:u.Ue()}un(e,t,r,s){const u=new Wv(e,vt.empty(),t,r);return s?u.Ue():u}tn(e,t){const r=new rL(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(u=>{let h=null;for(const _ of u)r.je(_)&&(!h||_.fields.length>h.fields.length)&&(h=_);return h})}getIndexType(e,t){let r=2;const s=this.Ze(t);return Se.forEach(s,u=>this.tn(e,u).next(h=>{h?0!==r&&h.fields.length<function(_){let w=new Ar(Fi.comparator),T=!1;for(const N of _.filters)for(const L of N.getFlattenedFilters())L.field.isKeyField()||("array-contains"===L.op||"array-contains-any"===L.op?T=!0:w=w.add(L.field));for(const N of _.orderBy)N.field.isKeyField()||(w=w.add(N.field));return w.size+(T?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&s.length>1&&2===r?1:r)}cn(e,t){const r=new iD;for(const s of qg(e)){const u=t.data.field(s.fieldPath);if(null==u)return null;const h=r.qe(s.kind);zv.Ie.ue(u,h)}return r.Fe()}rn(e){const t=new iD;return zv.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const r=new iD;return zv.Ie.ue(nf(this.databaseId,t),r.qe(function(s){const u=qg(s);return 0===u.length?0:u[u.length-1].kind}(e))),r.Fe()}nn(e,t,r){if(null===r)return[];let s=[];s.push(new iD);let u=0;for(const h of qg(e)){const _=r[u++];for(const w of s)if(this.hn(t,h.fieldPath)&&Pv(_))s=this.ln(s,h,_);else{const T=w.qe(h.kind);zv.Ie.ue(_,T)}}return this.fn(s)}en(e,t,r){return this.nn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Fe();return t}ln(e,t,r){const s=[...e],u=[];for(const h of r.arrayValue.values||[])for(const _ of s){const w=new iD;w.seed(_.Fe()),zv.Ie.ue(h,w.qe(t.kind)),u.push(w)}return u}hn(e,t){return!!e.filters.find(r=>r instanceof Yn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=OS(e),s=oD(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(u=>{const h=[];return Se.forEach(u,_=>s.get([_.indexId,this.uid]).next(w=>{h.push(function(T,N){const L=N?new pp(N.sequenceNumber,new el(Gv(N.readTime),new vt(Ep(N.documentKey)),N.largestBatchId)):pp.empty(),j=T.fields.map(([z,Q])=>new Mv(Fi.fromServerFormat(z),Q));return new cE(T.indexId,T.collectionGroup,j,L)}(_,w))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,s)=>{const u=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==u?u:Sn(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=OS(e),u=oD(e);return this.dn(e).next(h=>s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(_=>Se.forEach(_,w=>u.put(eR(w.indexId,this.user,h,r)))))}updateIndexEntries(e,t){const r=new Map;return Se.forEach(t,(s,u)=>{const h=r.get(s.collectionGroup);return(h?Se.resolve(h):this.getFieldIndexes(e,s.collectionGroup)).next(_=>(r.set(s.collectionGroup,_),Se.forEach(_,w=>this._n(e,s,w).next(T=>{const N=this.wn(u,w);return T.isEqual(N)?Se.resolve():this.mn(e,u,w,T,N)}))))})}gn(e,t,r,s){return sD(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.an(r,t.key),documentKey:t.key.path.toArray()})}yn(e,t,r,s){return sD(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.an(r,t.key),t.key.path.toArray()])}_n(e,t,r){const s=sD(e);let u=new Ar(q_);return s.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,t)])},(h,_)=>{u=u.add(new Wv(r.indexId,t,_.arrayValue,_.directionalValue))}).next(()=>u)}wn(e,t){let r=new Ar(q_);const s=this.cn(t,e);if(null==s)return r;const u=RC(t);if(null!=u){const h=e.data.field(u.fieldPath);if(Pv(h))for(const _ of h.arrayValue.values||[])r=r.add(new Wv(t.indexId,e.key,this.rn(_),s))}else r=r.add(new Wv(t.indexId,e.key,PS,s));return r}mn(e,t,r,s,u){rt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const h=[];return function(_,w,T,N,L){const j=_.getIterator(),z=w.getIterator();let Q=Rl(j),le=Rl(z);for(;Q||le;){let ve=!1,He=!1;if(Q&&le){const nt=T(Q,le);nt<0?He=!0:nt>0&&(ve=!0)}else null!=Q?He=!0:ve=!0;ve?(N(le),le=Rl(z)):He?(L(Q),Q=Rl(j)):(Q=Rl(j),le=Rl(z))}}(s,u,q_,_=>{h.push(this.gn(e,t,r,_))},_=>{h.push(this.yn(e,t,r,_))}),Se.waitFor(h)}dn(e){let t=1;return oD(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,u)=>{u.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((h,_)=>q_(h,_)).filter((h,_,w)=>!_||0!==q_(h,w[_-1]));const s=[];s.push(e);for(const h of r){const _=q_(h,e),w=q_(h,t);if(0===_)s[0]=e.Ue();else if(_>0&&w<0)s.push(h),s.push(h.Ue());else if(w>0)break}s.push(t);const u=[];for(let h=0;h<s.length;h+=2){if(this.pn(s[h],s[h+1]))return[];u.push(IDBKeyRange.bound([s[h].indexId,this.uid,s[h].arrayValue,s[h].directionalValue,PS,[]],[s[h+1].indexId,this.uid,s[h+1].arrayValue,s[h+1].directionalValue,PS,[]]))}return u}pn(e,t){return q_(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(uR)}getMinOffset(e,t){return Se.mapArray(this.Ze(t),r=>this.tn(e,r).next(s=>s||Ft())).next(uR)}}function lR(n){return Zo(n,"collectionParents")}function sD(n){return Zo(n,"indexEntries")}function OS(n){return Zo(n,"indexConfiguration")}function oD(n){return Zo(n,"indexState")}function uR(n){Zt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;OC(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new el(e.readTime,e.documentKey,t)}const cR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Mu{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Mu(e,Mu.DEFAULT_COLLECTION_PERCENTILE,Mu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function dR(n,e,t){const r=n.store("mutations"),s=n.store("documentMutations"),u=[],h=IDBKeyRange.only(t.batchId);let _=0;const w=r.Z({range:h},(N,L,j)=>(_++,j.delete()));u.push(w.next(()=>{Zt(1===_)}));const T=[];for(const N of t.mutations){const L=zM(e,N.key.path,t.batchId);u.push(s.delete(L)),T.push(N.key)}return Se.waitFor(u).next(()=>T)}function kS(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ft();e=n.noDocument}return JSON.stringify(e).length}Mu.DEFAULT_COLLECTION_PERCENTILE=10,Mu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mu.DEFAULT=new Mu(41943040,Mu.DEFAULT_COLLECTION_PERCENTILE,Mu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mu.DISABLED=new Mu(-1,0,0);class FS{constructor(e,t,r,s){this.userId=e,this.yt=t,this.indexManager=r,this.referenceDelegate=s,this.In={}}static re(e,t,r,s){Zt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new FS(u,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return z_(e).Z({index:"userMutationsIndex",range:r},(s,u,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const u=PE(e),h=z_(e);return h.add({}).next(_=>{Zt("number"==typeof _);const w=new sA(_,t,r,s),T=function(j,z,Q){const le=Q.baseMutations.map(He=>ri(j.ie,He)),ve=Q.mutations.map(He=>ri(j.ie,He));return{userId:z,batchId:Q.batchId,localWriteTimeMs:Q.localWriteTime.toMillis(),baseMutations:le,mutations:ve}}(this.yt,this.userId,w),N=[];let L=new Ar((j,z)=>Sn(j.canonicalString(),z.canonicalString()));for(const j of s){const z=zM(this.userId,j.key.path,_);L=L.add(j.key.path.popLast()),N.push(h.put(T)),N.push(u.put(z,OF))}return L.forEach(j=>{N.push(this.indexManager.addToCollectionParentIndex(e,j))}),e.addOnCommittedListener(()=>{this.In[_]=w.keys()}),Se.waitFor(N).next(()=>w)})}lookupMutationBatch(e,t){return z_(e).get(t).next(r=>r?(Zt(r.userId===this.userId),qv(this.yt,r)):null)}Tn(e,t){return this.In[t]?Se.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.In[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return z_(e).Z({index:"userMutationsIndex",range:s},(h,_,w)=>{_.userId===this.userId&&(Zt(_.batchId>=r),u=qv(this.yt,_)),w.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return z_(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(s,u,h)=>{r=u.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return z_(e).W("userMutationsIndex",t).next(r=>r.map(s=>qv(this.yt,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=xS(this.userId,t.path),s=IDBKeyRange.lowerBound(r),u=[];return PE(e).Z({range:s},(h,_,w)=>{const[T,N,L]=h,j=Ep(N);if(T===this.userId&&t.path.isEqual(j))return z_(e).get(L).next(z=>{if(!z)throw Ft();Zt(z.userId===this.userId),u.push(qv(this.yt,z))});w.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ar(Sn);const s=[];return t.forEach(u=>{const h=xS(this.userId,u.path),_=IDBKeyRange.lowerBound(h),w=PE(e).Z({range:_},(T,N,L)=>{const[j,z,Q]=T,le=Ep(z);j===this.userId&&u.path.isEqual(le)?r=r.add(Q):L.done()});s.push(w)}),Se.waitFor(s).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,u=xS(this.userId,r),h=IDBKeyRange.lowerBound(u);let _=new Ar(Sn);return PE(e).Z({range:h},(w,T,N)=>{const[L,j,z]=w,Q=Ep(j);L===this.userId&&r.isPrefixOf(Q)?Q.length===s&&(_=_.add(z)):N.done()}).next(()=>this.En(e,_))}En(e,t){const r=[],s=[];return t.forEach(u=>{s.push(z_(e).get(u).next(h=>{if(null===h)throw Ft();Zt(h.userId===this.userId),r.push(qv(this.yt,h))}))}),Se.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return dR(e.se,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Se.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Se.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return PE(e).Z({range:r},(u,h,_)=>{if(u[0]===this.userId){const w=Ep(u[1]);s.push(w)}else _.done()}).next(()=>{Zt(0===s.length)})})}containsKey(e,t){return hR(e,this.userId,t)}Rn(e){return fR(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function hR(n,e,t){const r=xS(e,t.path),s=r[1],u=IDBKeyRange.lowerBound(r);let h=!1;return PE(n).Z({range:u,X:!0},(_,w,T)=>{const[N,L,j]=_;N===e&&L===s&&(h=!0),T.done()}).next(()=>h)}function z_(n){return Zo(n,"mutations")}function PE(n){return Zo(n,"documentMutations")}function fR(n){return Zo(n,"mutationQueues")}class Kv{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Kv(0)}static vn(){return new Kv(-1)}}class aL{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new Kv(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>rn.fromTimestamp(new ti(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.Sn(e,s)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>OE(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Zt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let s=0;const u=[];return OE(e).Z((h,_)=>{const w=nD(_);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(s++,u.push(this.removeTargetData(e,w)))}).next(()=>Se.waitFor(u)).next(()=>s)}forEachTarget(e,t){return OE(e).Z((r,s)=>{const u=nD(s);t(u)})}Vn(e){return pR(e).get("targetGlobalKey").next(t=>(Zt(null!==t),t))}Sn(e,t){return pR(e).put("targetGlobalKey",t)}Dn(e,t){return OE(e).put(QM(this.yt,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Qg(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return OE(e).Z({range:s,index:"queryTargetsIndex"},(h,_,w)=>{const T=nD(_);kv(t,T.target)&&(u=T,w.done())}).next(()=>u)}addMatchingKeys(e,t,r){const s=[],u=W_(e);return t.forEach(h=>{const _=Pl(h.path);s.push(u.put({targetId:r,path:_})),s.push(this.referenceDelegate.addReference(e,r,h))}),Se.waitFor(s)}removeMatchingKeys(e,t,r){const s=W_(e);return Se.forEach(t,u=>{const h=Pl(u.path);return Se.waitFor([s.delete([r,h]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=W_(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=W_(e);let u=kn();return s.Z({range:r,X:!0},(h,_,w)=>{const T=Ep(h[1]),N=new vt(T);u=u.add(N)}).next(()=>u)}containsKey(e,t){const r=Pl(t.path),s=IDBKeyRange.bound([r],[MI(r)],!1,!0);let u=0;return W_(e).Z({index:"documentTargetsIndex",X:!0,range:s},([h,_],w,T)=>{0!==h&&(u++,T.done())}).next(()=>u>0)}ne(e,t){return OE(e).get(t).next(r=>r?nD(r):null)}}function OE(n){return Zo(n,"targets")}function pR(n){return Zo(n,"targetGlobal")}function W_(n){return Zo(n,"targetDocuments")}function gR([n,e],[t,r]){const s=Sn(n,t);return 0===s?Sn(e,r):s}class lL{constructor(e){this.xn=e,this.buffer=new Ar(gR),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();gR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uL{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;rt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ke.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){mp(r)?rt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield gp(r)}yield t.Fn(3e5)}))}}class cL{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Se.resolve(Ml.at);const r=new lL(t);return this.$n.forEachTarget(e,s=>r.On(s.sequenceNumber)).next(()=>this.$n.Ln(e,s=>r.On(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(cR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cR):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let r,s,u,h,_,w,T;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(L=>(L>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${L}`),s=this.params.maximumSequenceNumbersToCollect):s=L,h=Date.now(),this.nthSequenceNumber(e,s))).next(L=>(r=L,_=Date.now(),this.removeTargets(e,r,t))).next(L=>(u=L,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(L=>(T=Date.now(),xv()<=Fs.in.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-N}ms\n\tDetermined least recently used ${s} in `+(_-h)+`ms\n\tRemoved ${u} targets in `+(w-_)+`ms\n\tRemoved ${L} documents in `+(T-w)+`ms\nTotal Duration: ${T-N}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:L})))}}class dL{constructor(e,t){this.db=e,this.garbageCollector=new cL(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Un(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,s)=>t(s))}addReference(e,t,r){return LS(e,r)}removeReference(e,t,r){return LS(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return LS(e,t)}Gn(e,t){return function(r,s){let u=!1;return fR(r).tt(h=>hR(r,h,s).next(_=>(_&&(u=!0),Se.resolve(!_)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let u=0;return this.Kn(e,(h,_)=>{if(_<=t){const w=this.Gn(e,h).next(T=>{if(!T)return u++,r.getEntry(e,h).next(()=>(r.removeEntry(h,rn.min()),W_(e).delete([0,Pl(h.path)])))});s.push(w)}}).next(()=>Se.waitFor(s)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return LS(e,t)}Kn(e,t){const r=W_(e);let s,u=Ml.at;return r.Z({index:"documentTargetsIndex"},([h,_],{path:w,sequenceNumber:T})=>{0===h?(u!==Ml.at&&t(new vt(Ep(s)),u),u=T,s=w):u=Ml.at}).next(()=>{u!==Ml.at&&t(new vt(Ep(s)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function LS(n,e){return W_(n).put((r=n.currentSequenceNumber,{targetId:0,path:Pl(e.path),sequenceNumber:r}));var r}class mR{constructor(){this.changes=new af(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ni.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hL{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Zv(e).put(r)}removeEntry(e,t,r){return Zv(e).delete(function(s,u){const h=s.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],NS(u),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=ni.newInvalidDocument(t);return Zv(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(aD(t))},(s,u)=>{r=this.jn(t,u)}).next(()=>r)}Wn(e,t){let r={size:0,document:ni.newInvalidDocument(t)};return Zv(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(aD(t))},(s,u)=>{r={document:this.jn(t,u),size:kS(u)}}).next(()=>r)}getEntries(e,t){let r=nl();return this.zn(e,t,(s,u)=>{const h=this.jn(s,u);r=r.insert(s,h)}).next(()=>r)}Hn(e,t){let r=nl(),s=new Di(vt.comparator);return this.zn(e,t,(u,h)=>{const _=this.jn(u,h);r=r.insert(u,_),s=s.insert(u,kS(h))}).next(()=>({documents:r,Jn:s}))}zn(e,t,r){if(t.isEmpty())return Se.resolve();let s=new Ar(bR);t.forEach(w=>s=s.add(w));const u=IDBKeyRange.bound(aD(s.first()),aD(s.last())),h=s.getIterator();let _=h.getNext();return Zv(e).Z({index:"documentKeyIndex",range:u},(w,T,N)=>{const L=vt.fromSegments([...T.prefixPath,T.collectionGroup,T.documentId]);for(;_&&bR(_,L)<0;)r(_,null),_=h.getNext();_&&_.isEqual(L)&&(r(_,T),_=h.hasNext()?h.getNext():null),_?N.j(aD(_)):N.done()}).next(()=>{for(;_;)r(_,null),_=h.hasNext()?h.getNext():null})}getAllFromCollection(e,t,r){const s=[t.popLast().toArray(),t.lastSegment(),NS(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zv(e).W(IDBKeyRange.bound(s,u,!0)).next(h=>{let _=nl();for(const w of h){const T=this.jn(vt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);_=_.insert(T.key,T)}return _})}getAllFromCollectionGroup(e,t,r,s){let u=nl();const h=vR(t,r),_=vR(t,el.max());return Zv(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,_,!0)},(w,T,N)=>{const L=this.jn(vt.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);u=u.insert(L.key,L),u.size===s&&N.done()}).next(()=>u)}newChangeBuffer(e){return new fL(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return yR(e).get("remoteDocumentGlobalKey").next(t=>(Zt(!!t),t))}Qn(e,t){return yR(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function JF(n,e){let t;if(e.document)t=Qe(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=vt.fromSegments(e.noDocument.path),s=Gv(e.noDocument.readTime);t=ni.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ft();{const r=vt.fromSegments(e.unknownDocument.path),s=Gv(e.unknownDocument.version);t=ni.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(r){const s=new ti(r[0],r[1]);return rn.fromTimestamp(s)}(e.readTime)),t}(this.yt,t);if(!r.isNoDocument()||!r.version.isEqual(rn.min()))return r}return ni.newInvalidDocument(e)}}function _R(n){return new hL(n)}class fL extends mR{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new af(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new Ar((u,h)=>Sn(u.canonicalString(),h.canonicalString()));return this.changes.forEach((u,h)=>{const _=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,_.readTime)),h.isValidDocument()){const w=JM(this.Yn.yt,h);s=s.add(u.path.popLast());const T=kS(w);r+=T-_.size,t.push(this.Yn.addEntry(e,u,w))}else if(r-=_.size,this.trackRemovals){const w=JM(this.Yn.yt,h.convertToNoDocument(rn.min()));t.push(this.Yn.addEntry(e,u,w))}}),s.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,r)),Se.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:s})=>(s.forEach((u,h)=>{this.Xn.set(u,{size:h,readTime:r.get(u).readTime})}),r))}}function yR(n){return Zo(n,"remoteDocumentGlobal")}function Zv(n){return Zo(n,"remoteDocumentsV14")}function aD(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function vR(n,e){const t=e.documentKey.path.toArray();return[n,NS(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function bR(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(s=Sn(t[u],r[u]),s)return s;return s=Sn(t.length,r.length),s||(s=Sn(t[t.length-2],r[r.length-2]),s||Sn(t[t.length-1],r[r.length-1]))}class pL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ER{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&TE(r.mutation,s,tl.empty(),ti.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,kn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=kn()){const s=Fd();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(u=>{let h=xE();return u.forEach((_,w)=>{h=h.insert(_,w.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const r=Fd();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,kn()))}populateOverlays(e,t,r){const s=[];return r.forEach(u=>{t.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((h,_)=>{t.set(h,_)})})}computeViews(e,t,r,s){let u=nl();const h=$v(),_=$v();return t.forEach((w,T)=>{const N=r.get(T.key);s.has(T.key)&&(void 0===N||N.mutation instanceof sf)?u=u.insert(T.key,T):void 0!==N&&(h.set(T.key,N.mutation.getFieldMask()),TE(N.mutation,T,N.mutation.getFieldMask(),ti.now()))}),this.recalculateAndSaveOverlays(e,u).next(w=>(w.forEach((T,N)=>h.set(T,N)),t.forEach((T,N)=>{var L;return _.set(T,new pL(N,null!==(L=h.get(T))&&void 0!==L?L:null))}),_))}recalculateAndSaveOverlays(e,t){const r=$v();let s=new Di((h,_)=>h-_),u=kn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const _ of h)_.keys().forEach(w=>{const T=t.get(w);if(null===T)return;let N=r.get(w)||tl.empty();N=_.applyToLocalView(T,N),r.set(w,N);const L=(s.get(_.batchId)||kn()).add(w);s=s.insert(_.batchId,L)})}).next(()=>{const h=[],_=s.getReverseIterator();for(;_.hasNext();){const w=_.getNext(),T=w.key,N=w.value,L=IS();N.forEach(j=>{if(!u.has(j)){const z=YI(t.get(j),r.get(j));null!==z&&L.set(j,z),u=u.add(j)}}),h.push(this.documentOverlayCache.saveOverlays(e,T,L))}return Se.waitFor(h)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return vt.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):SE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(u=>{const h=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-u.size):Se.resolve(Fd());let _=-1,w=u;return h.next(T=>Se.forEach(T,(N,L)=>(_<L.largestBatchId&&(_=L.largestBatchId),u.get(N)?Se.resolve():this.remoteDocumentCache.getEntry(e,N).next(j=>{w=w.insert(N,j)}))).next(()=>this.populateOverlays(e,T,u)).next(()=>this.computeViews(e,w,T,kn())).next(N=>({batchId:_,changes:XI(N)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new vt(t)).next(r=>{let s=xE();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let u=xE();return this.indexManager.getCollectionParents(e,s).next(h=>Se.forEach(h,_=>{const w=(T=t,N=_.child(s),new rf(N,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,N;return this.getDocumentsMatchingCollectionQuery(e,w,r).next(T=>{T.forEach((N,L)=>{u=u.insert(N,L)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(s=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((_,w)=>{const T=w.getKey();null===s.get(T)&&(s=s.insert(T,ni.newInvalidDocument(T)))});let h=xE();return s.forEach((_,w)=>{const T=u.get(_);void 0!==T&&TE(T.mutation,w,tl.empty(),ti.now()),yS(t,w)&&(h=h.insert(_,w))}),h})}}class gL{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Se.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:k(r.createTime)}),Se.resolve()}getNamedQuery(e,t){return Se.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:lA(r.bundledQuery),readTime:k(r.readTime)}),Se.resolve();var r}}class mL{constructor(){this.overlays=new Di(vt.comparator),this.es=new Map}getOverlay(e,t){return Se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Fd();return Se.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,u)=>{this.oe(e,t,u)}),Se.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.es.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(r)),Se.resolve()}getOverlaysForCollection(e,t,r){const s=Fd(),u=t.length+1,h=new vt(t.child("")),_=this.overlays.getIteratorFrom(h);for(;_.hasNext();){const w=_.getNext().value,T=w.getKey();if(!t.isPrefixOf(T.path))break;T.path.length===u&&w.largestBatchId>r&&s.set(w.getKey(),w)}return Se.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let u=new Di((T,N)=>T-N);const h=this.overlays.getIterator();for(;h.hasNext();){const T=h.getNext().value;if(T.getKey().getCollectionGroup()===t&&T.largestBatchId>r){let N=u.get(T.largestBatchId);null===N&&(N=Fd(),u=u.insert(T.largestBatchId,N)),N.set(T.getKey(),T)}}const _=Fd(),w=u.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((T,N)=>_.set(T,N)),!(_.size()>=s)););return Se.resolve(_)}oe(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const h=this.es.get(s.largestBatchId).delete(r.key);this.es.set(s.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new aA(t,r));let u=this.es.get(t);void 0===u&&(u=kn(),this.es.set(t,u)),this.es.set(t,u.add(r.key))}}class gA{constructor(){this.ns=new Ar(Yo.ss),this.rs=new Ar(Yo.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Yo(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Yo(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new vt(new nr([])),r=new Yo(t,e),s=new Yo(t,e+1),u=[];return this.rs.forEachInRange([r,s],h=>{this.cs(h),u.push(h.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new vt(new nr([])),r=new Yo(t,e),s=new Yo(t,e+1);let u=kn();return this.rs.forEachInRange([r,s],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Yo(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Yo{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return vt.comparator(e.key,t.key)||Sn(e._s,t._s)}static os(e,t){return Sn(e._s,t._s)||vt.comparator(e.key,t.key)}}class _L{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Ar(Yo.ss)}checkEmpty(e){return Se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const u=this.ws;this.ws++;const h=new sA(u,t,r,s);this.mutationQueue.push(h);for(const _ of s)this.gs=this.gs.add(new Yo(_.key,u)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return Se.resolve(h)}lookupMutationBatch(e,t){return Se.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.ps(t+1),u=s<0?0:s;return Se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Yo(t,0),s=new Yo(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,s],h=>{const _=this.ys(h._s);u.push(_)}),Se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ar(Sn);return t.forEach(s=>{const u=new Yo(s,0),h=new Yo(s,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,h],_=>{r=r.add(_._s)})}),Se.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let u=r;vt.isDocumentKey(u)||(u=u.child(""));const h=new Yo(new vt(u),0);let _=new Ar(Sn);return this.gs.forEachWhile(w=>{const T=w.key.path;return!!r.isPrefixOf(T)&&(T.length===s&&(_=_.add(w._s)),!0)},h),Se.resolve(this.Is(_))}Is(e){const t=[];return e.forEach(r=>{const s=this.ys(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){Zt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return Se.forEach(t.mutations,s=>{const u=new Yo(s.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Yo(t,0),s=this.gs.firstAfterOrEqual(r);return Se.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return Se.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class yL{constructor(e){this.Es=e,this.docs=new Di(vt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),u=s?s.size:0,h=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Se.resolve(r?r.document.mutableCopy():ni.newInvalidDocument(t))}getEntries(e,t){let r=nl();return t.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():ni.newInvalidDocument(s))}),Se.resolve(r)}getAllFromCollection(e,t,r){let s=nl();const u=new vt(t.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:_,value:{document:w}}=h.getNext();if(!t.isPrefixOf(_.path))break;_.path.length>t.length+1||OC(RI(w),r)<=0||(s=s.insert(w.key,w.mutableCopy()))}return Se.resolve(s)}getAllFromCollectionGroup(e,t,r,s){Ft()}As(e,t){return Se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new vL(this)}getSize(e){return Se.resolve(this.size)}}class vL extends mR{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Yn.addEntry(e,s)):this.Yn.removeEntry(r)}),Se.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class bL{constructor(e){this.persistence=e,this.Rs=new af(t=>Qg(t),kv),this.lastRemoteSnapshotVersion=rn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new gA,this.targetCount=0,this.vs=Kv.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,s)=>t(s)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),Se.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Kv(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Se.resolve()}updateTargetData(e,t){return this.Dn(t),Se.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,t,r){let s=0;const u=[];return this.Rs.forEach((h,_)=>{_.sequenceNumber<=t&&null===r.get(_.targetId)&&(this.Rs.delete(h),u.push(this.removeMatchingKeysForTargetId(e,_.targetId)),s++)}),Se.waitFor(u).next(()=>s)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return Se.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),Se.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(h=>{u.push(s.markPotentiallyOrphaned(e,h))}),Se.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return Se.resolve(r)}containsKey(e,t){return Se.resolve(this.Ps.containsKey(t))}}class wR{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Ml(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new bL(this),this.indexManager=new sL,this.remoteDocumentCache=new yL(r=>this.referenceDelegate.xs(r)),this.yt=new YM(t),this.Ns=new gL(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new _L(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){rt("MemoryPersistence","Starting transaction:",e);const s=new EL(this.Ss.next());return this.referenceDelegate.ks(),r(s).next(u=>this.referenceDelegate.Os(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Ms(e,t){return Se.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class EL extends zg{constructor(e){super(),this.currentSequenceNumber=e}}class BS{constructor(e){this.persistence=e,this.Fs=new gA,this.$s=null}static Bs(e){return new BS(e)}get Ls(){if(this.$s)return this.$s;throw Ft()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),Se.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Se.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(s=>this.Ls.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.Ls.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.Ls,r=>{const s=vt.fromPath(r);return this.qs(e,s).next(u=>{u||t.removeEntry(s,rn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return Se.or([()=>Se.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class wL{constructor(e){this.yt=e}$(e,t,r,s){const u=new FC("createOrUpgrade",t);var _;r<1&&s>=1&&(e.createObjectStore("owner"),(_=e).createObjectStore("mutationQueues",{keyPath:"userId"}),_.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qM,{unique:!0}),_.createObjectStore("documentMutations"),CR(e),function(_){_.createObjectStore("remoteDocuments")}(e));let h=Se.resolve();return r<3&&s>=3&&(0!==r&&(function(_){_.deleteObjectStore("targetDocuments"),_.deleteObjectStore("targets"),_.deleteObjectStore("targetGlobal")}(e),CR(e)),h=h.next(()=>function(_){const w=_.store("targetGlobal"),T={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:rn.min().toTimestamp(),targetCount:0};return w.put("targetGlobalKey",T)}(u))),r<4&&s>=4&&(0!==r&&(h=h.next(()=>function(_,w){return w.store("mutations").W().next(T=>{_.deleteObjectStore("mutations"),_.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qM,{unique:!0});const N=w.store("mutations"),L=T.map(j=>N.put(j));return Se.waitFor(L)})}(e,u))),h=h.next(()=>{!function(_){_.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(h=h.next(()=>this.Us(u))),r<6&&s>=6&&(h=h.next(()=>(function(_){_.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),r<7&&s>=7&&(h=h.next(()=>this.Gs(u))),r<8&&s>=8&&(h=h.next(()=>this.Qs(e,u))),r<9&&s>=9&&(h=h.next(()=>{!function(_){_.objectStoreNames.contains("remoteDocumentChanges")&&_.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(h=h.next(()=>this.js(u))),r<11&&s>=11&&(h=h.next(()=>{(function(_){_.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(_){_.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(h=h.next(()=>{!function(_){const w=_.createObjectStore("documentOverlays",{keyPath:zF});w.createIndex("collectionPathOverlayIndex",WF,{unique:!1}),w.createIndex("collectionGroupOverlayIndex",KF,{unique:!1})}(e)})),r<13&&s>=13&&(h=h.next(()=>function(_){const w=_.createObjectStore("remoteDocumentsV14",{keyPath:kF});w.createIndex("documentKeyIndex",FF),w.createIndex("collectionGroupIndex",LF)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(h=h.next(()=>this.zs(e,u))),r<15&&s>=15&&(h=h.next(()=>function(_){_.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),_.createObjectStore("indexState",{keyPath:HF}).createIndex("sequenceNumberIndex",jF,{unique:!1}),_.createObjectStore("indexEntries",{keyPath:GF}).createIndex("documentKeyIndex",qF,{unique:!1})}(e))),h}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,s)=>{t+=kS(s)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(s=>Se.forEach(s,u=>{const h=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",h).next(_=>Se.forEach(_,w=>{Zt(w.userId===u.userId);const T=qv(this.yt,w);return dR(e,u.userId,T).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const u=[];return r.Z((h,_)=>{const w=new nr(h),T=[0,Pl(w)];u.push(t.get(T).next(N=>N?Se.resolve():t.put({targetId:0,path:Pl(w),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>Se.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:$F});const r=t.store("collectionParents"),s=new pA,u=h=>{if(s.add(h)){const _=h.lastSegment(),w=h.popLast();return r.put({collectionId:_,parent:Pl(w)})}};return t.store("remoteDocuments").Z({X:!0},(h,_)=>{const w=new nr(h);return u(w.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([h,_,w],T)=>{const N=Ep(_);return u(N.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,s)=>{const u=nD(s),h=QM(this.yt,u);return t.put(h)})}Ws(e,t){const r=t.store("remoteDocuments"),s=[];return r.Z((u,h)=>{const _=t.store("remoteDocumentsV14"),w=(T=h,T.document?new vt(nr.fromString(T.document.name).popFirst(5)):T.noDocument?vt.fromSegments(T.noDocument.path):T.unknownDocument?vt.fromSegments(T.unknownDocument.path):Ft()).path.toArray();var T;const N={prefixPath:w.slice(0,w.length-2),collectionGroup:w[w.length-2],documentId:w[w.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};s.push(_.put(N))}).next(()=>Se.waitFor(s))}zs(e,t){const r=t.store("mutations"),s=_R(this.yt),u=new wR(BS.Bs,this.yt.ie);return r.W().next(h=>{const _=new Map;return h.forEach(w=>{var T;let N=null!==(T=_.get(w.userId))&&void 0!==T?T:kn();qv(this.yt,w).keys().forEach(L=>N=N.add(L)),_.set(w.userId,N)}),Se.forEach(_,(w,T)=>{const N=new Vs(T),L=MS.re(this.yt,N),j=u.getIndexManager(N),z=FS.re(N,this.yt,j,u.referenceDelegate);return new ER(s,z,L,j).recalculateAndSaveOverlaysForDocumentKeys(new iA(t,Ml.at),w).next()})})}}function CR(n){n.createObjectStore("targetDocuments",{keyPath:VF}).createIndex("documentTargetsIndex",UF,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",BF,{unique:!0}),n.createObjectStore("targetGlobal")}const mA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class _A{constructor(e,t,r,s,u,h,_,w,T,N,L=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=u,this.window=h,this.document=_,this.Js=T,this.Ys=N,this.Xs=L,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=j=>Promise.resolve(),!_A.C())throw new Ye(Te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dL(this,s),this.ii=t+"main",this.yt=new YM(w),this.ri=new Fc(this.ii,this.Xs,new wL(this.yt)),this.Cs=new aL(this.referenceDelegate,this.yt),this.remoteDocumentCache=_R(this.yt),this.Ns=new QF,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===N&&Ci("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ye(Te.FAILED_PRECONDITION,mA);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Ml(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,ke.Z)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ke.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ke.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>VS(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(mp(e))return rt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return rt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return lD(e).get("owner").next(t=>Se.resolve(this.mi(t)))}gi(e){return VS(e).delete(this.clientId)}yi(){var e=this;return(0,ke.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=Zo(r,"clientMetadata");return s.W().next(u=>{const h=e.Ii(u,18e5),_=u.filter(w=>-1===h.indexOf(w));return Se.forEach(_,w=>s.delete(w.clientId)).next(()=>_)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Se.resolve(!0):lD(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ye(Te.FAILED_PRECONDITION,mA);return!1}}return!(!this.networkEnabled||!this.inForeground)||VS(e).W().next(r=>void 0===this.Ii(r,5e3).find(s=>{if(this.clientId!==s.clientId){const h=!this.inForeground&&s.inForeground,_=this.networkEnabled===s.networkEnabled;if(!this.networkEnabled&&s.networkEnabled||h&&_)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&rt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ke.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new iA(t,Ml.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>VS(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return FS.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new oL(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return MS.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){rt("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",u=15===(h=this.Xs)?YF:14===h?ZM:13===h?KM:12===h?ZF:11===h?WM:void Ft();var h;let _;return this.ri.runTransaction(e,s,u,w=>(_=new iA(w,this.Ss?this.Ss.next():Ml.at),"readwrite-primary"===t?this.fi(_).next(T=>!!T||this.di(_)).next(T=>{if(!T)throw Ci(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ye(Te.FAILED_PRECONDITION,kC);return r(_)}).next(T=>this.wi(_).next(()=>T)):this.Vi(_).next(()=>r(_)))).then(w=>(_.raiseOnCommittedEvent(),w))}Vi(e){return lD(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ye(Te.FAILED_PRECONDITION,mA)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lD(e).put("owner",t)}static C(){return Fc.C()}_i(e){const t=lD(e);return t.get("owner").next(r=>this.mi(r)?(rt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Se.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Ci(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,In.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return rt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ci("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Ci("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function lD(n){return Zo(n,"owner")}function VS(n){return Zo(n,"clientMetadata")}function yA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class vA{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=s}static Ci(e,t){let r=kn(),s=kn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new vA(e,t.fromCache,r,s)}}class DR{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,s){return this.ki(e,t).next(u=>u||this.Oi(e,t,s,r)).next(u=>u||this.Mi(e,t))}ki(e,t){if(CE(t))return Se.resolve(null);let r=Ko(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=Xg(t,null,"F"),r=Ko(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const h=kn(...u);return this.Ni.getDocuments(e,h).next(_=>this.indexManager.getMinOffset(e,r).next(w=>{const T=this.Fi(t,_);return this.$i(t,T,h,w.readTime)?this.ki(e,Xg(t,null,"F")):this.Bi(e,T,t,w)}))})))}Oi(e,t,r,s){return CE(t)||s.isEqual(rn.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(u=>{const h=this.Fi(t,u);return this.$i(t,h,r,s)?this.Mi(e,t):(xv()<=Fs.in.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),WC(t)),this.Bi(e,h,t,dE(s,-1)))})}Fi(e,t){let r=new Ar(WI(e));return t.forEach((s,u)=>{yS(e,u)&&(r=r.add(u))}),r}$i(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Mi(e,t){return xv()<=Fs.in.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",WC(t)),this.Ni.getDocumentsMatchingQuery(e,t,el.min())}Bi(e,t,r,s){return this.Ni.getDocumentsMatchingQuery(e,r,s).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}class CL{constructor(e,t,r,s){this.persistence=e,this.Li=t,this.yt=s,this.qi=new Di(Sn),this.Ui=new af(u=>Qg(u),kv),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ER(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function SR(n,e,t,r){return new CL(n,e,t,r)}function TR(n,e){return bA.apply(this,arguments)}function bA(){return bA=(0,ke.Z)(function*(n,e){const t=Et(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(u=>(s=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const h=[],_=[];let w=kn();for(const T of s){h.push(T.batchId);for(const N of T.mutations)w=w.add(N.key)}for(const T of u){_.push(T.batchId);for(const N of T.mutations)w=w.add(N.key)}return t.localDocuments.getDocuments(r,w).next(T=>({ji:T,removedBatchIds:h,addedBatchIds:_}))})})}),bA.apply(this,arguments)}function DL(n,e){const t=Et(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(h,_,w,T){const N=w.batch,L=N.keys();let j=Se.resolve();return L.forEach(z=>{j=j.next(()=>T.getEntry(_,z)).next(Q=>{const le=w.docVersions.get(z);Zt(null!==le),Q.version.compareTo(le)<0&&(N.applyToRemoteDocument(Q,w),Q.isValidDocument()&&(Q.setReadTime(w.commitVersion),T.addEntry(Q)))})}),j.next(()=>h.mutationQueue.removeMutationBatch(_,N))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let _=kn();for(let w=0;w<h.mutationResults.length;++w)h.mutationResults[w].transformResults.length>0&&(_=_.add(h.batch.mutations[w].key));return _}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function IR(n){const e=Et(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function SL(n,e){const t=Et(n),r=e.snapshotVersion;let s=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Gi.newChangeBuffer({trackRemovals:!0});s=t.qi;const _=[];e.targetChanges.forEach((N,L)=>{const j=s.get(L);if(!j)return;_.push(t.Cs.removeMatchingKeys(u,N.removedDocuments,L).next(()=>t.Cs.addMatchingKeys(u,N.addedDocuments,L)));let z=j.withSequenceNumber(u.currentSequenceNumber);var Q,le,ve;e.targetMismatches.has(L)?z=z.withResumeToken(so.EMPTY_BYTE_STRING,rn.min()).withLastLimboFreeSnapshotVersion(rn.min()):N.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(N.resumeToken,r)),s=s.insert(L,z),le=z,ve=N,(0===(Q=j).resumeToken.approximateByteSize()||le.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=3e8||ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0)&&_.push(t.Cs.updateTargetData(u,z))});let w=nl(),T=kn();if(e.documentUpdates.forEach(N=>{e.resolvedLimboDocuments.has(N)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(u,N))}),_.push(AR(u,h,e.documentUpdates).next(N=>{w=N.Wi,T=N.zi})),!r.isEqual(rn.min())){const N=t.Cs.getLastRemoteSnapshotVersion(u).next(L=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,r));_.push(N)}return Se.waitFor(_).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,w,T)).next(()=>w)}).then(u=>(t.qi=s,u))}function AR(n,e,t){let r=kn(),s=kn();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let h=nl();return t.forEach((_,w)=>{const T=u.get(_);w.isFoundDocument()!==T.isFoundDocument()&&(s=s.add(_)),w.isNoDocument()&&w.version.isEqual(rn.min())?(e.removeEntry(_,w.readTime),h=h.insert(_,w)):!T.isValidDocument()||w.version.compareTo(T.version)>0||0===w.version.compareTo(T.version)&&T.hasPendingWrites?(e.addEntry(w),h=h.insert(_,w)):rt("LocalStore","Ignoring outdated watch update for ",_,". Current version:",T.version," Watch version:",w.version)}),{Wi:h,zi:s}})}function TL(n,e){const t=Et(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function kE(n,e){const t=Et(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Cs.getTargetData(r,e).next(u=>u?(s=u,Se.resolve(s)):t.Cs.allocateTargetId(r).next(h=>(s=new G_(e,h,0,r.currentSequenceNumber),t.Cs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.qi.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function FE(n,e,t){return EA.apply(this,arguments)}function EA(){return EA=(0,ke.Z)(function*(n,e,t){const r=Et(n),s=r.qi.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,h=>r.persistence.referenceDelegate.removeTarget(h,s)))}catch(h){if(!mp(h))throw h;rt("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.qi=r.qi.remove(e),r.Ui.delete(s.target)}),EA.apply(this,arguments)}function US(n,e,t){const r=Et(n);let s=rn.min(),u=kn();return r.persistence.runTransaction("Execute query","readonly",h=>function(_,w,T){const N=Et(_),L=N.Ui.get(T);return void 0!==L?Se.resolve(N.qi.get(L)):N.Cs.getTargetData(w,T)}(r,h,Ko(e)).next(_=>{if(_)return s=_.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(h,_.targetId).next(w=>{u=w})}).next(()=>r.Li.getDocumentsMatchingQuery(h,e,t?s:rn.min(),t?u:kn())).next(_=>(MR(r,zI(e),_),{documents:_,Hi:u})))}function xR(n,e){const t=Et(n),r=Et(t.Cs),s=t.qi.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",u=>r.ne(u,e).next(h=>h?h.target:null))}function NR(n,e){const t=Et(n),r=t.Ki.get(e)||rn.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.Gi.getAllFromCollectionGroup(s,e,dE(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(MR(t,e,s),s))}function MR(n,e,t){let r=n.Ki.get(e)||rn.min();t.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ki.set(e,r)}function wA(){return wA=(0,ke.Z)(function*(n,e,t,r){const s=Et(n);let u=kn(),h=nl();for(const T of t){const N=e.Ji(T.metadata.name);T.document&&(u=u.add(N));const L=e.Yi(T);L.setReadTime(e.Xi(T.metadata.readTime)),h=h.insert(N,L)}const _=s.Gi.newChangeBuffer({trackRemovals:!0}),w=yield kE(s,(T=r,Ko(Lv(nr.fromString(`__bundle__/docs/${T}`)))));var T;return s.persistence.runTransaction("Apply bundle documents","readwrite",T=>AR(T,_,h).next(N=>(_.apply(T),N)).next(N=>s.Cs.removeMatchingKeysForTargetId(T,w.targetId).next(()=>s.Cs.addMatchingKeys(T,u,w.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(T,N.Wi,N.zi)).next(()=>N.Wi)))}),wA.apply(this,arguments)}function AL(n,e){return CA.apply(this,arguments)}function CA(){return CA=(0,ke.Z)(function*(n,e,t=kn()){const r=yield kE(n,Ko(lA(e.bundledQuery))),s=Et(n);return s.persistence.runTransaction("Save named query","readwrite",u=>{const h=k(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return s.Ns.saveNamedQuery(u,e);const _=r.withResumeToken(so.EMPTY_BYTE_STRING,h);return s.qi=s.qi.insert(_.targetId,_),s.Cs.updateTargetData(u,_).next(()=>s.Cs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>s.Cs.addMatchingKeys(u,t,r.targetId)).next(()=>s.Ns.saveNamedQuery(u,e))})}),CA.apply(this,arguments)}function RR(n,e){return`firestore_clients_${n}_${e}`}function PR(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function DA(n,e){return`firestore_targets_${n}_${e}`}class $S{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static Zi(e,t,r){const s=JSON.parse(r);let u,h="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return h&&s.error&&(h="string"==typeof s.error.message&&"string"==typeof s.error.code,h&&(u=new Ye(s.error.code,s.error.message))),h?new $S(e,t,s.state,u):(Ci("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class uD{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let s,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new Ye(r.error.code,r.error.message))),u?new uD(e,r.state,s):(Ci("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class HS{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,u=eD();for(let h=0;s&&h<r.activeTargetIds.length;++h)s=rS(r.activeTargetIds[h]),u=u.add(r.activeTargetIds[h]);return s?new HS(e,u):(Ci("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class SA{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new SA(t.clientId,t.onlineState):(Ci("SharedClientState",`Failed to parse online state: ${e}`),null)}}class TA{constructor(){this.activeTargetIds=eD()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IA{constructor(e,t,r,s,u){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Di(Sn),this.started=!1,this.cr=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=RR(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new TA),this.lr=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(_){return`firestore_bundle_loaded_v2_${_}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ke.Z)(function*(){const t=yield e.syncEngine.vi();for(const s of t){if(s===e.sr)continue;const u=e.getItem(RR(e.persistenceKey,s));if(u){const h=HS.Zi(s,u);h&&(e.ur=e.ur.insert(h.clientId,h))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const s=e.yr(r);s&&e.pr(s)}for(const s of e.cr)e.rr(s);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(DA(this.persistenceKey,e));if(r){const s=uD.Zi(e,r);s&&(t=s.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(DA(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.Er(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return rt("SharedClientState","READ",e,t),t}setItem(e,t){rt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){rt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(rt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Ci("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ke.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const s=t.vr(r.key);return t.Vr(s,null)}{const s=t.Sr(r.key,r.newValue);if(s)return t.Vr(s.clientId,s)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const s=t.Dr(r.key,r.newValue);if(s)return t.Cr(s)}}else if(t._r.test(r.key)){if(null!==r.newValue){const s=t.Nr(r.key,r.newValue);if(s)return t.kr(s)}}else if(r.key===t.wr){if(null!==r.newValue){const s=t.yr(r.newValue);if(s)return t.pr(s)}}else if(r.key===t.hr){const s=function(u){let h=Ml.at;if(null!=u)try{const _=JSON.parse(u);Zt("number"==typeof _),h=_}catch(_){Ci("SharedClientState","Failed to read sequence number from WebStorage",_)}return h}(r.newValue);s!==Ml.at&&t.sequenceNumberHandler(s)}else if(r.key===t.mr){const s=t.Or(r.newValue);yield Promise.all(s.map(u=>t.syncEngine.Mr(u)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const s=new $S(this.currentUser,e,t,r),u=PR(this.persistenceKey,this.currentUser,e);this.setItem(u,s.tr())}Er(e){const t=PR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const s=DA(this.persistenceKey,e),u=new uD(e,t,r);this.setItem(s,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return HS.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),s=Number(r[1]);return $S.Zi(new Vs(void 0!==r[2]?r[2]:null),s,t)}Nr(e,t){const r=this._r.exec(e),s=Number(r[1]);return uD.Zi(s,t)}yr(e){return SA.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ke.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);rt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),s=this.Ir(this.ur),u=this.Ir(r),h=[],_=[];return u.forEach(w=>{s.has(w)||h.push(w)}),s.forEach(w=>{u.has(w)||_.push(w)}),this.syncEngine.Br(h,_).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=eD();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class OR{constructor(){this.Lr=new TA,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new TA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xL{Ur(e){}shutdown(){}}class kR{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){rt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){rt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const NL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ML{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class RL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,s,u){const h=this.ho(e,t);rt("RestConnection","Sending: ",h,r);const _={};return this.lo(_,s,u),this.fo(e,h,_,r).then(w=>(rt("RestConnection","Received: ",w),w),w=>{throw Qh("RestConnection",`${e} failed with error: `,w,"url: ",h,"request:",r),w})}_o(e,t,r,s,u,h){return this.ao(e,t,r,s,u)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+fp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}ho(e,t){return`${this.oo}/v1/${t}:${NL[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,s){return new Promise((u,h)=>{const _=new II;_.setWithCredentials(!0),_.listenOnce(SI.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case SC.NO_ERROR:const T=_.getResponseJson();rt("Connection","XHR received:",JSON.stringify(T)),u(T);break;case SC.TIMEOUT:rt("Connection",'RPC "'+e+'" timed out'),h(new Ye(Te.DEADLINE_EXCEEDED,"Request time out"));break;case SC.HTTP_ERROR:const N=_.getStatus();if(rt("Connection",'RPC "'+e+'" failed with status:',N,"response text:",_.getResponseText()),N>0){let L=_.getResponseJson();Array.isArray(L)&&(L=L[0]);const j=L?.error;if(j&&j.status&&j.message){const z=function(Q){const le=Q.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(le)>=0?le:Te.UNKNOWN}(j.status);h(new Ye(z,j.message))}else h(new Ye(Te.UNKNOWN,"Server responded with status "+_.getStatus()))}else h(new Ye(Te.UNAVAILABLE,"Connection failed."));break;default:Ft()}}finally{rt("Connection",'RPC "'+e+'" completed.')}});const w=JSON.stringify(s);_.send(t,"POST",w,r,15)})}wo(e,t,r){const s=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=DC(),h=Iv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new lE({})),this.lo(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const w=s.join("");rt("Connection","Creating WebChannel: "+w,_);const T=u.createWebChannel(w,_);let N=!1,L=!1;const j=new ML({Hr:Q=>{L?rt("Connection","Not sending because WebChannel is closed:",Q):(N||(rt("Connection","Opening WebChannel transport."),T.open(),N=!0),rt("Connection","WebChannel sending:",Q),T.send(Q))},Jr:()=>T.close()}),z=(Q,le,ve)=>{Q.listen(le,He=>{try{ve(He)}catch(nt){setTimeout(()=>{throw nt},0)}})};return z(T,uE.EventType.OPEN,()=>{L||rt("Connection","WebChannel transport opened.")}),z(T,uE.EventType.CLOSE,()=>{L||(L=!0,rt("Connection","WebChannel transport closed"),j.io())}),z(T,uE.EventType.ERROR,Q=>{L||(L=!0,Qh("Connection","WebChannel transport errored:",Q),j.io(new Ye(Te.UNAVAILABLE,"The operation could not be completed")))}),z(T,uE.EventType.MESSAGE,Q=>{var le;if(!L){const ve=Q.data[0];Zt(!!ve);const He=ve,nt=He.error||(null===(le=He[0])||void 0===le?void 0:le.error);if(nt){rt("Connection","WebChannel received error:",nt);const ht=nt.status;let it=function(mt){const Jt=Ds[mt];if(void 0!==Jt)return QI(Jt)}(ht),ft=nt.message;void 0===it&&(it=Te.INTERNAL,ft="Unknown error status: "+ht+" with message "+nt.message),L=!0,j.io(new Ye(it,ft)),T.close()}else rt("Connection","WebChannel received:",ve),j.ro(ve)}}),z(h,TI.STAT_EVENT,Q=>{Q.stat===Av.PROXY?rt("Connection","Detected buffering proxy"):Q.stat===Av.NOPROXY&&rt("Connection","Detected no buffering proxy")}),setTimeout(()=>{j.so()},0),j}}function FR(){return typeof window<"u"?window:null}function jS(){return typeof document<"u"?document:null}function cD(n){return new b(n,!0)}class AA{constructor(e,t,r=1e3,s=1.5,u=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=s,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),s=Math.max(0,t-r);s>0&&rt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,s,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class LR{constructor(e,t,r,s,u,h,_,w){this.Hs=e,this.vo=r,this.Vo=s,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=_,this.listener=w,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new AA(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,ke.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ke.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,ke.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===Te.RESOURCE_EXHAUSTED?(Ci(t.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===Te.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.So===t&&this.Go(r,s)},r=>{e(()=>{const s=new Ye(Te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(s)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(s=>{r(()=>this.Qo(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,ke.Z)(function*(){e.state=0,e.start()}))}Qo(e){return rt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(rt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PL extends LR{constructor(e,t,r,s,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,h),this.yt=u}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function pi(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:Ft(),s=e.targetChange.targetIds||[],u=function(w,T){return w.wt?(Zt(void 0===T||"string"==typeof T),so.fromBase64String(T||"")):(Zt(void 0===T||T instanceof Uint8Array),so.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,_=h&&function(w){const T=void 0===w.code?Te.UNKNOWN:QI(w.code);return new Ye(T,w.message||"")}(h);t=new tA(r,s,u,_||null)}else if("documentChange"in e){const r=e.documentChange,s=ge(n,r.document.name),u=k(r.document.updateTime),h=r.document.createTime?k(r.document.createTime):rn.min(),_=new Us({mapValue:{fields:r.document.fields}}),w=ni.newFoundDocument(s,u,h,_);t=new tD(r.targetIds||[],r.removedTargetIds||[],w.key,w)}else if("documentDelete"in e){const r=e.documentDelete,s=ge(n,r.document),u=r.readTime?k(r.readTime):rn.min(),h=ni.newNoDocument(s,u);t=new tD([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,s=ge(n,r.document);t=new tD([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return Ft();{const r=e.filter,u=new JI(r.count||0);t=new eA(r.targetId,u)}}var w;return t}(this.yt,e),r=function(s){if(!("targetChange"in s))return rn.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?rn.min():u.readTime?k(u.readTime):rn.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=yt(this.yt),t.addTarget=function(s,u){let h;const _=u.target;return h=wE(_)?{documents:VM(s,_)}:{query:rA(s,_)},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?h.resumeToken=x(s,u.resumeToken):u.snapshotVersion.compareTo(rn.min())>0&&(h.readTime=S(s,u.snapshotVersion.toTimestamp())),h}(this.yt,e);const r=function AF(n,e){const t=function(r,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ft()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=yt(this.yt),t.removeTarget=e,this.Bo(t)}}class OL extends LR{constructor(e,t,r,s,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,h),this.yt=u,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Zt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function IF(n,e){return n&&n.length>0?(Zt(void 0!==e),n.map(t=>function(r,s){let u=k(r.updateTime?r.updateTime:s);return u.isEqual(rn.min())&&(u=k(s)),new ZI(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=k(e.commitTime);return this.listener.Zo(r,t)}return Zt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=yt(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ri(this.yt,r))};this.Bo(t)}}class kL extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=s,this.nu=!1}su(){if(this.nu)throw new Ye(Te.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.ao(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ye(Te.UNKNOWN,s.toString())})}_o(e,t,r,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection._o(e,t,r,u,h,s)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ye(Te.UNKNOWN,u.toString())})}terminate(){this.nu=!0}}class LL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ci(t),this.ou=!1):rt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class BL{constructor(e,t,r,s,u){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=u,this.mu.Ur(_=>{r.enqueueAndForget((0,ke.Z)(function*(){var w;om(h)&&(rt("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,ke.Z)(function*(T){const N=Et(T);N._u.add(4),yield LE(N),N.gu.set("Unknown"),N._u.delete(4),yield dD(N)}),function(T){return w.apply(this,arguments)})(h))}))}),this.gu=new LL(r,s)}}function dD(n){return NA.apply(this,arguments)}function NA(){return NA=(0,ke.Z)(function*(n){if(om(n))for(const e of n.wu)yield e(!0)}),NA.apply(this,arguments)}function LE(n){return MA.apply(this,arguments)}function MA(){return MA=(0,ke.Z)(function*(n){for(const e of n.wu)yield e(!1)}),MA.apply(this,arguments)}function GS(n,e){const t=Et(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),OA(t)?PA(t):VE(t).ko()&&RA(t,e))}function hD(n,e){const t=Et(n),r=VE(t);t.du.delete(e),r.ko()&&BR(t,e),0===t.du.size&&(r.ko()?r.Fo():om(t)&&t.gu.set("Unknown"))}function RA(n,e){n.yu.Ot(e.targetId),VE(n).zo(e)}function BR(n,e){n.yu.Ot(e),VE(n).Ho(e)}function PA(n){n.yu=new BM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),VE(n).start(),n.gu.uu()}function OA(n){return om(n)&&!VE(n).No()&&n.du.size>0}function om(n){return 0===Et(n)._u.size}function VR(n){n.yu=void 0}function VL(n){return kA.apply(this,arguments)}function kA(){return kA=(0,ke.Z)(function*(n){n.du.forEach((e,t)=>{RA(n,e)})}),kA.apply(this,arguments)}function UL(n,e){return FA.apply(this,arguments)}function FA(){return FA=(0,ke.Z)(function*(n,e){VR(n),OA(n)?(n.gu.hu(e),PA(n)):n.gu.set("Unknown")}),FA.apply(this,arguments)}function $L(n,e,t){return LA.apply(this,arguments)}function LA(){return LA=(0,ke.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof tA&&2===e.state&&e.cause)try{yield(r=(0,ke.Z)(function*(s,u){const h=u.cause;for(const _ of u.targetIds)s.du.has(_)&&(yield s.remoteSyncer.rejectListen(_,h),s.du.delete(_),s.yu.removeTarget(_))}),function(s,u){return r.apply(this,arguments)})(n,e)}catch(r){rt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield qS(n,r)}else if(e instanceof tD?n.yu.Kt(e):e instanceof eA?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(rn.min()))try{const r=yield IR(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const h=s.yu.Zt(u);return h.targetChanges.forEach((_,w)=>{if(_.resumeToken.approximateByteSize()>0){const T=s.du.get(w);T&&s.du.set(w,T.withResumeToken(_.resumeToken,u))}}),h.targetMismatches.forEach(_=>{const w=s.du.get(_);if(!w)return;s.du.set(_,w.withResumeToken(so.EMPTY_BYTE_STRING,w.snapshotVersion)),BR(s,_);const T=new G_(w.target,_,1,w.sequenceNumber);RA(s,T)}),s.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){rt("RemoteStore","Failed to raise snapshot:",r),yield qS(n,r)}var r}),LA.apply(this,arguments)}function qS(n,e,t){return BA.apply(this,arguments)}function BA(){return BA=(0,ke.Z)(function*(n,e,t){if(!mp(e))throw e;n._u.add(1),yield LE(n),n.gu.set("Offline"),t||(t=()=>IR(n.localStore)),n.asyncQueue.enqueueRetryable((0,ke.Z)(function*(){rt("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield dD(n)}))}),BA.apply(this,arguments)}function UR(n,e){return e().catch(t=>qS(n,t,e))}function BE(n){return VA.apply(this,arguments)}function VA(){return VA=(0,ke.Z)(function*(n){const e=Et(n),t=K_(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;HL(e);)try{const s=yield TL(e.localStore,r);if(null===s){0===e.fu.length&&t.Fo();break}r=s.batchId,jL(e,s)}catch(s){yield qS(e,s)}$R(e)&&HR(e)}),VA.apply(this,arguments)}function HL(n){return om(n)&&n.fu.length<10}function jL(n,e){n.fu.push(e);const t=K_(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function $R(n){return om(n)&&!K_(n).No()&&n.fu.length>0}function HR(n){K_(n).start()}function GL(n){return UA.apply(this,arguments)}function UA(){return UA=(0,ke.Z)(function*(n){K_(n).eu()}),UA.apply(this,arguments)}function qL(n){return $A.apply(this,arguments)}function $A(){return $A=(0,ke.Z)(function*(n){const e=K_(n);for(const t of n.fu)e.Xo(t.mutations)}),$A.apply(this,arguments)}function zL(n,e,t){return HA.apply(this,arguments)}function HA(){return HA=(0,ke.Z)(function*(n,e,t){const r=n.fu.shift(),s=oA.from(r,e,t);yield UR(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield BE(n)}),HA.apply(this,arguments)}function WL(n,e){return jA.apply(this,arguments)}function jA(){return jA=(0,ke.Z)(function*(n,e){var t;e&&K_(n).Yo&&(yield(t=(0,ke.Z)(function*(r,s){if(AE(u=s.code)&&u!==Te.ABORTED){const h=r.fu.shift();K_(r).Mo(),yield UR(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,s)),yield BE(r)}var u}),function(r,s){return t.apply(this,arguments)})(n,e)),$R(n)&&HR(n)}),jA.apply(this,arguments)}function jR(n,e){return GA.apply(this,arguments)}function GA(){return GA=(0,ke.Z)(function*(n,e){const t=Et(n);t.asyncQueue.verifyOperationInProgress(),rt("RemoteStore","RemoteStore received new credentials");const r=om(t);t._u.add(3),yield LE(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield dD(t)}),GA.apply(this,arguments)}function qA(n,e){return zA.apply(this,arguments)}function zA(){return zA=(0,ke.Z)(function*(n,e){const t=Et(n);e?(t._u.delete(2),yield dD(t)):e||(t._u.add(2),yield LE(t),t.gu.set("Unknown"))}),zA.apply(this,arguments)}function VE(n){return n.pu||(n.pu=function(e,t,r){const s=Et(e);return s.su(),new PL(t,s.connection,s.authCredentials,s.appCheckCredentials,s.yt,r)}(n.datastore,n.asyncQueue,{Yr:VL.bind(null,n),Zr:UL.bind(null,n),Wo:$L.bind(null,n)}),n.wu.push(function(){var e=(0,ke.Z)(function*(t){t?(n.pu.Mo(),OA(n)?PA(n):n.gu.set("Unknown")):(yield n.pu.stop(),VR(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function K_(n){return n.Iu||(n.Iu=function(e,t,r){const s=Et(e);return s.su(),new OL(t,s.connection,s.authCredentials,s.appCheckCredentials,s.yt,r)}(n.datastore,n.asyncQueue,{Yr:GL.bind(null,n),Zr:WL.bind(null,n),tu:qL.bind(null,n),Zo:zL.bind(null,n)}),n.wu.push(function(){var e=(0,ke.Z)(function*(t){t?(n.Iu.Mo(),yield BE(n)):(yield n.Iu.stop(),n.fu.length>0&&(rt("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class WA{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new Cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,s,u){const h=Date.now()+r,_=new WA(e,t,h,s,u);return _.start(r),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ye(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function UE(n,e){if(Ci("AsyncQueue",`${e}: ${n}`),mp(n))return new Ye(Te.UNAVAILABLE,`${e}: ${n}`);throw n}class $E{constructor(e){this.comparator=e?(t,r)=>e(t,r)||vt.comparator(t.key,r.key):(t,r)=>vt.comparator(t.key,r.key),this.keyedMap=xE(),this.sortedSet=new Di(this.comparator)}static emptySet(e){return new $E(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $E)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new $E;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class GR{constructor(){this.Tu=new Di(vt.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Ft():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class HE{constructor(e,t,r,s,u,h,_,w,T){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=_,this.excludesMetadataChanges=w,this.hasCachedResults=T}static fromInitialDocuments(e,t,r,s,u){const h=[];return t.forEach(_=>{h.push({type:0,doc:_})}),new HE(e,t,$E.emptySet(t),h,r,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class KL{constructor(){this.Au=void 0,this.listeners=[]}}class ZL{constructor(){this.queries=new af(e=>_S(e),$_),this.onlineState="Unknown",this.Ru=new Set}}function KA(n,e){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,ke.Z)(function*(n,e){const t=Et(n),r=e.query;let s=!1,u=t.queries.get(r);if(u||(s=!0,u=new KL),s)try{u.Au=yield t.onListen(r)}catch(h){const _=UE(h,`Initialization of query '${WC(e.query)}' failed`);return void e.onError(_)}t.queries.set(r,u),u.listeners.push(e),e.bu(t.onlineState),u.Au&&e.Pu(u.Au)&&QA(t)}),ZA.apply(this,arguments)}function YA(n,e){return JA.apply(this,arguments)}function JA(){return JA=(0,ke.Z)(function*(n,e){const t=Et(n),r=e.query;let s=!1;const u=t.queries.get(r);if(u){const h=u.listeners.indexOf(e);h>=0&&(u.listeners.splice(h,1),s=0===u.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),JA.apply(this,arguments)}function YL(n,e){const t=Et(n);let r=!1;for(const s of e){const h=t.queries.get(s.query);if(h){for(const _ of h.listeners)_.Pu(s)&&(r=!0);h.Au=s}}r&&QA(t)}function JL(n,e,t){const r=Et(n),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);r.queries.delete(e)}function QA(n){n.Ru.forEach(e=>{e.next()})}class XA{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new HE(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=HE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class QL{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class qR{constructor(e){this.yt=e}Ji(e){return ge(this.yt,e)}Yi(e){return e.metadata.exists?Qe(this.yt,e.document,!1):ni.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return k(e)}}class XL{constructor(e,t,r){this.Mu=e,this.localStore=t,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=zR(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=nr.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new qR(this.yt);for(const s of e)if(s.metadata.queries){const u=r.Ji(s.metadata.name);for(const h of s.metadata.queries){const _=(t.get(h)||kn()).add(u);t.set(h,_)}}return t}complete(){var e=this;return(0,ke.Z)(function*(){const t=yield function IL(n,e,t,r){return wA.apply(this,arguments)}(e.localStore,new qR(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const s of e.queries)yield AL(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function zR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class WR{constructor(e){this.key=e}}class KR{constructor(e){this.key=e}}class ZR{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=kn(),this.mutatedKeys=kn(),this.Gu=WI(e),this.Qu=new $E(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new GR,s=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,h=s,_=!1;const w="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,T="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((N,L)=>{const j=s.get(N),z=yS(this.query,L)?L:null,Q=!!j&&this.mutatedKeys.has(j.key),le=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let ve=!1;j&&z?j.data.isEqual(z.data)?Q!==le&&(r.track({type:3,doc:z}),ve=!0):this.Hu(j,z)||(r.track({type:2,doc:z}),ve=!0,(w&&this.Gu(z,w)>0||T&&this.Gu(z,T)<0)&&(_=!0)):!j&&z?(r.track({type:0,doc:z}),ve=!0):j&&!z&&(r.track({type:1,doc:j}),ve=!0,(w||T)&&(_=!0)),ve&&(z?(h=h.add(z),u=le?u.add(N):u.delete(N)):(h=h.delete(N),u=u.delete(N)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const N="F"===this.query.limitType?h.last():h.first();h=h.delete(N.key),u=u.delete(N.key),r.track({type:1,doc:N})}return{Qu:h,zu:r,$i:_,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Eu();u.sort((T,N)=>function(L,j){const z=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft()}};return z(L)-z(j)}(T.type,N.type)||this.Gu(T.doc,N.doc)),this.Ju(r);const h=t?this.Yu():[],_=0===this.Ku.size&&this.current?1:0,w=_!==this.Uu;return this.Uu=_,0!==u.length||w?{snapshot:new HE(this.query,e.Qu,s,u,e.mutatedKeys,0===_,w,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:h}:{Xu:h}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new GR,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=kn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new KR(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new WR(r))}),t}tc(e){this.qu=e.Hi,this.Ku=kn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return HE.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class eB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class tB{constructor(e){this.key=e,this.nc=!1}}class nB{constructor(e,t,r,s,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.sc={},this.ic=new af(_=>_S(_),$_),this.rc=new Map,this.oc=new Set,this.uc=new Di(vt.comparator),this.cc=new Map,this.ac=new gA,this.hc={},this.lc=new Map,this.fc=Kv.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function rB(n,e){return ex.apply(this,arguments)}function ex(){return ex=(0,ke.Z)(function*(n,e){const t=Cx(n);let r,s;const u=t.ic.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),s=u.view.ec();else{const h=yield kE(t.localStore,Ko(e));t.isPrimaryClient&&GS(t.remoteStore,h);const _=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,s=yield tx(t,e,r,"current"===_,h.resumeToken)}return s}),ex.apply(this,arguments)}function tx(n,e,t,r,s){return nx.apply(this,arguments)}function nx(){return nx=(0,ke.Z)(function*(n,e,t,r,s){n._c=(L,j,z)=>{return(Q=(0,ke.Z)(function*(le,ve,He,nt){let ht=ve.view.Wu(He);ht.$i&&(ht=yield US(le.localStore,ve.query,!1).then(({documents:mt})=>ve.view.Wu(mt,ht)));const it=nt&&nt.targetChanges.get(ve.targetId),ft=ve.view.applyChanges(ht,le.isPrimaryClient,it);return hx(le,ve.targetId,ft.Xu),ft.snapshot}),function(le,ve,He,nt){return Q.apply(this,arguments)})(n,L,j,z);var Q};const u=yield US(n.localStore,e,!0),h=new ZR(e,u.Hi),_=h.Wu(u.documents),w=NE.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),T=h.applyChanges(_,n.isPrimaryClient,w);hx(n,t,T.Xu);const N=new eB(e,t,h);return n.ic.set(e,N),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),T.snapshot}),nx.apply(this,arguments)}function iB(n,e){return rx.apply(this,arguments)}function rx(){return rx=(0,ke.Z)(function*(n,e){const t=Et(n),r=t.ic.get(e),s=t.rc.get(r.targetId);if(s.length>1)return t.rc.set(r.targetId,s.filter(u=>!$_(u,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield FE(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),hD(t.remoteStore,r.targetId),jE(t,r.targetId)}).catch(gp))):(jE(t,r.targetId),yield FE(t.localStore,r.targetId,!0))}),rx.apply(this,arguments)}function ix(){return ix=(0,ke.Z)(function*(n,e,t){const r=Dx(n);try{const s=yield function(u,h){const _=Et(u),w=ti.now(),T=h.reduce((j,z)=>j.add(z.key),kn());let N,L;return _.persistence.runTransaction("Locally write mutations","readwrite",j=>{let z=nl(),Q=kn();return _.Gi.getEntries(j,T).next(le=>{z=le,z.forEach((ve,He)=>{He.isValidDocument()||(Q=Q.add(ve))})}).next(()=>_.localDocuments.getOverlayedDocuments(j,z)).next(le=>{N=le;const ve=[];for(const He of h){const nt=OM(He,N.get(He.key).overlayedDocument);null!=nt&&ve.push(new sf(He.key,nt,kd(nt.value.mapValue),zr.exists(!0)))}return _.mutationQueue.addMutationBatch(j,w,ve,h)}).next(le=>{L=le;const ve=le.applyToLocalDocumentSet(N,Q);return _.documentOverlayCache.saveOverlays(j,le.batchId,ve)})}).then(()=>({batchId:L.batchId,changes:XI(N)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,h,_){let w=u.hc[u.currentUser.toKey()];w||(w=new Di(Sn)),w=w.insert(h,_),u.hc[u.currentUser.toKey()]=w}(r,s.batchId,t),yield am(r,s.changes),yield BE(r.remoteStore)}catch(s){const u=UE(s,"Failed to persist write");t.reject(u)}}),ix.apply(this,arguments)}function YR(n,e){return sx.apply(this,arguments)}function sx(){return sx=(0,ke.Z)(function*(n,e){const t=Et(n);try{const r=yield SL(t.localStore,e);e.targetChanges.forEach((s,u)=>{const h=t.cc.get(u);h&&(Zt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?h.nc=!0:s.modifiedDocuments.size>0?Zt(h.nc):s.removedDocuments.size>0&&(Zt(h.nc),h.nc=!1))}),yield am(t,r,e)}catch(r){yield gp(r)}}),sx.apply(this,arguments)}function JR(n,e,t){const r=Et(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.ic.forEach((u,h)=>{const _=h.view.bu(e);_.snapshot&&s.push(_.snapshot)}),function(u,h){const _=Et(u);_.onlineState=h;let w=!1;_.queries.forEach((T,N)=>{for(const L of N.listeners)L.bu(h)&&(w=!0)}),w&&QA(_)}(r.eventManager,e),s.length&&r.sc.Wo(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function oB(n,e,t){return ox.apply(this,arguments)}function ox(){return ox=(0,ke.Z)(function*(n,e,t){const r=Et(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.cc.get(e),u=s&&s.key;if(u){let h=new Di(vt.comparator);h=h.insert(u,ni.newNoDocument(u,rn.min()));const _=kn().add(u),w=new Hv(rn.min(),new Map,new Ar(Sn),h,_);yield YR(r,w),r.uc=r.uc.remove(u),r.cc.delete(e),fx(r)}else yield FE(r.localStore,e,!1).then(()=>jE(r,e,t)).catch(gp)}),ox.apply(this,arguments)}function aB(n,e){return ax.apply(this,arguments)}function ax(){return ax=(0,ke.Z)(function*(n,e){const t=Et(n),r=e.batch.batchId;try{const s=yield DL(t.localStore,e);dx(t,r,null),cx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield am(t,s)}catch(s){yield gp(s)}}),ax.apply(this,arguments)}function lB(n,e,t){return lx.apply(this,arguments)}function lx(){return lx=(0,ke.Z)(function*(n,e,t){const r=Et(n);try{const s=yield function(u,h){const _=Et(u);return _.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let T;return _.mutationQueue.lookupMutationBatch(w,h).next(N=>(Zt(null!==N),T=N.keys(),_.mutationQueue.removeMutationBatch(w,N))).next(()=>_.mutationQueue.performConsistencyCheck(w)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(w,T,h)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,T)).next(()=>_.localDocuments.getDocuments(w,T))})}(r.localStore,e);dx(r,e,t),cx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield am(r,s)}catch(s){yield gp(s)}}),lx.apply(this,arguments)}function ux(){return ux=(0,ke.Z)(function*(n,e){const t=Et(n);om(t.remoteStore)||rt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const h=Et(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",_=>h.mutationQueue.getHighestUnacknowledgedBatchId(_))}(t.localStore);if(-1===r)return void e.resolve();const s=t.lc.get(r)||[];s.push(e),t.lc.set(r,s)}catch(r){const s=UE(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),ux.apply(this,arguments)}function cx(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function dx(n,e,t){const r=Et(n);let s=r.hc[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),r.hc[r.currentUser.toKey()]=s}}function jE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||QR(n,r)})}function QR(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(hD(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),fx(n))}function hx(n,e,t){for(const r of t)r instanceof WR?(n.ac.addReference(r.key,e),cB(n,r)):r instanceof KR?(rt("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||QR(n,r.key)):Ft()}function cB(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(rt("SyncEngine","New document in limbo: "+t),n.oc.add(r),fx(n))}function fx(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new vt(nr.fromString(e)),r=n.fc.next();n.cc.set(r,new tB(t)),n.uc=n.uc.insert(t,r),GS(n.remoteStore,new G_(Ko(Lv(t.path)),r,2,Ml.at))}}function am(n,e,t){return px.apply(this,arguments)}function px(){return px=(0,ke.Z)(function*(n,e,t){const r=Et(n),s=[],u=[],h=[];var _;r.ic.isEmpty()||(r.ic.forEach((_,w)=>{h.push(r._c(w,e,t).then(T=>{if((T||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,T?.fromCache?"not-current":"current"),T){s.push(T);const N=vA.Ci(w.targetId,T);u.push(N)}}))}),yield Promise.all(h),r.sc.Wo(s),yield(_=(0,ke.Z)(function*(w,T){const N=Et(w);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",L=>Se.forEach(T,j=>Se.forEach(j.Si,z=>N.persistence.referenceDelegate.addReference(L,j.targetId,z)).next(()=>Se.forEach(j.Di,z=>N.persistence.referenceDelegate.removeReference(L,j.targetId,z)))))}catch(L){if(!mp(L))throw L;rt("LocalStore","Failed to update sequence numbers: "+L)}for(const L of T){const j=L.targetId;if(!L.fromCache){const z=N.qi.get(j),le=z.withLastLimboFreeSnapshotVersion(z.snapshotVersion);N.qi=N.qi.insert(j,le)}}}),function(w,T){return _.apply(this,arguments)})(r.localStore,u))}),px.apply(this,arguments)}function dB(n,e){return gx.apply(this,arguments)}function gx(){return gx=(0,ke.Z)(function*(n,e){const t=Et(n);if(!t.currentUser.isEqual(e)){rt("SyncEngine","User change. New user:",e.toKey());const r=yield TR(t.localStore,e);t.currentUser=e,(s=t).lc.forEach(h=>{h.forEach(_=>{_.reject(new Ye(Te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield am(t,r.ji)}var s}),gx.apply(this,arguments)}function hB(n,e){const t=Et(n),r=t.cc.get(e);if(r&&r.nc)return kn().add(r.key);{let s=kn();const u=t.rc.get(e);if(!u)return s;for(const h of u){const _=t.ic.get(h);s=s.unionWith(_.view.ju)}return s}}function fB(n,e){return mx.apply(this,arguments)}function mx(){return mx=(0,ke.Z)(function*(n,e){const t=Et(n),r=yield US(t.localStore,e.query,!0),s=e.view.tc(r);return t.isPrimaryClient&&hx(t,e.targetId,s.Xu),s}),mx.apply(this,arguments)}function pB(n,e){return _x.apply(this,arguments)}function _x(){return _x=(0,ke.Z)(function*(n,e){const t=Et(n);return NR(t.localStore,e).then(r=>am(t,r))}),_x.apply(this,arguments)}function gB(n,e,t,r){return yx.apply(this,arguments)}function yx(){return yx=(0,ke.Z)(function*(n,e,t,r){const s=Et(n),u=yield function(h,_){const w=Et(h),T=Et(w.mutationQueue);return w.persistence.runTransaction("Lookup mutation documents","readonly",N=>T.Tn(N,_).next(L=>L?w.localDocuments.getDocuments(N,L):Se.resolve(null)))}(s.localStore,e);var _;null!==u?("pending"===t?yield BE(s.remoteStore):"acknowledged"===t||"rejected"===t?(dx(s,e,r||null),cx(s,e),_=e,Et(Et(s.localStore).mutationQueue).An(_)):Ft(),yield am(s,u)):rt("SyncEngine","Cannot apply mutation batch with id: "+e)}),yx.apply(this,arguments)}function vx(){return vx=(0,ke.Z)(function*(n,e){const t=Et(n);if(Cx(t),Dx(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield XR(t,r.toArray());t.dc=!0,yield qA(t.remoteStore,!0);for(const u of s)GS(t.remoteStore,u)}else if(!1===e&&!1!==t.dc){const r=[];let s=Promise.resolve();t.rc.forEach((u,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):s=s.then(()=>(jE(t,h),FE(t.localStore,h,!0))),hD(t.remoteStore,h)}),yield s,yield XR(t,r),function(u){const h=Et(u);h.cc.forEach((_,w)=>{hD(h.remoteStore,w)}),h.ac.fs(),h.cc=new Map,h.uc=new Di(vt.comparator)}(t),t.dc=!1,yield qA(t.remoteStore,!1)}}),vx.apply(this,arguments)}function XR(n,e,t){return bx.apply(this,arguments)}function bx(){return bx=(0,ke.Z)(function*(n,e,t){const r=Et(n),s=[],u=[];for(const h of e){let _;const w=r.rc.get(h);if(w&&0!==w.length){_=yield kE(r.localStore,Ko(w[0]));for(const T of w){const N=r.ic.get(T),L=yield fB(r,N);L.snapshot&&u.push(L.snapshot)}}else{const T=yield xR(r.localStore,h);_=yield kE(r.localStore,T),yield tx(r,eP(T),h,!1,_.resumeToken)}s.push(_)}return r.sc.Wo(u),s}),bx.apply(this,arguments)}function eP(n){return zC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function _B(n){const e=Et(n);return Et(Et(e.localStore).persistence).vi()}function yB(n,e,t,r){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,ke.Z)(function*(n,e,t,r){const s=Et(n);if(s.dc)return void rt("SyncEngine","Ignoring unexpected query state notification.");const u=s.rc.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const h=yield NR(s.localStore,zI(u[0])),_=Hv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,so.EMPTY_BYTE_STRING);yield am(s,h,_);break}case"rejected":yield FE(s.localStore,e,!0),jE(s,e,r);break;default:Ft()}}),Ex.apply(this,arguments)}function vB(n,e,t){return wx.apply(this,arguments)}function wx(){return wx=(0,ke.Z)(function*(n,e,t){const r=Cx(n);if(r.dc){for(const s of e){if(r.rc.has(s)){rt("SyncEngine","Adding an already active target "+s);continue}const u=yield xR(r.localStore,s),h=yield kE(r.localStore,u);yield tx(r,eP(u),h.targetId,!1,h.resumeToken),GS(r.remoteStore,h)}for(const s of t)r.rc.has(s)&&(yield FE(r.localStore,s,!1).then(()=>{hD(r.remoteStore,s),jE(r,s)}).catch(gp))}}),wx.apply(this,arguments)}function Cx(n){const e=Et(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=YR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oB.bind(null,e),e.sc.Wo=YL.bind(null,e.eventManager),e.sc.wc=JL.bind(null,e.eventManager),e}function Dx(n){const e=Et(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lB.bind(null,e),e}class tP{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ke.Z)(function*(){t.yt=cD(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return SR(this.persistence,new DR,e.initialUser,this.yt)}yc(e){return new wR(BS.Bs,this.yt)}gc(e){return new OR}terminate(){var e=this;return(0,ke.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class nP extends tP{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ke.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield Dx(r.Ac.syncEngine),yield BE(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return SR(this.persistence,new DR,e.initialUser,this.yt)}Tc(e,t){return new uL(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new tS(t,this.persistence);return new eS(e.asyncQueue,r)}yc(e){const t=yA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Mu.withCacheSize(this.cacheSizeBytes):Mu.DEFAULT;return new _A(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,FR(),jS(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new OR}}class EB extends nP{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ke.Z)(function*(){yield t().call(r,e);const s=r.Ac.syncEngine;r.sharedClientState instanceof IA&&(r.sharedClientState.syncEngine={Fr:gB.bind(null,s),$r:yB.bind(null,s),Br:vB.bind(null,s),vi:_B.bind(null,s),Mr:pB.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var u=(0,ke.Z)(function*(h){yield function mB(n,e){return vx.apply(this,arguments)}(r.Ac.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start():h||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(h&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():h||r.indexBackfillerScheduler.stop())});return function(h){return u.apply(this,arguments)}}())})()}gc(e){const t=FR();if(!IA.C(t))throw new Ye(Te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=yA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new IA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Sx{initialize(e,t){var r=this;return(0,ke.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>JR(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=dB.bind(null,r.syncEngine),yield qA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ZL}createDatastore(e){const t=cD(e.databaseInfo.databaseId),r=new RL(e.databaseInfo);return new kL(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,u=_=>JR(this.syncEngine,_,0),h=kR.C()?new kR:new xL,new BL(t,r,s,u,h);var t,r,s,u,h}createSyncEngine(e,t){return function(r,s,u,h,_,w,T){const N=new nB(r,s,u,h,_,w);return T&&(N.dc=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ke.Z)(function*(t){const r=Et(t);rt("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield LE(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Tx(n,e,t){if(!t)throw new Ye(Te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rP(n,e,t,r){if(!0===e&&!0===r)throw new Ye(Te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function iP(n){if(!vt.isDocumentKey(n))throw new Ye(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sP(n){if(vt.isDocumentKey(n))throw new Ye(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Ft()}function rr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ye(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zS(n);throw new Ye(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function oP(n,e){if(e<=0)throw new Ye(Te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const aP=new Map;class lP{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ye(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ye(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,rP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fD{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ye(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ye(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new K1;switch(t.type){case"gapi":return new NI(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ye(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=aP.get(e);t&&(rt("ComponentProvider","Removing Datastore"),aP.delete(e),t.terminate())}(this),Promise.resolve()}}class Si{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Si(this.firestore,e,this._key)}}class wa{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wa(this.firestore,e,this._query)}}class wp extends wa{constructor(e,t,r){super(e,t,Lv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Si(this.firestore,null,new vt(e))}withConverter(e){return new wp(this.firestore,e,this._path)}}function cP(n,e,...t){if(n=(0,In.m9)(n),Tx("collection","path",e),n instanceof fD){const r=nr.fromString(e,...t);return sP(r),new wp(n,null,r)}{if(!(n instanceof Si||n instanceof wp))throw new Ye(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nr.fromString(e,...t));return sP(r),new wp(n.firestore,null,r)}}function WS(n,e,...t){if(n=(0,In.m9)(n),1===arguments.length&&(e=Q1.R()),Tx("doc","path",e),n instanceof fD){const r=nr.fromString(e,...t);return iP(r),new Si(n,null,new vt(r))}{if(!(n instanceof Si||n instanceof wp))throw new Ye(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nr.fromString(e,...t));return iP(r),new Si(n.firestore,n instanceof wp?n.converter:null,new vt(r))}}function dP(n,e){return n=(0,In.m9)(n),e=(0,In.m9)(e),(n instanceof Si||n instanceof wp)&&(e instanceof Si||e instanceof wp)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Ix(n,e){return n=(0,In.m9)(n),e=(0,In.m9)(e),n instanceof wa&&e instanceof wa&&n.firestore===e.firestore&&$_(n._query,e._query)&&n.converter===e.converter}function hP(n,e=10240){let t=0;return{read:()=>(0,ke.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ke.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class KS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ci("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class CB{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new Cs,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,ke.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,ke.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,ke.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),s=Number(r);isNaN(s)&&e.Dc(`length string (${r}) is not valid number`);const u=yield e.Cc(s);return new QL(JSON.parse(u),t.length+s)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,ke.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,ke.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,ke.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class TB{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ke.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ye(Te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,ke.Z)(function*(u,h){const _=Et(u),w=yt(_.yt)+"/documents",T={documents:h.map(z=>re(_.yt,z))},N=yield _._o("BatchGetDocuments",w,T,h.length),L=new Map;N.forEach(z=>{const Q=function Tn(n,e){return"found"in e?function(t,r){Zt(!!r.found);const s=ge(t,r.found.name),u=k(r.found.updateTime),h=r.found.createTime?k(r.found.createTime):rn.min(),_=new Us({mapValue:{fields:r.found.fields}});return ni.newFoundDocument(s,u,h,_)}(n,e):"missing"in e?function(t,r){Zt(!!r.missing),Zt(!!r.readTime);const s=ge(t,r.missing),u=k(r.readTime);return ni.newNoDocument(s,u)}(n,e):Ft()}(_.yt,z);L.set(Q.key.toString(),Q)});const j=[];return h.forEach(z=>{const Q=L.get(z.toString());Zt(!!Q),j.push(Q)}),j}),function(u,h){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new sm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ke.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const u=vt.fromPath(s);e.mutations.push(new IE(u,e.precondition(u)))}),yield(r=(0,ke.Z)(function*(s,u){const h=Et(s),_=yt(h.yt)+"/documents",w={writes:u.map(T=>ri(h.yt,T))};yield h.ao("Commit",_,w)}),function(s,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ft();t=rn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ye(Te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(rn.min())?zr.exists(!1):zr.updateTime(t):zr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(rn.min()))throw new Ye(Te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zr.updateTime(t)}return zr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class IB{constructor(e,t,r,s,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=u,this.kc=r.maxAttempts,this.xo=new AA(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,ke.Z)(function*(){const t=new TB(e.datastore),r=e.Mc(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(u=>{e.Fc(u)}))}).catch(s=>{e.Fc(s)})}))}Mc(e){try{const t=this.updateFunction(e);return!k_(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!AE(t)}return!1}}class AB{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Vs.UNAUTHENTICATED,this.clientId=Q1.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,ke.Z)(function*(_){rt("FirestoreClient","Received user=",_.uid),yield u.authCredentialListener(_),u.user=_});return function(_){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,h=>(rt("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,ke.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ye(Te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ke.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=UE(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function fP(n,e){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,ke.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),rt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,ke.Z)(function*(u){r.isEqual(u)||(yield TR(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Ax.apply(this,arguments)}function pP(n,e){return xx.apply(this,arguments)}function xx(){return xx=(0,ke.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Nx(n);rt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>jR(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,u)=>jR(e.remoteStore,u)),n.onlineComponents=e}),xx.apply(this,arguments)}function Nx(n){return Mx.apply(this,arguments)}function Mx(){return Mx=(0,ke.Z)(function*(n){return n.offlineComponents||(rt("FirestoreClient","Using default OfflineComponentProvider"),yield fP(n,new tP)),n.offlineComponents}),Mx.apply(this,arguments)}function ZS(n){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,ke.Z)(function*(n){return n.onlineComponents||(rt("FirestoreClient","Using default OnlineComponentProvider"),yield pP(n,new Sx)),n.onlineComponents}),Rx.apply(this,arguments)}function gP(n){return Nx(n).then(e=>e.persistence)}function YS(n){return Nx(n).then(e=>e.localStore)}function Px(n){return ZS(n).then(e=>e.remoteStore)}function Ox(n){return ZS(n).then(e=>e.syncEngine)}function GE(n){return kx.apply(this,arguments)}function kx(){return kx=(0,ke.Z)(function*(n){const e=yield ZS(n),t=e.eventManager;return t.onListen=rB.bind(null,e.syncEngine),t.onUnlisten=iB.bind(null,e.syncEngine),t}),kx.apply(this,arguments)}function _P(n,e,t={}){const r=new Cs;return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(s,u,h,_,w){const T=new KS({next:L=>{u.enqueueAndForget(()=>YA(s,N));const j=L.docs.has(h);!j&&L.fromCache?w.reject(new Ye(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&L.fromCache&&_&&"server"===_.source?w.reject(new Ye(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(L)},error:L=>w.reject(L)}),N=new XA(Lv(h.path),T,{includeMetadataChanges:!0,Nu:!0});return KA(s,N)}(yield GE(n),n.asyncQueue,e,t,r)})),r.promise}function yP(n,e,t={}){const r=new Cs;return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(s,u,h,_,w){const T=new KS({next:L=>{u.enqueueAndForget(()=>YA(s,N)),L.fromCache&&"server"===_.source?w.reject(new Ye(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(L)},error:L=>w.reject(L)}),N=new XA(h,T,{includeMetadataChanges:!0,Nu:!0});return KA(s,N)}(yield GE(n),n.asyncQueue,e,t,r)})),r.promise}class FB{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new AA(this,"async_queue_retry"),this.Wc=()=>{const t=jS();t&&rt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=jS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=jS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Cs;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ke.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!mp(t))throw t;rt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Ci("INTERNAL UNHANDLED ERROR: ",function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),h}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const s=WA.createAndSchedule(this,e,t,r,u=>this.Yc(u));return this.Uc.push(s),s}zc(){this.Kc&&Ft()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ke.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Fx(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class LB{constructor(){this._progressObserver={},this._taskCompletionResolver=new Cs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ti extends fD{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new FB,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||vP(this),this._firestoreClient.terminate()}}function $s(n){return n._firestoreClient||vP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function vP(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new OI(n._databaseId,u,n._persistenceKey,(_=t).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));var u,_;n._firestoreClient=new AB(n._authCredentials,n._appCheckCredentials,n._queue,r)}function bP(n,e,t){const r=new Cs;return n.asyncQueue.enqueue((0,ke.Z)(function*(){try{yield fP(n,t),yield pP(n,e),r.resolve()}catch(s){const u=s;if(!("FirebaseError"===(h=u).name?h.code===Te.FAILED_PRECONDITION||h.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw u;Qh("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var h})).then(()=>r.promise)}function EP(n){if(n._initialized||n._terminated)throw new Ye(Te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Cp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cp(so.fromBase64String(e))}catch(t){throw new Ye(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Cp(so.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class lm{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ye(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yv{constructor(e){this._methodName=e}}class JS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ye(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ye(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Sn(this._lat,e._lat)||Sn(this._long,e._long)}}const WB=/^__.*__$/;class KB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new sf(e,this.data,this.fieldMask,t,this.fieldTransforms):new j_(e,this.data,t,this.fieldTransforms)}}class wP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new sf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function CP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft()}}class QS{constructor(e,t,r,s,u,h){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=s,void 0===u&&this.na(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new QS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.ia({path:r,oa:!1});return s.ua(e),s}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.ia({path:r,oa:!1});return s.na(),s}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return tT(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(CP(this.sa)&&WB.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class ZB{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||cD(e)}da(e,t,r,s=!1){return new QS({sa:e,methodName:t,fa:r,path:Fi.emptyPath(),oa:!1,la:s},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Jv(n){const e=n._freezeSettings(),t=cD(n._databaseId);return new ZB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function XS(n,e,t,r,s,u={}){const h=n.da(u.merge||u.mergeFields?2:0,e,t,s);Ux("Data must be an object, but it was:",h,r);const _=TP(r,h);let w,T;if(u.merge)w=new tl(h.fieldMask),T=h.fieldTransforms;else if(u.mergeFields){const N=[];for(const L of u.mergeFields){const j=$x(e,L,t);if(!h.contains(j))throw new Ye(Te.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);AP(N,j)||N.push(j)}w=new tl(N),T=h.fieldTransforms.filter(L=>w.covers(L.field))}else w=null,T=h.fieldTransforms;return new KB(new Us(_),w,T)}class pD extends Yv{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pD}}function DP(n,e,t){return new QS({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class Lx extends Yv{_toFieldTransform(e){return new rm(e.path,new Vv)}isEqual(e){return e instanceof Lx}}class YB extends Yv{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=DP(this,e,!0),r=this._a.map(u=>Qv(u,t)),s=new em(r);return new rm(e.path,s)}isEqual(e){return this===e}}class JB extends Yv{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=DP(this,e,!0),r=this._a.map(u=>Qv(u,t)),s=new tm(r);return new rm(e.path,s)}isEqual(e){return this===e}}class QB extends Yv{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new nm(e.yt,wS(e.yt,this.wa));return new rm(e.path,t)}isEqual(e){return this===e}}function Bx(n,e,t,r){const s=n.da(1,e,t);Ux("Data must be an object, but it was:",s,r);const u=[],h=Us.empty();yp(r,(w,T)=>{const N=eT(e,w,t);T=(0,In.m9)(T);const L=s.ca(N);if(T instanceof pD)u.push(N);else{const j=Qv(T,L);null!=j&&(u.push(N),h.set(N,j))}});const _=new tl(u);return new wP(h,_,s.fieldTransforms)}function Vx(n,e,t,r,s,u){const h=n.da(1,e,t),_=[$x(e,r,t)],w=[s];if(u.length%2!=0)throw new Ye(Te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<u.length;j+=2)_.push($x(e,u[j])),w.push(u[j+1]);const T=[],N=Us.empty();for(let j=_.length-1;j>=0;--j)if(!AP(T,_[j])){const z=_[j];let Q=w[j];Q=(0,In.m9)(Q);const le=h.ca(z);if(Q instanceof pD)T.push(z);else{const ve=Qv(Q,le);null!=ve&&(T.push(z),N.set(z,ve))}}const L=new tl(T);return new wP(N,L,h.fieldTransforms)}function SP(n,e,t,r=!1){return Qv(t,n.da(r?4:3,e))}function Qv(n,e){if(IP(n=(0,In.m9)(n)))return Ux("Unsupported field value:",e,n),TP(n,e);if(n instanceof Yv)return function(t,r){if(!CP(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const s=[];let u=0;for(const h of t){let _=Qv(h,r.aa(u));null==_&&(_={nullValue:"NULL_VALUE"}),s.push(_),u++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,In.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return wS(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=ti.fromDate(t);return{timestampValue:S(r.yt,s)}}if(t instanceof ti){const s=new ti(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:S(r.yt,s)}}if(t instanceof JS)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Cp)return{bytesValue:x(r.yt,t._byteString)};if(t instanceof Si){const s=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw r.ha(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:$(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${zS(t)}`)}(n,e)}function TP(n,e){const t={};return VC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yp(n,(r,s)=>{const u=Qv(s,e.ra(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function IP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ti||n instanceof JS||n instanceof Cp||n instanceof Si||n instanceof Yv)}function Ux(n,e,t){if(!IP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=zS(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function $x(n,e,t){if((e=(0,In.m9)(e))instanceof lm)return e._internalPath;if("string"==typeof e)return eT(n,e);throw tT("Field path arguments must be of type string or ",n,!1,void 0,t)}const XB=new RegExp("[~\\*/\\[\\]]");function eT(n,e,t){if(e.search(XB)>=0)throw tT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new lm(...e.split("."))._internalPath}catch{throw tT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tT(n,e,t,r,s){const u=r&&!r.isEmpty(),h=void 0!==s;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let w="";return(u||h)&&(w+=" (found",u&&(w+=` in field ${r}`),h&&(w+=` in document ${s}`),w+=")"),new Ye(Te.INVALID_ARGUMENT,_+n+w)}function AP(n,e){return n.some(t=>t.isEqual(e))}class gD{constructor(e,t,r,s,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Si(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new eV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class eV extends gD{data(){return super.data()}}function nT(n,e){return"string"==typeof e?eT(n,e):e instanceof lm?e._internalPath:e._delegate._internalPath}function xP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ye(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hx{}class mD extends Hx{}function Z_(n,e,...t){let r=[];e instanceof Hx&&r.push(e),r=r.concat(t),function(s){const u=s.filter(_=>_ instanceof qE).length,h=s.filter(_=>_ instanceof _D).length;if(u>1||u>0&&h>0)throw new Ye(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class _D extends mD{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new _D(e,t,r)}_apply(e){const t=this._parse(e);return PP(e._query,t),new wa(e.firestore,e.converter,U_(e._query,t))}_parse(e){const t=Jv(e.firestore);return function(s,u,h,_,w,T,N){let L;if(w.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new Ye(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if("in"===T||"not-in"===T){RP(N,T);const j=[];for(const z of N)j.push(MP(_,s,z));L={arrayValue:{values:j}}}else L=MP(_,s,N)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||RP(N,T),L=SP(h,"where",N,"in"===T||"not-in"===T);return Yn.create(w,T,L)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class qE extends Hx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new qE(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Cr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,s){let u=r;const h=s.getFlattenedFilters();for(const _ of h)PP(u,_),u=U_(u,_)}(e._query,t),new wa(e.firestore,e.converter,U_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class jx extends mD{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new jx(e,t)}_apply(e){const t=function(r,s,u){if(null!==r.startAt)throw new Ye(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ye(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new V_(s,u);return function(_,w){if(null===DE(_)){const T=Bv(_);null!==T&&OP(0,T,w.field)}}(r,h),h}(e._query,this._field,this._direction);return new wa(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new rf(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class rT extends mD{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new rT(e,t,r)}_apply(e){return new wa(e.firestore,e.converter,Xg(e._query,this._limit,this._limitType))}}class iT extends mD{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new iT(e,t,r)}_apply(e){const t=NP(e,this.type,this._docOrFields,this._inclusive);return new wa(e.firestore,e.converter,(s=t,new rf((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class sT extends mD{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new sT(e,t,r)}_apply(e){const t=NP(e,this.type,this._docOrFields,this._inclusive);return new wa(e.firestore,e.converter,(s=t,new rf((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function NP(n,e,t,r){if(t[0]=(0,In.m9)(t[0]),t[0]instanceof gD)return function(s,u,h,_,w){if(!_)throw new Ye(Te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const T=[];for(const N of vp(s))if(N.field.isKeyField())T.push(nf(u,_.key));else{const L=_.data.field(N.field);if(sS(L))throw new Ye(Te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===L){const j=N.field.canonicalString();throw new Ye(Te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}T.push(L)}return new Yg(T,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=Jv(n.firestore);return function(u,h,_,w,T,N){const L=u.explicitOrderBy;if(T.length>L.length)throw new Ye(Te.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let z=0;z<T.length;z++){const Q=T[z];if(L[z].field.isKeyField()){if("string"!=typeof Q)throw new Ye(Te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof Q}`);if(!SE(u)&&-1!==Q.indexOf("/"))throw new Ye(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${Q}' contains a slash.`);const le=u.path.child(nr.fromString(Q));if(!vt.isDocumentKey(le))throw new Ye(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${le}' is not because it contains an odd number of segments.`);const ve=new vt(le);j.push(nf(h,ve))}else{const le=SP(_,w,Q);j.push(le)}}return new Yg(j,N)}(n._query,n.firestore._databaseId,s,e,t,r)}}function MP(n,e,t){if("string"==typeof(t=(0,In.m9)(t))){if(""===t)throw new Ye(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SE(e)&&-1!==t.indexOf("/"))throw new Ye(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(nr.fromString(t));if(!vt.isDocumentKey(r))throw new Ye(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nf(n,new vt(r))}if(t instanceof Si)return nf(n,t._key);throw new Ye(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zS(t)}.`)}function RP(n,e){if(!Array.isArray(n)||0===n.length)throw new Ye(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ye(Te.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function PP(n,e){if(e.isInequality()){const r=Bv(n),s=e.field;if(null!==r&&!r.isEqual(s))throw new Ye(Te.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const u=DE(n);null!==u&&OP(0,s,u)}const t=function(r,s){for(const u of r)for(const h of u.getFlattenedFilters())if(s.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ye(Te.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function OP(n,e,t){if(!t.isEqual(e))throw new Ye(Te.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Gx{convertValue(e,t="none"){switch(Od(e)){case 0:return null;case 1:return e.booleanValue;case 2:return es(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(L_(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ft()}}convertObject(e,t){const r={};return yp(e.fields,(s,u)=>{r[s]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new JS(es(e.latitude),es(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=FI(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(fE(e));default:return null}}convertTimestamp(e){const t=Wg(e);return new ti(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nr.fromString(e);Zt(jM(r));const s=new ef(r.get(1),r.get(3)),u=new vt(r.popFirst(5));return s.isEqual(t)||Ci(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function oT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class uV extends Gx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Si(this.firestore,null,t)}}class Xv{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class um extends gD{constructor(e,t,r,s,u,h){super(e,t,r,s,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(nT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class yD extends um{data(e={}){return super.data(e)}}class Y_{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Xv(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new yD(this._firestore,this._userDataWriter,r.key,r,new Xv(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ye(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new yD(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Xv(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>s||3!==h.type).map(h=>{const _=new yD(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Xv(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,T=-1;return 0!==h.type&&(w=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),1!==h.type&&(u=u.add(h.doc),T=u.indexOf(h.doc.key)),{type:cV(h.type),doc:_,oldIndex:w,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft()}}function FP(n,e){return n instanceof um&&e instanceof um?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Y_&&e instanceof Y_&&n._firestore===e._firestore&&Ix(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class J_ extends Gx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Si(this.firestore,null,t)}}function LP(n,e,t){n=rr(n,Si);const r=rr(n.firestore,Ti),s=oT(n.converter,e,t);return zE(r,[XS(Jv(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,zr.none())])}function BP(n,e,t,...r){n=rr(n,Si);const s=rr(n.firestore,Ti),u=Jv(s);let h;return h="string"==typeof(e=(0,In.m9)(e))||e instanceof lm?Vx(u,"updateDoc",n._key,e,t,r):Bx(u,"updateDoc",n._key,e),zE(s,[h.toMutation(n._key,zr.exists(!0))])}function VP(n,...e){var t,r,s;n=(0,In.m9)(n);let u={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||Fx(e[h])||(u=e[h],h++);const _={includeMetadataChanges:u.includeMetadataChanges};if(Fx(e[h])){const L=e[h];e[h]=null===(t=L.next)||void 0===t?void 0:t.bind(L),e[h+1]=null===(r=L.error)||void 0===r?void 0:r.bind(L),e[h+2]=null===(s=L.complete)||void 0===s?void 0:s.bind(L)}let w,T,N;if(n instanceof Si)T=rr(n.firestore,Ti),N=Lv(n._key.path),w={next:L=>{e[h]&&e[h](qx(T,n,L))},error:e[h+1],complete:e[h+2]};else{const L=rr(n,wa);T=rr(L.firestore,Ti),N=L._query;const j=new J_(T);w={next:z=>{e[h]&&e[h](new Y_(T,j,L,z))},error:e[h+1],complete:e[h+2]},xP(n._query)}return function(L,j,z,Q){const le=new KS(Q),ve=new XA(j,le,z);return L.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return KA(yield GE(L),ve)})),()=>{le.bc(),L.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return YA(yield GE(L),ve)}))}}($s(T),N,_,w)}function zE(n,e){return function(t,r){const s=new Cs;return t.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function sB(n,e,t){return ix.apply(this,arguments)}(yield Ox(t),r,s)})),s.promise}($s(n),e)}function qx(n,e,t){const r=t.docs.get(e._key),s=new J_(n);return new um(n,s,e._key,r,new Xv(t.hasPendingWrites,t.fromCache),e.converter)}const bV={maxAttempts:5};class UP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Jv(e)}set(e,t,r){this._verifyNotCommitted();const s=Q_(e,this._firestore),u=oT(s.converter,t,r),h=XS(this._dataReader,"WriteBatch.set",s._key,u,null!==s.converter,r);return this._mutations.push(h.toMutation(s._key,zr.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const u=Q_(e,this._firestore);let h;return h="string"==typeof(t=(0,In.m9)(t))||t instanceof lm?Vx(this._dataReader,"WriteBatch.update",u._key,t,r,s):Bx(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(h.toMutation(u._key,zr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Q_(e,this._firestore);return this._mutations=this._mutations.concat(new sm(t._key,zr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ye(Te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Q_(n,e){if((n=(0,In.m9)(n)).firestore!==e)throw new Ye(Te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class EV extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Jv(e)}get(e){const t=Q_(e,this._firestore),r=new uV(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||1!==s.length)return Ft();const u=s[0];if(u.isFoundDocument())return new gD(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new gD(this._firestore,r,t._key,null,t.converter);throw Ft()})}set(e,t,r){const s=Q_(e,this._firestore),u=oT(s.converter,t,r),h=XS(this._dataReader,"Transaction.set",s._key,u,null!==s.converter,r);return this._transaction.set(s._key,h),this}update(e,t,r,...s){const u=Q_(e,this._firestore);let h;return h="string"==typeof(t=(0,In.m9)(t))||t instanceof lm?Vx(this._dataReader,"Transaction.update",u._key,t,r,s):Bx(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,h),this}delete(e){const t=Q_(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Q_(e,this._firestore),r=new J_(this._firestore);return super.get(e).then(s=>new um(this._firestore,r,t._key,s._document,new Xv(!1,!1),t.converter))}}function zx(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ye("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function HP(){if(typeof Uint8Array>"u")throw new Ye("unimplemented","Uint8Arrays are not available in this environment.")}function jP(){if(!function kI(){return typeof atob<"u"}())throw new Ye("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){fp=Rd.SDK_VERSION,(0,Rd._registerComponent)(new Ea.wA("firestore",(t,{instanceIdentifier:r,options:s})=>{const u=t.getProvider("app").getImmediate(),h=new Ti(new Z1(t.getProvider("auth-internal")),new J1(t.getProvider("app-check-internal")),function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new Ye(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ef(_.options.projectId,w)}(u,r),u);return s=Object.assign({useFetchStreams:e},s),h._setSettings(s),h},"PUBLIC").setMultipleInstances(!0)),(0,Rd.registerVersion)(TC,"3.8.0",n),(0,Rd.registerVersion)(TC,"3.8.0","esm2017")}();class vD{constructor(e){this._delegate=e}static fromBase64String(e){return jP(),new vD(Cp.fromBase64String(e))}static fromUint8Array(e){return HP(),new vD(Cp.fromUint8Array(e))}toBase64(){return jP(),this._delegate.toBase64()}toUint8Array(){return HP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Wx(n){return function NV(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class MV{enableIndexedDbPersistence(e,t){return function VB(n,e){EP(n=rr(n,Ti));const t=$s(n),r=n._freezeSettings(),s=new Sx;return bP(t,s,new nP(s,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function UB(n){EP(n=rr(n,Ti));const e=$s(n),t=n._freezeSettings(),r=new Sx;return bP(e,r,new EB(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function $B(n){if(n._initialized&&!n._terminated)throw new Ye(Te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Cs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ke.Z)(function*(){try{yield(t=(0,ke.Z)(function*(r){if(!Fc.C())return Promise.resolve();const s=r+"main";yield Fc.delete(s)}),function(r){return t.apply(this,arguments)})(yA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class GP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ef||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Qh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function uP(n,e,t,r={}){var s;const u=(n=rr(n,fD))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Qh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,_;if("string"==typeof r.mockUserToken)h=r.mockUserToken,_=Vs.MOCK_USER;else{h=(0,In.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Ye(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Vs(w)}n._authCredentials=new xI(new xC(h,_))}}(this._delegate,e,t,r)}enableNetwork(){return function jB(n){return function xB(n){return n.asyncQueue.enqueue((0,ke.Z)(function*(){const e=yield gP(n),t=yield Px(n);return e.setNetworkEnabled(!0),function(r){const s=Et(r);return s._u.delete(0),dD(s)}(t)}))}($s(n=rr(n,Ti)))}(this._delegate)}disableNetwork(){return function GB(n){return function NB(n){return n.asyncQueue.enqueue((0,ke.Z)(function*(){const e=yield gP(n),t=yield Px(n);return e.setNetworkEnabled(!1),(r=(0,ke.Z)(function*(s){const u=Et(s);u._u.add(0),yield LE(u),u.gu.set("Offline")}),function(s){return r.apply(this,arguments)})(t);var r}))}($s(n=rr(n,Ti)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,rP("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function HB(n){return function(e){const t=new Cs;return e.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function uB(n,e){return ux.apply(this,arguments)}(yield Ox(e),t)})),t.promise}($s(n=rr(n,Ti)))}(this._delegate)}onSnapshotsInSync(e){return function vV(n,e){return function PB(n,e){const t=new KS(e);return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return r=yield GE(n),s=t,Et(r).Ru.add(s),void s.next();var r,s})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return r=yield GE(n),s=t,void Et(r).Ru.delete(s);var r,s}))}}($s(n=rr(n,Ti)),Fx(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ye("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new WE(this,cP(this._delegate,e))}catch(t){throw Ol(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ld(this,WS(this._delegate,e))}catch(t){throw Ol(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new kl(this,function wB(n,e){if(n=rr(n,fD),Tx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ye(Te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new wa(n,null,(t=e,new rf(nr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ol(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function wV(n,e,t){n=rr(n,Ti);const r=Object.assign(Object.assign({},bV),t);return function(s){if(s.maxAttempts<1)throw new Ye(Te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,u,h){const _=new Cs;return s.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){const w=yield function mP(n){return ZS(n).then(e=>e.datastore)}(s);new IB(s.asyncQueue,w,h,u,_).run()})),_.promise}($s(n),s=>e(new EV(n,s)),r)}(this._delegate,t=>e(new qP(this,t)))}batch(){return $s(this._delegate),new zP(new UP(this._delegate,e=>zE(this._delegate,e)))}loadBundle(e){return function qB(n,e){const t=$s(n=rr(n,Ti)),r=new LB;return function OB(n,e,t,r){const s=function(u,h){let _;return _="string"==typeof u?(new TextEncoder).encode(u):u,w=function(w,T){if(w instanceof Uint8Array)return hP(w,T);if(w instanceof ArrayBuffer)return hP(new Uint8Array(w),T);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(_),new CB(w,h);var w}(t,cD(e));n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){!function bB(n,e,t){const r=Et(n);var s;(s=(0,ke.Z)(function*(u,h,_){try{const w=yield h.getMetadata();if(yield function(j,z){const Q=Et(j),le=k(z.createTime);return Q.persistence.runTransaction("hasNewerBundle","readonly",ve=>Q.Ns.getBundleMetadata(ve,z.id)).then(ve=>!!ve&&ve.createTime.compareTo(le)>=0)}(u.localStore,w))return yield h.close(),_._completeWith({taskState:"Success",documentsLoaded:(j=w).totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}),Promise.resolve(new Set);_._updateProgress(zR(w));const T=new XL(w,u.localStore,h.yt);let N=yield h.mc();for(;N;){const j=yield T.Fu(N);j&&_._updateProgress(j),N=yield h.mc()}const L=yield T.complete();return yield am(u,L.Lu,void 0),yield function(j,z){const Q=Et(j);return Q.persistence.runTransaction("Save bundle","readwrite",le=>Q.Ns.saveBundleMetadata(le,z))}(u.localStore,w),_._completeWith(L.progress),Promise.resolve(L.Bu)}catch(w){return Qh("SyncEngine",`Loading bundle failed with ${w}`),_._failWith(w),Promise.resolve(new Set)}var j}),function(u,h,_){return s.apply(this,arguments)})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield Ox(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function zB(n,e){return function kB(n,e){return n.asyncQueue.enqueue((0,ke.Z)(function*(){return function(t,r){const s=Et(t);return s.persistence.runTransaction("Get named query","readonly",u=>s.Ns.getNamedQuery(u,r))}(yield YS(n),e)}))}($s(n=rr(n,Ti)),e).then(t=>t?new wa(n,null,t.query):null)}(this._delegate,e).then(t=>t?new kl(this,t):null)}}class aT extends Gx{constructor(e){super(),this.firestore=e}convertBytes(e){return new vD(new Cp(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ld.forKey(t,this.firestore,null)}}class qP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new aT(e)}get(e){const t=t0(e);return this._delegate.get(t).then(r=>new bD(this._firestore,new um(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=t0(e);return r?(zx("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=t0(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=t0(e);return this._delegate.delete(t),this}}class zP{constructor(e){this._delegate=e}set(e,t,r){const s=t0(e);return r?(zx("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=t0(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=t0(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class e0{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new yD(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ED(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=e0.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(t);return u||(u=new e0(e,new aT(e),t),s.set(t,u)),u}}e0.INSTANCES=new WeakMap;class Ld{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new aT(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ye("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ld(t,new Si(t._delegate,r,new vt(e)))}static forKey(e,t,r){return new Ld(t,new Si(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new WE(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new WE(this.firestore,cP(this._delegate,e))}catch(t){throw Ol(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,In.m9)(e))instanceof Si&&dP(this._delegate,e)}set(e,t){t=zx("DocumentReference.set",t);try{return t?LP(this._delegate,e,t):LP(this._delegate,e)}catch(r){throw Ol(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?BP(this._delegate,e):BP(this._delegate,e,t,...r)}catch(s){throw Ol(s,"updateDoc()","DocumentReference.update()")}}delete(){return function _V(n){return zE(rr(n.firestore,Ti),[new sm(n._key,zr.none())])}(this._delegate)}onSnapshot(...e){const t=WP(e),r=KP(e,s=>new bD(this.firestore,new um(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return VP(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function hV(n){n=rr(n,Si);const e=rr(n.firestore,Ti),t=$s(e),r=new J_(e);return function MB(n,e){const t=new Cs;return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return(r=(0,ke.Z)(function*(s,u,h){try{const _=yield function(w,T){const N=Et(w);return N.persistence.runTransaction("read document","readonly",L=>N.localDocuments.getDocument(L,T))}(s,u);_.isFoundDocument()?h.resolve(_):_.isNoDocument()?h.resolve(null):h.reject(new Ye(Te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(_){const w=UE(_,`Failed to get document '${u} from cache`);h.reject(w)}}),function(s,u,h){return r.apply(this,arguments)})(yield YS(n),e,t);var r})),t.promise}(t,n._key).then(s=>new um(e,r,n._key,s,new Xv(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function fV(n){n=rr(n,Si);const e=rr(n.firestore,Ti);return _P($s(e),n._key,{source:"server"}).then(t=>qx(e,n,t))}(this._delegate):function dV(n){n=rr(n,Si);const e=rr(n.firestore,Ti);return _P($s(e),n._key).then(t=>qx(e,n,t))}(this._delegate),t.then(r=>new bD(this.firestore,new um(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ld(this.firestore,this._delegate.withConverter(e?e0.getInstance(this.firestore,e):null))}}function Ol(n,e,t){return n.message=n.message.replace(e,t),n}function WP(n){for(const e of n)if("object"==typeof e&&!Wx(e))return e;return{}}function KP(n,e){var t,r;let s;return s=Wx(n[0])?n[0]:Wx(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class bD{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ld(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return FP(this._delegate,e._delegate)}}class ED extends bD{data(e){const t=this._delegate.data(e);return function AI(n,e){n||Ft()}(void 0!==t),t}}class kl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new aT(e)}where(e,t,r){try{return new kl(this.firestore,Z_(this._delegate,function tV(n,e,t){const r=e,s=nT("where",n);return _D._create(s,r,t)}(e,t,r)))}catch(s){throw Ol(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new kl(this.firestore,Z_(this._delegate,function nV(n,e="asc"){const t=e,r=nT("orderBy",n);return jx._create(r,t)}(e,t)))}catch(r){throw Ol(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new kl(this.firestore,Z_(this._delegate,function rV(n){return oP("limit",n),rT._create("limit",n,"F")}(e)))}catch(t){throw Ol(t,"limit()","Query.limit()")}}limitToLast(e){try{return new kl(this.firestore,Z_(this._delegate,function iV(n){return oP("limitToLast",n),rT._create("limitToLast",n,"L")}(e)))}catch(t){throw Ol(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new kl(this.firestore,Z_(this._delegate,function sV(...n){return iT._create("startAt",n,!0)}(...e)))}catch(t){throw Ol(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new kl(this.firestore,Z_(this._delegate,function oV(...n){return iT._create("startAfter",n,!1)}(...e)))}catch(t){throw Ol(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new kl(this.firestore,Z_(this._delegate,function aV(...n){return sT._create("endBefore",n,!1)}(...e)))}catch(t){throw Ol(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new kl(this.firestore,Z_(this._delegate,function lV(...n){return sT._create("endAt",n,!0)}(...e)))}catch(t){throw Ol(t,"endAt()","Query.endAt()")}}isEqual(e){return Ix(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function gV(n){n=rr(n,wa);const e=rr(n.firestore,Ti),t=$s(e),r=new J_(e);return function RB(n,e){const t=new Cs;return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return(r=(0,ke.Z)(function*(s,u,h){try{const _=yield US(s,u,!0),w=new ZR(u,_.Hi),T=w.Wu(_.documents),N=w.applyChanges(T,!1);h.resolve(N.snapshot)}catch(_){const w=UE(_,`Failed to execute query '${u} against cache`);h.reject(w)}}),function(s,u,h){return r.apply(this,arguments)})(yield YS(n),e,t);var r})),t.promise}(t,n._query).then(s=>new Y_(e,r,n,s))}(this._delegate):"server"===e?.source?function mV(n){n=rr(n,wa);const e=rr(n.firestore,Ti),t=$s(e),r=new J_(e);return yP(t,n._query,{source:"server"}).then(s=>new Y_(e,r,n,s))}(this._delegate):function pV(n){n=rr(n,wa);const e=rr(n.firestore,Ti),t=$s(e),r=new J_(e);return xP(n._query),yP(t,n._query).then(s=>new Y_(e,r,n,s))}(this._delegate),t.then(r=>new Kx(this.firestore,new Y_(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=WP(e),r=KP(e,s=>new Kx(this.firestore,new Y_(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return VP(this._delegate,t,r)}withConverter(e){return new kl(this.firestore,this._delegate.withConverter(e?e0.getInstance(this.firestore,e):null))}}class PV{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ED(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Kx{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new kl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ED(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new PV(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new ED(this._firestore,r))})}isEqual(e){return FP(this._delegate,e._delegate)}}class WE extends kl{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ld(this.firestore,e):null}doc(e){try{return new Ld(this.firestore,void 0===e?WS(this._delegate):WS(this._delegate,e))}catch(t){throw Ol(t,"doc()","CollectionReference.doc()")}}add(e){return function yV(n,e){const t=rr(n.firestore,Ti),r=WS(n),s=oT(n.converter,e);return zE(t,[XS(Jv(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,zr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ld(this.firestore,t))}isEqual(e){return dP(this._delegate,e._delegate)}withConverter(e){return new WE(this.firestore,this._delegate.withConverter(e?e0.getInstance(this.firestore,e):null))}}function t0(n){return rr(n,Si)}class Zx{constructor(...e){this._delegate=new lm(...e)}static documentId(){return new Zx(Fi.keyField().canonicalString())}isEqual(e){return(e=(0,In.m9)(e))instanceof lm&&this._delegate._internalPath.isEqual(e._internalPath)}}class n0{constructor(e){this._delegate=e}static serverTimestamp(){const e=function DV(){return new Lx("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new n0(e)}static delete(){const e=function CV(){return new pD("deleteField")}();return e._methodName="FieldValue.delete",new n0(e)}static arrayUnion(...e){const t=function SV(...n){return new YB("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new n0(t)}static arrayRemove(...e){const t=function TV(...n){return new JB("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new n0(t)}static increment(e){const t=function IV(n){return new QB("increment",n)}(e);return t._methodName="FieldValue.increment",new n0(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const OV={Firestore:GP,GeoPoint:JS,Timestamp:ti,Blob:vD,Transaction:qP,WriteBatch:zP,DocumentReference:Ld,DocumentSnapshot:bD,Query:kl,QueryDocumentSnapshot:ED,QuerySnapshot:Kx,CollectionReference:WE,FieldPath:Zx,FieldValue:n0,setLogLevel:function RV(n){!function IC(n){Jh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function FV(n){(function kV(n,e){n.INTERNAL.registerComponent(new Ea.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},OV)))})(n,(e,t)=>new GP(e,t,new MV)),n.registerVersion("@firebase/firestore-compat","0.3.0")}(Ja.Z);var ZP=q(6451),lT=q(5363),LV=q(6063);class BV extends Ei.x{constructor(e=1/0,t=1/0,r=LV.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:h}=this;t||(r.push(e),!s&&r.push(u.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let h=0;h<u.length&&!e.closed;h+=r?1:2)e.next(u[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const h=t.now();let _=0;for(let w=1;w<r.length&&r[w]<=h;w+=2)_=w;_&&r.splice(0,_+1)}}}var VV=q(3099);function YP(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=n??1/0,(0,VV.B)({connector:()=>new BV(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function JP(n,e){return(0,Xs.m)(e)?Oi(()=>n,e):Oi(()=>n)}var Yx=q(9468);q(259);const Qx=new Map,XP={activated:!1,tokenObservers:[]},GV={initialized:!1,enabled:!1};function Ca(n){return Qx.get(n)||Object.assign({},XP)}function cT(){return GV}class YV{constructor(e,t,r,s,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=s,s>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ke.Z)(function*(){t.stop();try{t.pending=new In.BH,yield function JV(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new In.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Fl=new In.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function tO(n){if(!Ca(n).activated)throw Fl.create("use-before-activation",{appName:n.name})}function tN(n,e){return nN.apply(this,arguments)}function nN(){return nN=(0,ke.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){const L=yield s.getHeartbeatsHeader();L&&(r["X-Firebase-Client"]=L)}const u={method:"POST",body:JSON.stringify(e),headers:r};let h,_;try{h=yield fetch(n,u)}catch(L){throw Fl.create("fetch-network-error",{originalErrorMessage:L?.message})}if(200!==h.status)throw Fl.create("fetch-status-error",{httpStatus:h.status});try{_=yield h.json()}catch(L){throw Fl.create("fetch-parse-error",{originalErrorMessage:L?.message})}const w=_.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Fl.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const T=1e3*Number(w[1]),N=Date.now();return{token:_.token,expireTimeMillis:N+T,issuedAtTimeMillis:N}}),nN.apply(this,arguments)}function tU(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${s}`,body:{debug_token:e}}}const wD="firebase-app-check-store";let fT=null;function rO(){return fT||(fT=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var s;e(Fl.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(wD,{keyPath:"compositeKey"})}}catch(t){e(Fl.create("storage-open",{originalErrorMessage:t?.message}))}}),fT)}function rN(){return rN=(0,ke.Z)(function*(n,e){const r=(yield rO()).transaction(wD,"readwrite"),u=r.objectStore(wD).put({compositeKey:n,value:e});return new Promise((h,_)=>{u.onsuccess=w=>{h()},r.onerror=w=>{var T;_(Fl.create("storage-set",{originalErrorMessage:null===(T=w.target.error)||void 0===T?void 0:T.message}))}})}),rN.apply(this,arguments)}const CD=new Fs.Yd("@firebase/app-check");function oN(n,e){return(0,In.hl)()?function sU(n,e){return function iO(n,e){return rN.apply(this,arguments)}(function oO(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{CD.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function aO(){return cT().enabled}function lO(){return lN.apply(this,arguments)}function lN(){return lN=(0,ke.Z)(function*(){const n=cT();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),lN.apply(this,arguments)}const dU={error:"UNKNOWN_ERROR"};function hU(n){return In.US.encodeString(JSON.stringify(n),!1)}function pT(n){return uN.apply(this,arguments)}function uN(){return uN=(0,ke.Z)(function*(n,e=!1){const t=n.app;tO(t);const r=Ca(t);let u,s=r.token;if(s&&!KE(s)&&(r.token=void 0,s=void 0),!s){const w=yield r.cachedTokenPromise;w&&(KE(w)?s=w:yield oN(t,void 0))}if(!e&&s&&KE(s))return{token:s.token};let _,h=!1;if(aO()){r.exchangeTokenPromise||(r.exchangeTokenPromise=tN(tU(t,yield lO()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),h=!0);const w=yield r.exchangeTokenPromise;return yield oN(t,w),r.token=w,{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),h=!0),s=yield Ca(t).exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?CD.warn(w.message):CD.error(w),u=w}return s?u?_=KE(s)?{token:s.token,internalError:u}:dO(u):(_={token:s.token},r.token=s,yield oN(t,s)):_=dO(u),h&&cO(t,_),_}),uN.apply(this,arguments)}function dN(n,e){const t=Ca(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function uO(n){const{app:e}=n,t=Ca(e);let r=t.tokenRefresher;r||(r=function fU(n){const{app:e}=n;return new YV((0,ke.Z)(function*(){let r;if(r=Ca(e).token?yield pT(n,!0):yield pT(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Ca(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function cO(n,e){const t=Ca(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function KE(n){return n.expireTimeMillis-Date.now()>0}function dO(n){return{token:hU(dU),error:n}}class pU{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ca(this.app);for(const t of e)dN(this.app,t.next);return Promise.resolve()}}const vO="app-check-internal";!function AU(){(0,Rd._registerComponent)(new Ea.wA("app-check",n=>function gU(n,e){return new pU(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(vO).initialize()})),(0,Rd._registerComponent)(new Ea.wA(vO,n=>function mU(n){return{getToken:e=>pT(n,e),addTokenListener:e=>function cN(n,e,t,r){const{app:s}=n,u=Ca(s);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&KE(u.token)){const _=u.token;Promise.resolve().then(()=>{t({token:_.token}),uO(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>uO(n))}(n,"INTERNAL",e),removeTokenListener:e=>dN(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Rd.registerVersion)("@firebase/app-check","0.6.0")}();class gN{constructor(){return(0,Qi.vb)("app-check")}}typeof window<"u"&&window;var EO=q(9260);const wO=new c.OlP("angularfire2.auth.use-emulator"),CO=new c.OlP("angularfire2.auth.settings"),DO=new c.OlP("angularfire2.auth.tenant-id"),SO=new c.OlP("angularfire2.auth.langugage-code"),TO=new c.OlP("angularfire2.auth.use-device-language"),IO=new c.OlP("angularfire.auth.persistence"),AO=(n,e,t,r,s,u,h,_)=>(0,Ya.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=s,u&&w.useDeviceLanguage(),h)for(const[T,N]of Object.entries(h))w.settings[T]=N;return _&&w.setPersistence(_),w},[t,r,s,u,h,_]);let mT=(()=>{class n{constructor(t,r,s,u,h,_,w,T,N,L,j,z){const Q=new Ei.x,le=Ut(void 0).pipe((0,lT.Q)(h.outsideAngular),Oi(()=>u.runOutsideAngular(()=>Promise.resolve().then(q.bind(q,9169)))),(0,Nt.U)(()=>(0,Ya.on)(t,u,r)),(0,Nt.U)(ve=>AO(ve,u,_,T,N,L,w,j)),YP({bufferSize:1,refCount:!1}));if(Yc(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ut(null);else{le.pipe(qa()).subscribe();const He=le.pipe(Oi(it=>it.getRedirectResult().then(ft=>ft,()=>null)),Qi.iC,YP({bufferSize:1,refCount:!1})),nt=le.pipe(Oi(it=>new ir.y(ft=>({unsubscribe:u.runOutsideAngular(()=>it.onAuthStateChanged(mt=>ft.next(mt),mt=>ft.error(mt),()=>ft.complete()))})))),ht=le.pipe(Oi(it=>new ir.y(ft=>({unsubscribe:u.runOutsideAngular(()=>it.onIdTokenChanged(mt=>ft.next(mt),mt=>ft.error(mt),()=>ft.complete()))}))));this.authState=He.pipe(JP(nt),(0,Yx.R)(h.outsideAngular),(0,lT.Q)(h.insideAngular)),this.user=He.pipe(JP(ht),(0,Yx.R)(h.outsideAngular),(0,lT.Q)(h.insideAngular)),this.idToken=this.user.pipe(Oi(it=>it?(0,cn.D)(it.getIdToken()):Ut(null))),this.idTokenResult=this.user.pipe(Oi(it=>it?(0,cn.D)(it.getIdTokenResult()):Ut(null))),this.credential=(0,ZP.T)(He,Q,this.authState.pipe(ei(it=>!it))).pipe((0,Nt.U)(it=>it?.user?it:null),(0,Yx.R)(h.outsideAngular),(0,lT.Q)(h.insideAngular))}return(0,Ya.pX)(this,le,u,{spy:{apply:(ve,He,nt)=>{(ve.startsWith("signIn")||ve.startsWith("createUser"))&&nt.then(ht=>Q.next(ht))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ya.Dh),c.LFG(Ya.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Qi.HU),c.LFG(wO,8),c.LFG(CO,8),c.LFG(DO,8),c.LFG(SO,8),c.LFG(TO,8),c.LFG(IO,8),c.LFG(gN,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),OU=(()=>{class n{constructor(){EO.Z.registerVersion("angularfire",Qi.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[mT]}),n})();function xO(n,e){return function kU(n,e=Ob.z){return new ir.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function _N(n,e){return xO(n,e).pipe((0,Nt.U)(t=>({payload:t,type:"query"})))}function _T(n,e){return _N(n,e).pipe(vd(void 0),kb(),(0,Nt.U)(([t,r])=>{const s=r.payload.docChanges(),u=s.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,_)=>{const w=s.find(N=>N.doc.ref.isEqual(h.ref)),T=t?.payload.docs.find(N=>N.ref.isEqual(h.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(h.metadata)||!w&&T&&JSON.stringify(T.metadata)===JSON.stringify(h.metadata)||u.push({type:"modified",payload:{oldIndex:_,newIndex:_,type:"modified",doc:h}})}),u}))}function NO(n,e,t){return _T(n,t).pipe(eo((r,s)=>function LU(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function BU(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return yN(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return yN(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return yN(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(u=>u.payload),e),[]),Fg(),(0,Nt.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function yN(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function MO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class RO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=_T(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Nt.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(vd(void 0),kb(),ei(([r,s])=>s.length>0||!r),(0,Nt.U)(([r,s])=>s),Qi.iC)}auditTrail(e){return this.stateChanges(e).pipe(eo((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=MO(e);return NO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qi.iC)}valueChanges(e={}){return _N(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Qi.iC)}get(e){return(0,cn.D)(this.query.get(e)).pipe(Qi.iC)}add(e){return this.ref.add(e)}doc(e){return new PO(this.ref.doc(e),this.afs)}}class PO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:u}=FO(r,t);return new RO(s,u,this.afs)}snapshotChanges(){return function FU(n,e){return xO(n,e).pipe(vd(void 0),kb(),(0,Nt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Qi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Nt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,cn.D)(this.ref.get(e)).pipe(Qi.iC)}}class VU{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?_T(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ei(t=>t.length>0),Qi.iC):_T(this.query,this.afs.schedulers.outsideAngular).pipe(Qi.iC)}auditTrail(e){return this.stateChanges(e).pipe(eo((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=MO(e);return NO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qi.iC)}valueChanges(e={}){return _N(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nt.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),Qi.iC)}get(e){return(0,cn.D)(this.query.get(e)).pipe(Qi.iC)}}const OO=new c.OlP("angularfire2.enableFirestorePersistence"),kO=new c.OlP("angularfire2.firestore.persistenceSettings"),UU=new c.OlP("angularfire2.firestore.settings"),$U=new c.OlP("angularfire2.firestore.use-emulator");function FO(n,e=(t=>t)){return{query:e(n),ref:n}}let vN=(()=>{class n{constructor(t,r,s,u,h,_,w,T,N,L,j,z,Q,le,ve,He,nt){this.schedulers=w;const ht=(0,Ya.on)(t,_,r),it=N;L&&AO(ht,_,j,Q,le,ve,z,He),[this.firestore,this.persistenceEnabled$]=(0,Ya.cc)(`${ht.name}.firestore`,"AngularFirestore",ht.name,()=>{const ft=_.runOutsideAngular(()=>ht.firestore());if(u&&ft.settings(u),it&&ft.useEmulator(...it),s&&!Yc(h)){const mt=()=>{try{return(0,cn.D)(ft.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(Jt){return typeof console<"u"&&console.warn(Jt),Ut(!1)}};return[ft,_.runOutsideAngular(mt)]}return[ft,Ut(!1)]},[u,it,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:h}=FO(s,r),_=this.schedulers.ngZone.run(()=>u);return new RO(_,h,this)}collectionGroup(t,r){const s=r||(h=>h),u=this.firestore.collectionGroup(t);return new VU(s(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new PO(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ya.Dh),c.LFG(Ya.xv,8),c.LFG(OO,8),c.LFG(UU,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Qi.HU),c.LFG(kO,8),c.LFG($U,8),c.LFG(mT,8),c.LFG(wO,8),c.LFG(CO,8),c.LFG(DO,8),c.LFG(SO,8),c.LFG(TO,8),c.LFG(IO,8),c.LFG(gN,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),HU=(()=>{class n{constructor(){EO.Z.registerVersion("angularfire",Qi.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:OO,useValue:!0},{provide:kO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[vN]}),n})();class lf{constructor(e){this.afAuth=e,this.userId="",this.userObservable=e.user}signup(e,t){return this.afAuth.createUserWithEmailAndPassword(e,t)}login(e,t){return this.afAuth.signInWithEmailAndPassword(e,t)}logout(){return(0,cn.D)(this.afAuth.signOut())}}lf.\u0275fac=function(e){return new(e||lf)(c.LFG(mT))},lf.\u0275prov=c.Yz7({token:lf,factory:lf.\u0275fac,providedIn:"root"});class r0{constructor(e,t){this.fs=e,this.as=t}addToCart(e){return this.fs.collection(`users/${this.as.userId}/cart`).add(e)}getCart(){return this.fs.collection(`users/${this.as.userId}/cart`).snapshotChanges()}delete(e){return this.fs.doc(`users/${this.as.userId}/cart/${e}`).delete()}save(e,t){return this.fs.doc(`users/${this.as.userId}/cart/${e}`).update({amount:t})}}function jU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"tr")(1,"th",4),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.ALo(5,"currency"),c.qZA(),c.TgZ(6,"td")(7,"input",5),c.NdJ("ngModelChange",function(s){const h=c.CHM(t).$implicit;return c.KtG(h.quantity=s)}),c.qZA()(),c.TgZ(8,"td"),c._uU(9),c.qZA(),c.TgZ(10,"td")(11,"button",6),c.NdJ("click",function(){const u=c.CHM(t).index,h=c.oxw();return c.KtG(h.save(u))}),c._uU(12,"Save"),c.qZA(),c.TgZ(13,"button",7),c.NdJ("click",function(){const u=c.CHM(t).index,h=c.oxw();return c.KtG(h.delete(u))}),c._uU(14,"Delete"),c.qZA()()()}if(2&n){const t=e.$implicit,r=c.oxw();c.xp6(2),c.Oqu(t.name),c.xp6(2),c.Oqu(c.lcZ(5,4,t.price)),c.xp6(3),c.Q6J("ngModel",t.quantity),c.xp6(2),c.Oqu(r.getTotalPrice(t))}}r0.\u0275fac=function(e){return new(e||r0)(c.LFG(vN),c.LFG(lf))},r0.\u0275prov=c.Yz7({token:r0,factory:r0.\u0275fac,providedIn:"root"});class DD{constructor(e){this.cs=e,this.cartProducts=[]}ngOnInit(){this.cs.getCart().subscribe(e=>{this.cartProducts=e.map(t=>({id:t.payload.doc.id,...t.payload.doc.data()})),console.log(this.cartProducts)})}getTotalPrice(e){return e.quantity&&e.price?e.quantity*e.price:0}delete(e){this.cs.delete(`${this.cartProducts[e].id}`)}save(e){this.cs.save(`${this.cartProducts[e].id}`,this.cartProducts[e].quantity)}}DD.\u0275fac=function(e){return new(e||DD)(c.Y36(r0))},DD.\u0275cmp=c.Xpm({type:DD,selectors:[["app-cart"]],decls:16,vars:1,consts:[[1,"container","mt-3"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],["type","number","placeholder","Amount",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"btn","btn-danger","mr-2",3,"click"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),c._uU(5,"Name"),c.qZA(),c.TgZ(6,"th",2),c._uU(7,"Price"),c.qZA(),c.TgZ(8,"th",2),c._uU(9,"Amount"),c.qZA(),c.TgZ(10,"th",2),c._uU(11,"Total"),c.qZA(),c.TgZ(12,"th",2),c._uU(13,"Options"),c.qZA()()(),c.TgZ(14,"tbody"),c.YNc(15,jU,15,6,"tr",3),c.qZA()()()),2&e&&(c.xp6(15),c.Q6J("ngForOf",t.cartProducts))},dependencies:[Nr,on,Js,wl,fu,be],styles:[".btn-primary[_ngcontent-%COMP%]{margin-left:12px}"]});class yT{}class bN{}class cm{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const s=t.slice(0,r),u=s.toLowerCase(),h=t.slice(r+1).trim();this.maybeSetNormalizedName(s,u),this.headers.has(u)?this.headers.get(u).push(h):this.headers.set(u,[h])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const s=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(s,r),this.maybeSetNormalizedName(t,s))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof cm?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new cm;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof cm?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...r),this.headers.set(t,s);break;case"d":const u=e.value;if(u){let h=this.headers.get(t);if(!h)return;h=h.filter(_=>-1===u.indexOf(_)),0===h.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,h)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class GU{encodeKey(e){return LO(e)}encodeValue(e){return LO(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const zU=/%(\d[a-f0-9])/gi,WU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function LO(n){return encodeURIComponent(n).replace(zU,(e,t)=>WU[t]??e)}function vT(n){return`${n}`}class X_{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new GU,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function qU(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const u=s.indexOf("="),[h,_]=-1==u?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,u)),e.decodeValue(s.slice(u+1))],w=t.get(h)||[];w.push(_),t.set(h,w)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],s=Array.isArray(r)?r.map(vT):[vT(r)];this.map.set(t,s)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const s=e[r];Array.isArray(s)?s.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new X_({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(vT(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const s=r.indexOf(vT(e.value));-1!==s&&r.splice(s,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class KU{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function BO(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function VO(n){return typeof Blob<"u"&&n instanceof Blob}function UO(n){return typeof FormData<"u"&&n instanceof FormData}class SD{constructor(e,t,r,s){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function ZU(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==r?r:null,u=s):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new cm),this.context||(this.context=new KU),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=t;else{const _=t.indexOf("?");this.urlWithParams=t+(-1===_?"?":_<t.length-1?"&":"")+h}}else this.params=new X_,this.urlWithParams=t}serializeBody(){return null===this.body?null:BO(this.body)||VO(this.body)||UO(this.body)||function YU(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof X_?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||UO(this.body)?null:VO(this.body)?this.body.type||null:BO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof X_?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,h=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,_=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let w=e.headers||this.headers,T=e.params||this.params;const N=e.context??this.context;return void 0!==e.setHeaders&&(w=Object.keys(e.setHeaders).reduce((L,j)=>L.set(j,e.setHeaders[j]),w)),e.setParams&&(T=Object.keys(e.setParams).reduce((L,j)=>L.set(j,e.setParams[j]),T)),new SD(t,r,u,{params:T,headers:w,context:N,reportProgress:_,responseType:s,withCredentials:h})}}var ao=(()=>((ao=ao||{})[ao.Sent=0]="Sent",ao[ao.UploadProgress=1]="UploadProgress",ao[ao.ResponseHeader=2]="ResponseHeader",ao[ao.DownloadProgress=3]="DownloadProgress",ao[ao.Response=4]="Response",ao[ao.User=5]="User",ao))();class EN{constructor(e,t=200,r="OK"){this.headers=e.headers||new cm,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class wN extends EN{constructor(e={}){super(e),this.type=ao.ResponseHeader}clone(e={}){return new wN({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class bT extends EN{constructor(e={}){super(e),this.type=ao.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new bT({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class $O extends EN{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function CN(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let HO=(()=>{class n{constructor(t){this.handler=t}request(t,r,s={}){let u;if(t instanceof SD)u=t;else{let w,T;w=s.headers instanceof cm?s.headers:new cm(s.headers),s.params&&(T=s.params instanceof X_?s.params:new X_({fromObject:s.params})),u=new SD(t,r,void 0!==s.body?s.body:null,{headers:w,context:s.context,params:T,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const h=Ut(u).pipe(bd(w=>this.handler.handle(w)));if(t instanceof SD||"events"===s.observe)return h;const _=h.pipe(ei(w=>w instanceof bT));switch(s.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return _.pipe((0,Nt.U)(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return _.pipe((0,Nt.U)(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return _.pipe((0,Nt.U)(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return _.pipe((0,Nt.U)(w=>w.body))}case"response":return _;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new X_).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,s={}){return this.request("PATCH",t,CN(s,r))}post(t,r,s={}){return this.request("POST",t,CN(s,r))}put(t,r,s={}){return this.request("PUT",t,CN(s,r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(yT))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function jO(n,e){return e(n)}function JU(n,e){return(t,r)=>e.intercept(t,{handle:s=>n(s,r)})}const XU=new c.OlP("HTTP_INTERCEPTORS"),TD=new c.OlP("HTTP_INTERCEPTOR_FNS");function e3(){let n=null;return(e,t)=>(null===n&&(n=((0,c.f3M)(XU,{optional:!0})??[]).reduceRight(JU,jO)),n(e,t))}let GO=(()=>{class n extends yT{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(TD)));this.chain=r.reduceRight((s,u)=>function QU(n,e,t){return(r,s)=>t.runInContext(()=>e(r,u=>n(u,s)))}(s,u,this.injector),jO)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(bN),c.LFG(c.lqb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const i3=/^\)\]\}',?\n/;let zO=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ir.y(r=>{const s=this.xhrFactory.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((z,Q)=>s.setRequestHeader(z,Q.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const z=t.detectContentTypeHeader();null!==z&&s.setRequestHeader("Content-Type",z)}if(t.responseType){const z=t.responseType.toLowerCase();s.responseType="json"!==z?z:"text"}const u=t.serializeBody();let h=null;const _=()=>{if(null!==h)return h;const z=s.statusText||"OK",Q=new cm(s.getAllResponseHeaders()),le=function s3(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return h=new wN({headers:Q,status:s.status,statusText:z,url:le}),h},w=()=>{let{headers:z,status:Q,statusText:le,url:ve}=_(),He=null;204!==Q&&(He=typeof s.response>"u"?s.responseText:s.response),0===Q&&(Q=He?200:0);let nt=Q>=200&&Q<300;if("json"===t.responseType&&"string"==typeof He){const ht=He;He=He.replace(i3,"");try{He=""!==He?JSON.parse(He):null}catch(it){He=ht,nt&&(nt=!1,He={error:it,text:He})}}nt?(r.next(new bT({body:He,headers:z,status:Q,statusText:le,url:ve||void 0})),r.complete()):r.error(new $O({error:He,headers:z,status:Q,statusText:le,url:ve||void 0}))},T=z=>{const{url:Q}=_(),le=new $O({error:z,status:s.status||0,statusText:s.statusText||"Unknown Error",url:Q||void 0});r.error(le)};let N=!1;const L=z=>{N||(r.next(_()),N=!0);let Q={type:ao.DownloadProgress,loaded:z.loaded};z.lengthComputable&&(Q.total=z.total),"text"===t.responseType&&!!s.responseText&&(Q.partialText=s.responseText),r.next(Q)},j=z=>{let Q={type:ao.UploadProgress,loaded:z.loaded};z.lengthComputable&&(Q.total=z.total),r.next(Q)};return s.addEventListener("load",w),s.addEventListener("error",T),s.addEventListener("timeout",T),s.addEventListener("abort",T),t.reportProgress&&(s.addEventListener("progress",L),null!==u&&s.upload&&s.upload.addEventListener("progress",j)),s.send(u),r.next({type:ao.Sent}),()=>{s.removeEventListener("error",T),s.removeEventListener("abort",T),s.removeEventListener("load",w),s.removeEventListener("timeout",T),t.reportProgress&&(s.removeEventListener("progress",L),null!==u&&s.upload&&s.upload.removeEventListener("progress",j)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ra))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const DN=new c.OlP("XSRF_ENABLED"),WO="XSRF-TOKEN",KO=new c.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>WO}),ZO="X-XSRF-TOKEN",YO=new c.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>ZO});class JO{}let o3=(()=>{class n{constructor(t,r,s){this.doc=t,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Zr(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ee),c.LFG(c.Lbi),c.LFG(KO))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function a3(n,e){const t=n.url.toLowerCase();if(!(0,c.f3M)(DN)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,c.f3M)(JO).getToken(),s=(0,c.f3M)(YO);return null!=r&&!n.headers.has(s)&&(n=n.clone({headers:n.headers.set(s,r)})),e(n)}var Hs=(()=>((Hs=Hs||{})[Hs.Interceptors=0]="Interceptors",Hs[Hs.LegacyInterceptors=1]="LegacyInterceptors",Hs[Hs.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Hs[Hs.NoXsrfProtection=3]="NoXsrfProtection",Hs[Hs.JsonpSupport=4]="JsonpSupport",Hs[Hs.RequestsMadeViaParent=5]="RequestsMadeViaParent",Hs))();function ZE(n,e){return{\u0275kind:n,\u0275providers:e}}function l3(...n){const e=[HO,zO,GO,{provide:yT,useExisting:GO},{provide:bN,useExisting:zO},{provide:TD,useValue:a3,multi:!0},{provide:DN,useValue:!0},{provide:JO,useClass:o3}];for(const t of n)e.push(...t.\u0275providers);return(0,c.MR2)(e)}const QO=new c.OlP("LEGACY_INTERCEPTOR_FN");function c3({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:KO,useValue:n}),void 0!==e&&t.push({provide:YO,useValue:e}),ZE(Hs.CustomXsrfConfiguration,t)}let d3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[l3(ZE(Hs.LegacyInterceptors,[{provide:QO,useFactory:e3},{provide:TD,useExisting:QO,multi:!0}]),c3({cookieName:WO,headerName:ZO}))]}),n})();class ey{constructor(e){this.http=e,this.baseApi="https://dummyjson.com/products/",this.productsChanged=new Ei.x,this.categoriesChanged=new Ei.x,this.productDetailsChanged=new Ei.x}getAllProducts(){return this.http.get(this.baseApi)}getProductById(e){return this.http.get(this.baseApi+e)}getProductByName(e){return this.http.get(`${this.baseApi}${e}`)}searchProduct(e){return this.http.get(this.baseApi+"search?q="+e)}emitProducts(){this.productsChanged.next(this.products.slice())}emitCategories(){this.categoriesChanged.next(this.categories.slice())}getProductsByName(e){this.http.get(this.baseApi+"search?q="+e).subscribe(t=>{console.log(t),this.products=t.products,this.emitProducts()})}getProductsByCategory(e){this.http.get(this.baseApi+"category/"+e).subscribe(t=>{console.log(t),this.products=t.products,this.emitProducts()})}getAllCategories(){this.http.get(this.baseApi+"categories").subscribe(e=>{console.log(e),this.categories=e,this.emitCategories()})}}ey.\u0275fac=function(e){return new(e||ey)(c.LFG(HO))},ey.\u0275prov=c.Yz7({token:ey,factory:ey.\u0275fac,providedIn:"root"});class ID{transform(e,t){return e&&t?(t=t.toLocaleLowerCase(),e.filter(r=>r.title.toLocaleLowerCase().includes(t))):e}}function h3(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",17),c.NdJ("click",function(){c.CHM(t);const s=c.oxw().index,u=c.oxw();return c.KtG(u.addToCart(s))}),c._uU(1,"Add To Cart"),c.qZA()}}function f3(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div"),c._UZ(1,"input",18,19),c.TgZ(3,"button",17),c.NdJ("click",function(){c.CHM(t);const s=c.MAs(2),u=c.oxw(2);return c.KtG(u.buy(s.value))}),c._uU(4,"Buy"),c.qZA()()}}function p3(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",6)(1,"div",7)(2,"img",8),c.NdJ("onclick",function(){const u=c.CHM(t).$implicit,h=c.oxw();return c.KtG(h.selectProduct(u.id))}),c.qZA(),c.TgZ(3,"div",9)(4,"div",10)(5,"p"),c._uU(6),c.ALo(7,"titlecase"),c.qZA()()(),c.TgZ(8,"div",11)(9,"h6"),c._uU(10),c.qZA(),c.TgZ(11,"p",12),c._uU(12),c.ALo(13,"currency"),c.qZA()(),c.TgZ(14,"div",13)(15,"div",14),c.YNc(16,h3,2,0,"button",15),c.YNc(17,f3,5,0,"div",16),c.qZA()()()()}if(2&n){const t=e.$implicit,r=e.index,s=c.oxw();c.xp6(2),c.s9C("alt",t.images[0]),c.MGl("routerLink","product-details/",t.id,""),c.Q6J("src",t.images[0],c.LSH),c.xp6(4),c.Oqu(c.lcZ(7,8,t.title)),c.xp6(4),c.hij("",t.description.substr(0,30)," ...."),c.xp6(2),c.Oqu(c.xi3(13,10,t.price,"USD")),c.xp6(4),c.Q6J("ngIf",s.add!==r),c.xp6(1),c.Q6J("ngIf",s.add===r)}}ID.\u0275fac=function(e){return new(e||ID)},ID.\u0275pipe=c.Yjl({name:"appFilter",type:ID,pure:!0});class AD{constructor(e,t,r,s){this.ps=e,this.cs=t,this.router=r,this.as=s,this.products=[],this.add=-1,this.searchText=""}ngOnInit(){this.ps.productsChanged.subscribe(e=>{this.products=e,console.log(this.products)}),this.getProducts()}getProducts(){this.ps.getAllProducts().subscribe(e=>{this.products=e.products,console.log(this.products)})}addToCart(e){this.as.userId?this.add=+e:this.router.navigate(["/login"])}buy(e){let t=this.products[this.add];this.cs.addToCart({name:t.title,desc:t.description,discPourcentage:t.discountPercentage,category:t.category,quantity:+e,price:t.price}).then(()=>this.add=-1)}selectProduct(e){this.router.navigate(["/product-details",e]).then()}}function g3(n,e){1&n&&(c.TgZ(0,"div",11),c._uU(1,"Email is required ! "),c.qZA())}function m3(n,e){1&n&&(c.TgZ(0,"div",11),c._uU(1,"Your input doesn't match with email format !"),c.qZA())}function _3(n,e){1&n&&(c.TgZ(0,"div",11),c._uU(1,"Password is required !"),c.qZA())}function y3(n,e){1&n&&(c.TgZ(0,"div",11),c._uU(1,"Password should be 6+ charachters !"),c.qZA())}AD.\u0275fac=function(e){return new(e||AD)(c.Y36(ey),c.Y36(r0),c.Y36(Yi),c.Y36(lf))},AD.\u0275cmp=c.Xpm({type:AD,selectors:[["app-home"]],decls:7,vars:5,consts:[[2,"color","rgb(255, 255, 255)"],[1,"search-hero"],["type","text","name","search","autocomplete","off","placeholder","\uf002  Search for a product by name",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-12"],[1,"row"],["class","col-md-4 col-sm-6",4,"ngFor","ngForOf"],[1,"col-md-4","col-sm-6"],[1,"card","my-2"],["width","20px","height","",1,"card-img-top","img-fluid","w-100",2,"cursor","pointer",3,"src","alt","routerLink","onclick"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"lead"],[1,"row","d-flex","justify-content-center","border-primary","my-3"],[1,"col-md-6"],["class","btn btn-primary",3,"click",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"],["type","number","placeholder","Quantity",1,"form-control"],["quantity",""]],template:function(e,t){1&e&&(c._UZ(0,"p",0),c.TgZ(1,"div",1)(2,"input",2),c.NdJ("ngModelChange",function(s){return t.searchText=s}),c.qZA()(),c.TgZ(3,"div",3)(4,"div",4),c.YNc(5,p3,18,13,"div",5),c.ALo(6,"appFilter"),c.qZA()()),2&e&&(c.xp6(2),c.Q6J("ngModel",t.searchText),c.xp6(3),c.Q6J("ngForOf",c.xi3(6,2,t.products,t.searchText)))},dependencies:[Nr,sn,ip,on,wl,fu,Ii,be,ID],styles:["div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:300px}.search-hero[_ngcontent-%COMP%]{margin-top:12}"]});class xD{constructor(e,t){this.as=e,this.router=t}ngOnInit(){}login(e){let t=e.value;this.as.login(t.email,t.password).then(()=>this.router.navigate(["/"])).catch(r=>console.log(r))}}xD.\u0275fac=function(e){return new(e||xD)(c.Y36(lf),c.Y36(Yi))},xD.\u0275cmp=c.Xpm({type:xD,selectors:[["app-login"]],decls:17,vars:4,consts:[[1,"body"],[1,"text-center"],[3,"ngSubmit"],["f","ngForm"],[1,"mb-3"],["ngModel","","name","email","type","email","placeholder","Email","required","","email","",1,"form-control"],["email","ngModel"],["class","alert alert-danger",4,"ngIf"],["ngModel","","name","password","type","password","placeholder","Password","required","","minlength","6",1,"form-control"],["password","ngModel"],[1,"btn","btn-primary"],[1,"alert","alert-danger"]],template:function(e,t){if(1&e){const r=c.EpF();c.TgZ(0,"div",0)(1,"h2",1),c._uU(2,"Log In"),c.qZA(),c.TgZ(3,"form",2,3),c.NdJ("ngSubmit",function(){c.CHM(r);const u=c.MAs(4);return c.KtG(t.login(u))}),c.TgZ(5,"div",4),c._UZ(6,"input",5,6),c.YNc(8,g3,2,0,"div",7),c.YNc(9,m3,2,0,"div",7),c.qZA(),c.TgZ(10,"div",4),c._UZ(11,"input",8,9),c.YNc(13,_3,2,0,"div",7),c.YNc(14,y3,2,0,"div",7),c.qZA(),c.TgZ(15,"button",10),c._uU(16,"Log In"),c.qZA()()()}if(2&e){const r=c.MAs(7),s=c.MAs(12);c.xp6(8),c.Q6J("ngIf",r.touched&&(null==r.errors?null:r.errors.required)),c.xp6(1),c.Q6J("ngIf",r.touched&&(null==r.errors?null:r.errors.email)),c.xp6(4),c.Q6J("ngIf",s.touched&&(null==s.errors?null:s.errors.required)),c.xp6(1),c.Q6J("ngIf",s.touched&&(null==s.errors?null:s.errors.minlength))}},dependencies:[sn,_h,on,wl,Up,Xp,bh,tg,fu,_a]});class ND{}function v3(n,e){if(1&n&&(c.TgZ(0,"div",3)(1,"div",4),c._UZ(2,"img",5),c.qZA(),c.TgZ(3,"div",6)(4,"div",7)(5,"ul",8)(6,"li")(7,"strong"),c._uU(8,"Title : "),c.qZA(),c._uU(9),c.qZA(),c.TgZ(10,"li")(11,"strong"),c._uU(12,"Category : "),c.qZA(),c._uU(13),c.qZA(),c.TgZ(14,"li")(15,"strong"),c._uU(16,"Description : "),c.qZA(),c._uU(17),c.qZA(),c.TgZ(18,"li")(19,"strong"),c._uU(20,"Brand : "),c.qZA(),c._uU(21),c.qZA(),c.TgZ(22,"li")(23,"strong"),c._uU(24,"Rating: "),c.qZA(),c._uU(25),c.qZA(),c.TgZ(26,"li")(27,"strong"),c._uU(28,"Stock: "),c.qZA(),c._uU(29),c.qZA(),c.TgZ(30,"li")(31,"strong"),c._uU(32,"Price : "),c.qZA(),c._uU(33),c.qZA()()()()()),2&n){const t=c.oxw();c.xp6(2),c.s9C("src",t.data.images[0],c.LSH),c.xp6(7),c.Oqu(t.data.title),c.xp6(4),c.Oqu(t.data.category),c.xp6(4),c.Oqu(t.data.description),c.xp6(4),c.Oqu(t.data.brand),c.xp6(4),c.Oqu(t.data.rating),c.xp6(4),c.Oqu(t.data.stock),c.xp6(4),c.hij("",t.data.price," DH")}}ND.\u0275fac=function(e){return new(e||ND)},ND.\u0275cmp=c.Xpm({type:ND,selectors:[["app-not-found"]],decls:2,vars:0,consts:[[1,"alert","alert-danger"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c._uU(1,"Can't Find your page"),c.qZA())}});class MD{constructor(e,t){this.route=e,this.service=t,this.data={},this.loading=!1,this.id=this.route.snapshot.paramMap.get("id")}ngOnInit(){this.loading=!0,this.service.getProductById(this.id).subscribe(e=>{this.loading=!1,this.data=e},e=>{this.loading=!1,alert(e)})}}MD.\u0275fac=function(e){return new(e||MD)(c.Y36(wu),c.Y36(ey))},MD.\u0275cmp=c.Xpm({type:MD,selectors:[["app-product-details"]],decls:3,vars:1,consts:[[1,"box"],["class","row",4,"ngIf"],[1,"text-center"],[1,"row"],[1,"col-md-5","col-sm-12"],["alt","sas",3,"src"],[1,"col-md-7","col-sm-12"],[1,"info"],[1,"list-unstyled"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.YNc(1,v3,34,8,"div",1),c._UZ(2,"div",2),c.qZA()),2&e&&(c.xp6(1),c.Q6J("ngIf",!t.loading))},dependencies:[sn],styles:[".box[_ngcontent-%COMP%]{width:90%;margin:100px auto;height:500px}ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{font-size:22px;margin:20px 0}img[_ngcontent-%COMP%]{width:100%;max-height:500px}"]});class YE{constructor(e){this.fs=e}addNewUser(e,t,r){return this.fs.doc("users/"+e).set({name:t,adress:r})}}function b3(n,e){1&n&&(c.TgZ(0,"div",17),c._uU(1,"Name is required !"),c.qZA())}function E3(n,e){1&n&&(c.TgZ(0,"div",17),c._uU(1,"Email is required ! "),c.qZA())}function w3(n,e){1&n&&(c.TgZ(0,"div",17),c._uU(1,"Your input doesn't match with email format !"),c.qZA())}function C3(n,e){1&n&&(c.TgZ(0,"div",17),c._uU(1,"Password is required !"),c.qZA())}function D3(n,e){1&n&&(c.TgZ(0,"div",17),c._uU(1,"Password should be 6+ charachters !"),c.qZA())}function S3(n,e){1&n&&(c.TgZ(0,"div",17),c._uU(1,"Password Confirm is required !"),c.qZA())}function T3(n,e){1&n&&(c.TgZ(0,"div",17),c._uU(1," Passwords are not equal !"),c.qZA())}function I3(n,e){1&n&&(c.TgZ(0,"div",17),c._uU(1,"Adress is required !"),c.qZA())}function A3(n,e){if(1&n&&(c.TgZ(0,"div",17),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Oqu(t.errorMessage)}}YE.\u0275fac=function(e){return new(e||YE)(c.LFG(vN))},YE.\u0275prov=c.Yz7({token:YE,factory:YE.\u0275fac,providedIn:"root"});class RD{constructor(e,t,r){this.as=e,this.us=t,this.router=r,this.errorMessage=""}ngOnInit(){}signUp(e){let t=e.value;this.as.signup(t.email,t.password).then(r=>{this.errorMessage="",this.us.addNewUser(r.user?.uid,t.name,t.adress).then(()=>{this.router.navigate(["/"])})}).catch(r=>{this.errorMessage=r.message})}}RD.\u0275fac=function(e){return new(e||RD)(c.Y36(lf),c.Y36(YE),c.Y36(Yi))},RD.\u0275cmp=c.Xpm({type:RD,selectors:[["app-signup"]],decls:31,vars:10,consts:[[1,"body"],[1,"text-center"],[3,"ngSubmit"],["f","ngForm"],[1,"mb-3"],["ngModel","","name","name","type","text","placeholder","Your name","required","",1,"form-control"],["name","ngModel"],["class","alert alert-danger",4,"ngIf"],["ngModel","","name","email","type","email","placeholder","Email","required","","email","",1,"form-control"],["email","ngModel"],["ngModel","","name","password","type","password","placeholder","Password","required","","minlength","6",1,"form-control"],["password","ngModel"],["ngModel","","name","passwordConfirm","type","password","placeholder","Confirm Password","required","",1,"form-control"],["passwordConfirm","ngModel"],["ngModel","","name","adress","type","text","placeholder","Adress","required","",1,"form-control"],["adress","ngModel"],[1,"btn","btn-primary",3,"disabled"],[1,"alert","alert-danger"]],template:function(e,t){if(1&e){const r=c.EpF();c.TgZ(0,"div",0)(1,"h2",1),c._uU(2,"Sign Up"),c.qZA(),c.TgZ(3,"form",2,3),c.NdJ("ngSubmit",function(){c.CHM(r);const u=c.MAs(4);return c.KtG(t.signUp(u))}),c.TgZ(5,"div",4),c._UZ(6,"input",5,6),c.YNc(8,b3,2,0,"div",7),c.qZA(),c.TgZ(9,"div",4),c._UZ(10,"input",8,9),c.YNc(12,E3,2,0,"div",7),c.YNc(13,w3,2,0,"div",7),c.qZA(),c.TgZ(14,"div",4),c._UZ(15,"input",10,11),c.YNc(17,C3,2,0,"div",7),c.YNc(18,D3,2,0,"div",7),c.qZA(),c.TgZ(19,"div",4),c._UZ(20,"input",12,13),c.YNc(22,S3,2,0,"div",7),c.YNc(23,T3,2,0,"div",7),c.qZA(),c.TgZ(24,"div",4),c._UZ(25,"input",14,15),c.YNc(27,I3,2,0,"div",7),c.qZA(),c.TgZ(28,"button",16),c._uU(29,"Create Account"),c.qZA()(),c.YNc(30,A3,2,1,"div",7),c.qZA()}if(2&e){const r=c.MAs(4),s=c.MAs(7),u=c.MAs(11),h=c.MAs(16),_=c.MAs(21),w=c.MAs(26);c.xp6(8),c.Q6J("ngIf",s.invalid&&s.touched),c.xp6(4),c.Q6J("ngIf",u.touched&&(null==u.errors?null:u.errors.required)),c.xp6(1),c.Q6J("ngIf",u.touched&&(null==u.errors?null:u.errors.email)),c.xp6(4),c.Q6J("ngIf",h.touched&&(null==h.errors?null:h.errors.required)),c.xp6(1),c.Q6J("ngIf",h.touched&&(null==h.errors?null:h.errors.minlength)),c.xp6(4),c.Q6J("ngIf",_.invalid&&_.touched),c.xp6(1),c.Q6J("ngIf",_.value!==h.value&&_.touched),c.xp6(4),c.Q6J("ngIf",w.invalid&&w.touched),c.xp6(1),c.Q6J("disabled",r.invalid||h.value!=_.value),c.xp6(2),c.Q6J("ngIf",t.errorMessage)}},dependencies:[sn,_h,on,wl,Up,Xp,bh,tg,fu,_a]});class JE{constructor(e,t){this.as=e,this.router=t}canActivate(e,t){return new Promise(r=>{this.as.userObservable.subscribe(s=>{s?r(!0):(this.router.navigate(["/login"]),r(!1))})})}}JE.\u0275fac=function(e){return new(e||JE)(c.LFG(lf),c.LFG(Yi))},JE.\u0275prov=c.Yz7({token:JE,factory:JE.\u0275fac,providedIn:"root"});const x3=[{path:"",component:AD},{path:"login",component:xD},{path:"signup",component:RD},{path:"cart",component:DD,canActivate:[JE]},{path:"product-details/:id",component:MD},{path:"**",component:ND}];class QE{}QE.\u0275fac=function(e){return new(e||QE)},QE.\u0275mod=c.oAB({type:QE}),QE.\u0275inj=c.cJS({imports:[m_.forRoot(x3),m_]});var N3=q(1144);const M3=["addListener","removeListener"],R3=["addEventListener","removeEventListener"],P3=["on","off"];function Bc(n,e,t,r){if((0,Xs.m)(t)&&(r=t,t=void 0),r)return Bc(n,e,t).pipe(pa(r));const[s,u]=function F3(n){return(0,Xs.m)(n.addEventListener)&&(0,Xs.m)(n.removeEventListener)}(n)?R3.map(h=>_=>n[h](e,_,t)):function O3(n){return(0,Xs.m)(n.addListener)&&(0,Xs.m)(n.removeListener)}(n)?M3.map(XO(n,e)):function k3(n){return(0,Xs.m)(n.on)&&(0,Xs.m)(n.off)}(n)?P3.map(XO(n,e)):[];if(!s&&(0,N3.z)(n))return(0,di.z)(h=>Bc(h,e,t))((0,ai.Xf)(n));if(!s)throw new TypeError("Invalid event target");return new ir.y(h=>{const _=(...w)=>h.next(1<w.length?w:w[0]);return s(_),()=>u(_)})}function XO(n,e){return t=>r=>n[t](e,r)}var L3=q(3532);function SN(n=0,e,t=Ob.P){let r=-1;return null!=e&&((0,L3.K)(e)?t=e:r=e),new ir.y(s=>{let u=function B3(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;u<0&&(u=0);let h=0;return t.schedule(function(){s.closed||(s.next(h++),0<=r?this.schedule(void 0,r):s.complete())},u)})}const{isArray:V3}=Array;function ek(n){return 1===n.length&&V3(n[0])?n[0]:n}var ET=q(5032);const nk=new ir.y(ET.Z);function rl(n){return(0,Or.e)((e,t)=>{(0,ai.Xf)(n).subscribe((0,tr.x)(t,()=>t.complete(),ET.Z)),!t.closed&&e.subscribe(t)})}function Z$(n,e){}function Y$(n,e){if(1&n&&(c.TgZ(0,"button",3),c._uU(1),c.YNc(2,Z$,0,0,"ng-template",4),c.qZA()),2&n){const t=e.$implicit;c.Q6J("ngbPanelToggle",t),c.xp6(1),c.hij(" ",t.title," "),c.xp6(1),c.Q6J("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function J$(n,e){}function Q$(n,e){}function X$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",8),c.NdJ("ngbRef",function(s){c.CHM(t);const u=c.oxw().$implicit;return c.KtG(u.panelDiv=s)}),c.TgZ(1,"div",9),c.YNc(2,Q$,0,0,"ng-template",4),c.qZA()()}if(2&n){const t=c.oxw().$implicit;c.s9C("id",t.id),c.uIk("aria-labelledby",t.id+"-header"),c.xp6(2),c.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}Math,Math,Math;const eH=function(n,e){return{$implicit:n,opened:e}};function tH(n,e){if(1&n&&(c.TgZ(0,"div")(1,"div",5),c.YNc(2,J$,0,0,"ng-template",6),c.qZA(),c.YNc(3,X$,3,3,"div",7),c.qZA()),2&n){const t=e.$implicit,r=c.oxw(),s=c.MAs(1);c.Tol("accordion-item "+(t.cardClass||"")),c.xp6(1),c.Tol("accordion-header "+(t.type?"bg-"+t.type:r.type?"bg-"+r.type:"")),c.MGl("id","",t.id,"-header"),c.xp6(1),c.Q6J("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||s)("ngTemplateOutletContext",c.WLB(8,eH,t,t.isOpen)),c.xp6(1),c.Q6J("ngIf",!r.destroyOnHide||t.isOpen||t.transitionRunning)}}function nH(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",1),c.NdJ("click",function(){c.CHM(t);const s=c.oxw();return c.KtG(s.close())}),c.qZA()}}const LN=["*"];function rH(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",6),c.NdJ("click",function(){const u=c.CHM(t).$implicit,h=c.oxw();return h.focus(),c.KtG(h.select(u.id,h.NgbSlideEventSource.INDICATOR))}),c.qZA()}if(2&n){const t=e.$implicit,r=c.oxw();c.ekj("active",t.id===r.activeId),c.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===r.activeId)}}function iH(n,e){}function sH(n,e){if(1&n&&(c.TgZ(0,"div",7)(1,"span",8),c.SDv(2,9),c.qZA(),c.YNc(3,iH,0,0,"ng-template",10),c.qZA()),2&n){const t=e.$implicit,r=e.index,s=e.count;c.Q6J("id","slide-"+t.id),c.xp6(2),c.pQV(r+1)(s),c.QtT(2),c.xp6(1),c.Q6J("ngTemplateOutlet",t.tplRef)}}function oH(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",11),c.NdJ("click",function(){c.CHM(t);const s=c.oxw();return c.KtG(s.arrowLeft())}),c._UZ(1,"span",12),c.TgZ(2,"span",8),c.SDv(3,13),c.qZA()()}}function aH(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",14),c.NdJ("click",function(){c.CHM(t);const s=c.oxw();return c.KtG(s.arrowRight())}),c._UZ(1,"span",15),c.TgZ(2,"span",8),c.SDv(3,16),c.qZA()()}}const lH=["ngbDatepickerDayView",""],uH=["month"],cH=["year"];function dH(n,e){if(1&n&&(c.TgZ(0,"option",5),c._uU(1),c.qZA()),2&n){const t=e.$implicit,r=c.oxw();c.Q6J("value",t),c.uIk("aria-label",r.i18n.getMonthFullName(t,r.date.year)),c.xp6(1),c.Oqu(r.i18n.getMonthShortName(t,r.date.year))}}function hH(n,e){if(1&n&&(c.TgZ(0,"option",5),c._uU(1),c.qZA()),2&n){const t=e.$implicit,r=c.oxw();c.Q6J("value",t),c.xp6(1),c.Oqu(r.i18n.getYearNumerals(t))}}function fH(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"ngb-datepicker-navigation-select",7),c.NdJ("select",function(s){c.CHM(t);const u=c.oxw();return c.KtG(u.select.emit(s))}),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function pH(n,e){1&n&&c._UZ(0,"div",0)}function gH(n,e){1&n&&c._UZ(0,"div",0)}function mH(n,e){if(1&n&&(c.YNc(0,pH,1,0,"div",9),c.TgZ(1,"div",10),c._uU(2),c.qZA(),c.YNc(3,gH,1,0,"div",9)),2&n){const t=e.$implicit,r=e.index,s=c.oxw(2);c.Q6J("ngIf",r>0),c.xp6(2),c.hij(" ",s.i18n.getMonthLabel(t.firstDate)," "),c.xp6(1),c.Q6J("ngIf",r!==s.months.length-1)}}function _H(n,e){if(1&n&&c.YNc(0,mH,4,3,"ng-template",8),2&n){const t=c.oxw();c.Q6J("ngForOf",t.months)}}function yH(n,e){if(1&n&&(c.TgZ(0,"div",5),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.Oqu(t.i18n.getWeekLabel())}}function vH(n,e){if(1&n&&(c.TgZ(0,"div",6),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Oqu(t)}}function bH(n,e){if(1&n&&(c.TgZ(0,"div",2),c.YNc(1,yH,2,1,"div",3),c.YNc(2,vH,2,1,"div",4),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",t.datepicker.showWeekNumbers),c.xp6(1),c.Q6J("ngForOf",t.viewModel.weekdays)}}function EH(n,e){if(1&n&&(c.TgZ(0,"div",11),c._uU(1),c.qZA()),2&n){const t=c.oxw(2).$implicit,r=c.oxw();c.xp6(1),c.Oqu(r.i18n.getWeekNumerals(t.number))}}function wH(n,e){}function CH(n,e){if(1&n&&c.YNc(0,wH,0,0,"ng-template",14),2&n){const t=c.oxw().$implicit,r=c.oxw(3);c.Q6J("ngTemplateOutlet",r.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function DH(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",12),c.NdJ("click",function(s){const h=c.CHM(t).$implicit;return c.oxw(3).doSelect(h),c.KtG(s.preventDefault())}),c.YNc(1,CH,1,2,"ng-template",13),c.qZA()}if(2&n){const t=e.$implicit;c.ekj("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),c.Q6J("tabindex",t.tabindex),c.uIk("aria-label",t.ariaLabel),c.xp6(1),c.Q6J("ngIf",!t.hidden)}}function SH(n,e){if(1&n&&(c.TgZ(0,"div",8),c.YNc(1,EH,2,1,"div",9),c.YNc(2,DH,2,9,"div",10),c.qZA()),2&n){const t=c.oxw().$implicit,r=c.oxw();c.xp6(1),c.Q6J("ngIf",r.datepicker.showWeekNumbers),c.xp6(1),c.Q6J("ngForOf",t.days)}}function TH(n,e){1&n&&c.YNc(0,SH,3,2,"div",7),2&n&&c.Q6J("ngIf",!e.$implicit.collapsed)}const IH=["defaultDayTemplate"],AH=["content"];function xH(n,e){if(1&n&&c._UZ(0,"div",7),2&n){const r=e.currentMonth,s=e.selected,u=e.disabled,h=e.focused;c.Q6J("date",e.date)("currentMonth",r)("selected",s)("disabled",u)("focused",h)}}function NH(n,e){if(1&n&&(c.TgZ(0,"div",12),c._uU(1),c.qZA()),2&n){const t=c.oxw().$implicit,r=c.oxw(2);c.xp6(1),c.hij(" ",r.i18n.getMonthLabel(t.firstDate)," ")}}function MH(n,e){if(1&n&&(c.TgZ(0,"div",9),c.YNc(1,NH,2,1,"div",10),c._UZ(2,"ngb-datepicker-month",11),c.qZA()),2&n){const t=e.$implicit,r=c.oxw(2);c.xp6(1),c.Q6J("ngIf","none"===r.navigation||r.displayMonths>1&&"select"===r.navigation),c.xp6(1),c.Q6J("month",t.firstDate)}}function RH(n,e){if(1&n&&c.YNc(0,MH,3,2,"div",8),2&n){const t=c.oxw();c.Q6J("ngForOf",t.model.months)}}function PH(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"ngb-datepicker-navigation",13),c.NdJ("navigate",function(s){c.CHM(t);const u=c.oxw();return c.KtG(u.onNavigateEvent(s))})("select",function(s){c.CHM(t);const u=c.oxw();return c.KtG(u.onNavigateDateSelect(s))}),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function OH(n,e){}function kH(n,e){}const FH=["ngbNavOutlet",""];function LH(n,e){}const BH=function(n){return{$implicit:n}};function VH(n,e){if(1&n&&(c.TgZ(0,"div",2),c.YNc(1,LH,0,0,"ng-template",3),c.qZA()),2&n){const t=c.oxw().$implicit,r=c.oxw();c.Q6J("item",t)("nav",r.nav)("role",r.paneRole),c.xp6(1),c.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)("ngTemplateOutletContext",c.VKq(5,BH,t.active||r.isPanelTransitioning(t)))}}function UH(n,e){if(1&n&&c.YNc(0,VH,2,7,"div",1),2&n){const t=e.$implicit,r=c.oxw();c.Q6J("ngIf",t.isPanelInDom()||r.isPanelTransitioning(t))}}function $H(n,e){1&n&&(c.TgZ(0,"span",9),c.SDv(1,10),c.qZA())}function HH(n,e){1&n&&(c.TgZ(0,"span",9),c.SDv(1,11),c.qZA())}function jH(n,e){1&n&&(c.TgZ(0,"span",9),c.SDv(1,12),c.qZA())}function GH(n,e){1&n&&(c.TgZ(0,"span",9),c.SDv(1,13),c.qZA())}function qH(n,e){1&n&&c._uU(0,"...")}function zH(n,e){1&n&&(c.TgZ(0,"span",15),c._uU(1,"(current)"),c.qZA())}function WH(n,e){if(1&n&&(c._uU(0),c.YNc(1,zH,2,0,"span",14)),2&n){const t=e.$implicit,r=e.currentPage;c.hij(" ",t," "),c.xp6(1),c.Q6J("ngIf",t===r)}}function KH(n,e){}const ZH=function(n){return{disabled:!0,currentPage:n}};function YH(n,e){if(1&n&&(c.TgZ(0,"a",20),c.YNc(1,KH,0,0,"ng-template",8),c.qZA()),2&n){const t=c.oxw(2).$implicit,r=c.oxw(),s=c.MAs(9);c.xp6(1),c.Q6J("ngTemplateOutlet",(null==r.tplEllipsis?null:r.tplEllipsis.templateRef)||s)("ngTemplateOutletContext",c.VKq(2,ZH,t))}}function JH(n,e){}const QH=function(n,e,t){return{disabled:n,$implicit:e,currentPage:t}};function XH(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"a",21),c.NdJ("click",function(s){c.CHM(t);const u=c.oxw().$implicit;return c.oxw(2).selectPage(u),c.KtG(s.preventDefault())}),c.YNc(1,JH,0,0,"ng-template",8),c.qZA()}if(2&n){const t=c.oxw().$implicit,r=c.oxw(),s=r.disabled,u=r.$implicit,h=c.oxw(),_=c.MAs(11);c.uIk("tabindex",s?"-1":null)("aria-disabled",s?"true":null),c.xp6(1),c.Q6J("ngTemplateOutlet",(null==h.tplNumber?null:h.tplNumber.templateRef)||_)("ngTemplateOutletContext",c.kEZ(4,QH,s,t,u))}}function ej(n,e){if(1&n&&(c.TgZ(0,"li",17),c.YNc(1,YH,2,4,"a",18),c.YNc(2,XH,2,8,"a",19),c.qZA()),2&n){const t=e.$implicit,r=c.oxw(),s=r.$implicit,u=r.disabled,h=c.oxw();c.ekj("active",t===s)("disabled",h.isEllipsis(t)||u),c.uIk("aria-current",t===s?"page":null),c.xp6(1),c.Q6J("ngIf",h.isEllipsis(t)),c.xp6(1),c.Q6J("ngIf",!h.isEllipsis(t))}}function tj(n,e){1&n&&c.YNc(0,ej,3,7,"li",16),2&n&&c.Q6J("ngForOf",e.pages)}function nj(n,e){}const BN=function(n,e){return{disabled:n,currentPage:e}};function rj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"li",17)(1,"a",22),c.NdJ("click",function(s){return c.CHM(t),c.oxw().selectPage(1),c.KtG(s.preventDefault())}),c.YNc(2,nj,0,0,"ng-template",8),c.qZA()()}if(2&n){const t=c.oxw(),r=c.MAs(1);c.ekj("disabled",t.previousDisabled()),c.xp6(1),c.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),c.xp6(1),c.Q6J("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||r)("ngTemplateOutletContext",c.WLB(6,BN,t.previousDisabled(),t.page))}}function ij(n,e){}const sj=function(n){return{disabled:n}};function oj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"li",17)(1,"a",23),c.NdJ("click",function(s){c.CHM(t);const u=c.oxw();return u.selectPage(u.page-1),c.KtG(s.preventDefault())}),c.YNc(2,ij,0,0,"ng-template",8),c.qZA()()}if(2&n){const t=c.oxw(),r=c.MAs(3);c.ekj("disabled",t.previousDisabled()),c.xp6(1),c.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),c.xp6(1),c.Q6J("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||r)("ngTemplateOutletContext",c.VKq(6,sj,t.previousDisabled()))}}function aj(n,e){}function lj(n,e){}function uj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"li",17)(1,"a",24),c.NdJ("click",function(s){c.CHM(t);const u=c.oxw();return u.selectPage(u.page+1),c.KtG(s.preventDefault())}),c.YNc(2,lj,0,0,"ng-template",8),c.qZA()()}if(2&n){const t=c.oxw(),r=c.MAs(5);c.ekj("disabled",t.nextDisabled()),c.xp6(1),c.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),c.xp6(1),c.Q6J("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||r)("ngTemplateOutletContext",c.WLB(6,BN,t.nextDisabled(),t.page))}}function cj(n,e){}function dj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"li",17)(1,"a",25),c.NdJ("click",function(s){c.CHM(t);const u=c.oxw();return u.selectPage(u.pageCount),c.KtG(s.preventDefault())}),c.YNc(2,cj,0,0,"ng-template",8),c.qZA()()}if(2&n){const t=c.oxw(),r=c.MAs(7);c.ekj("disabled",t.nextDisabled()),c.xp6(1),c.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),c.xp6(1),c.Q6J("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||r)("ngTemplateOutletContext",c.WLB(6,BN,t.nextDisabled(),t.page))}}const hj=function(n,e,t){return{$implicit:n,pages:e,disabled:t}};function gj(n,e){if(1&n&&(c.TgZ(0,"span"),c.SDv(1,2),c.ALo(2,"percent"),c.qZA()),2&n){const t=c.oxw();c.xp6(2),c.pQV(c.lcZ(2,1,t.getValue()/t.max)),c.QtT(1)}}function mj(n,e){1&n&&c._uU(0),2&n&&c.Oqu(100===e.fill?"\u2605":"\u2606")}function _j(n,e){}function yj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"span",2),c._uU(1),c.qZA(),c.TgZ(2,"span",3),c.NdJ("mouseenter",function(){const u=c.CHM(t).index,h=c.oxw();return c.KtG(h.enter(u+1))})("click",function(){const u=c.CHM(t).index,h=c.oxw();return c.KtG(h.handleClick(u+1))}),c.YNc(3,_j,0,0,"ng-template",4),c.qZA()}if(2&n){const t=e.index,r=c.oxw(),s=c.MAs(1);c.xp6(1),c.hij("(",t<r.nextRate?"*":" ",")"),c.xp6(1),c.Udp("cursor",r.isInteractive()?"pointer":"default"),c.xp6(1),c.Q6J("ngTemplateOutlet",r.starTemplate||r.starTemplateFromContent||s)("ngTemplateOutletContext",r.contexts[t])}}function vj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",11),c.NdJ("click",function(){c.CHM(t);const s=c.oxw();return c.KtG(s.changeHour(s.hourStep))}),c._UZ(1,"span",12),c.TgZ(2,"span",13),c.SDv(3,14),c.qZA()()}if(2&n){const t=c.oxw();c.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),c.Q6J("disabled",t.disabled)}}function bj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",11),c.NdJ("click",function(){c.CHM(t);const s=c.oxw();return c.KtG(s.changeHour(-s.hourStep))}),c._UZ(1,"span",15),c.TgZ(2,"span",13),c.SDv(3,16),c.qZA()()}if(2&n){const t=c.oxw();c.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),c.Q6J("disabled",t.disabled)}}function Ej(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",11),c.NdJ("click",function(){c.CHM(t);const s=c.oxw();return c.KtG(s.changeMinute(s.minuteStep))}),c._UZ(1,"span",12),c.TgZ(2,"span",13),c.SDv(3,17),c.qZA()()}if(2&n){const t=c.oxw();c.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),c.Q6J("disabled",t.disabled)}}function wj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",11),c.NdJ("click",function(){c.CHM(t);const s=c.oxw();return c.KtG(s.changeMinute(-s.minuteStep))}),c._UZ(1,"span",15),c.TgZ(2,"span",13),c.SDv(3,18),c.qZA()()}if(2&n){const t=c.oxw();c.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),c.Q6J("disabled",t.disabled)}}function Cj(n,e){1&n&&(c.TgZ(0,"div",5),c._uU(1,":"),c.qZA())}function Dj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",11),c.NdJ("click",function(){c.CHM(t);const s=c.oxw(2);return c.KtG(s.changeSecond(s.secondStep))}),c._UZ(1,"span",12),c.TgZ(2,"span",13),c.SDv(3,21),c.qZA()()}if(2&n){const t=c.oxw(2);c.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),c.Q6J("disabled",t.disabled)}}function Sj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",11),c.NdJ("click",function(){c.CHM(t);const s=c.oxw(2);return c.KtG(s.changeSecond(-s.secondStep))}),c._UZ(1,"span",15),c.TgZ(2,"span",13),c.SDv(3,22),c.qZA()()}if(2&n){const t=c.oxw(2);c.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),c.Q6J("disabled",t.disabled)}}function Tj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",19),c.YNc(1,Dj,4,7,"button",3),c.TgZ(2,"input",20),c.NdJ("change",function(s){c.CHM(t);const u=c.oxw();return c.KtG(u.updateSecond(s.target.value))})("blur",function(){c.CHM(t);const s=c.oxw();return c.KtG(s.handleBlur())})("input",function(s){c.CHM(t);const u=c.oxw();return c.KtG(u.formatInput(s.target))})("keydown.ArrowUp",function(s){c.CHM(t);const u=c.oxw();return u.changeSecond(u.secondStep),c.KtG(s.preventDefault())})("keydown.ArrowDown",function(s){c.CHM(t);const u=c.oxw();return u.changeSecond(-u.secondStep),c.KtG(s.preventDefault())}),c.qZA(),c.YNc(3,Sj,4,7,"button",3),c.qZA()}if(2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",t.spinners),c.xp6(1),c.ekj("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),c.Q6J("value",t.formatMinSec(null==t.model?null:t.model.second))("readOnly",t.readonlyInputs)("disabled",t.disabled),c.xp6(1),c.Q6J("ngIf",t.spinners)}}function Ij(n,e){1&n&&c._UZ(0,"div",5)}function Aj(n,e){if(1&n&&(c.ynx(0),c.SDv(1,27),c.BQk()),2&n){const t=c.oxw(2);c.xp6(1),c.pQV(t.i18n.getAfternoonPeriod()),c.QtT(1)}}function xj(n,e){if(1&n&&c.SDv(0,28),2&n){const t=c.oxw(2);c.pQV(t.i18n.getMorningPeriod()),c.QtT(0)}}function Nj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",23)(1,"button",24),c.NdJ("click",function(){c.CHM(t);const s=c.oxw();return c.KtG(s.toggleMeridian())}),c.YNc(2,Aj,2,1,"ng-container",25),c.YNc(3,xj,1,1,"ng-template",null,26,c.W1O),c.qZA()()}if(2&n){const t=c.MAs(4),r=c.oxw();c.xp6(1),c.ekj("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),c.Q6J("disabled",r.disabled),c.xp6(1),c.Q6J("ngIf",r.model&&r.model.hour>=12)("ngIfElse",t)}}function Mj(n,e){if(1&n&&(c.TgZ(0,"strong",3),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Oqu(t.header)}}function Rj(n,e){}function Pj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",4),c.YNc(1,Rj,0,0,"ng-template",5),c.TgZ(2,"button",6),c.NdJ("click",function(){c.CHM(t);const s=c.oxw();return c.KtG(s.hide())}),c.qZA()()}if(2&n){const t=c.oxw(),r=c.MAs(1);c.xp6(1),c.Q6J("ngTemplateOutlet",t.contentHeaderTpl||r)}}function Oj(n,e){if(1&n&&(c.TgZ(0,"span"),c._uU(1),c.qZA()),2&n){const t=c.oxw().$implicit,r=c.oxw();c.Tol(r.highlightClass),c.xp6(1),c.Oqu(t)}}function kj(n,e){if(1&n&&c._uU(0),2&n){const t=c.oxw().$implicit;c.Oqu(t)}}function Fj(n,e){if(1&n&&(c.YNc(0,Oj,2,3,"span",1),c.YNc(1,kj,1,1,"ng-template",null,2,c.W1O)),2&n){const t=e.odd,r=c.MAs(2);c.Q6J("ngIf",t)("ngIfElse",r)}}function Da(n){return parseInt(`${n}`,10)}function bk(n){return null!=n?`${n}`:""}function TT(n,e,t=0){return Math.max(Math.min(n,e),t)}function Ss(n){return!isNaN(Da(n))}function ts(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function rw(n){return Ss(n)?`0${n}`.slice(-2):""}function wk(n,e){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(e)>=0}function AT(n){return(n||document.body).getBoundingClientRect()}function Ck(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const Dk={animation:!0,transitionTimerDelayMs:5},jj=()=>{},{transitionTimerDelayMs:Gj}=Dk,VD=new Map,df=(n,e,t,r)=>{let s=r.context||{};const u=VD.get(e);if(u)switch(r.runningTransition){case"continue":return yu.E;case"stop":n.run(()=>u.transition$.complete()),s=Object.assign(u.context,s),VD.delete(e)}const h=t(e,r.animation,s)||jj;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>h()),Ut(void 0).pipe(function $j(n){return e=>new ir.y(t=>e.subscribe({next:h=>n.run(()=>t.next(h)),error:h=>n.run(()=>t.error(h)),complete:()=>n.run(()=>t.complete())}))}(n));const _=new Ei.x,w=new Ei.x,T=_.pipe(function H3(...n){return e=>Vf(e,Ut(...n))}(!0));VD.set(e,{transition$:_,complete:()=>{w.next(),w.complete()},context:s});const N=function Hj(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const L=Bc(e,"transitionend").pipe(rl(T),ei(({target:z})=>z===e));(function tk(...n){return 1===(n=ek(n)).length?(0,ai.Xf)(n[0]):new ir.y(function U3(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,ai.Xf)(n[r]).subscribe((0,tr.x)(e,s=>{if(t){for(let u=0;u<t.length;u++)u!==r&&t[u].unsubscribe();t=null}e.next(s)})))}}(n))})(SN(N+Gj).pipe(rl(T)),L,w).pipe(rl(T)).subscribe(()=>{VD.delete(e),n.run(()=>{h(),_.next(),_.complete()})})}),_.asObservable()},Sk=(n,e,t)=>{let{direction:r,maxSize:s,dimension:u}=t;const{classList:h}=n;function _(){h.add("collapse"),"show"===r?h.add("show"):h.remove("show")}if(e)return s||(s=function zj(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,r=t.contains("show");r||t.add("show"),n.style[e]="";const s=n.getBoundingClientRect()[e]+"px";return r||t.remove("show"),s}(n,u),t.maxSize=s,n.style[u]="show"!==r?s:"0px",h.remove("collapse"),h.remove("collapsing"),h.remove("show"),AT(n),h.add("collapsing")),n.style[u]="show"===r?s:"0px",()=>{_(),h.remove("collapsing"),n.style[u]=""};_()};let UD=(()=>{class n{constructor(){this.animation=Dk.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wj=(()=>{class n{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(UD))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kj=0,UN=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),n})(),Tk=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),n})(),Ik=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),n})(),$N=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+Kj++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new c.vpe,this.hidden=new c.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["ngb-panel"]],contentQueries:function(t,r,s){if(1&t&&(c.Suo(s,Tk,4),c.Suo(s,UN,4),c.Suo(s,Ik,4)),2&t){let u;c.iGM(u=c.CRH())&&(r.titleTpls=u),c.iGM(u=c.CRH())&&(r.headerTpls=u),c.iGM(u=c.CRH())&&(r.contentTpls=u)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),n})(),Zj=(()=>{class n{constructor(t){this._El=t,this.ngbRef=new c.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),n})(),Ak=(()=>{class n{constructor(t,r){this.accordion=t,this.panel=r}set ngbPanelToggle(t){t&&(this.panel=t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36((0,c.Gpc)(()=>HN)),c.Y36($N,9))},n.\u0275dir=c.lG2({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.accordion.toggle(r.panel.id)}),2&t&&(c.Ikx("disabled",r.panel.disabled),c.uIk("aria-expanded",r.panel.isOpen)("aria-controls",r.panel.id),c.ekj("collapsed",!r.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),n})(),HN=(()=>{class n{constructor(t,r,s){this._ngZone=r,this._changeDetector=s,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new c.vpe,this.shown=new c.vpe,this.hidden=new c.vpe,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const r=this._findPanelById(t);r&&this._changeOpenState(r,!r.isOpen)}ngAfterContentChecked(){(function VN(n){return"string"==typeof n})(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(Es(1)).subscribe(()=>{this.panels.forEach(t=>{const r=t.panelDiv;r?t.initClassDone||(t.initClassDone=!0,df(this._ngZone,r,Sk,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide",dimension:"height"}})):t.initClassDone=!1})})}_changeOpenState(t,r){if(null!=t&&!t.disabled&&t.isOpen!==r){let s=!1;this.panelChange.emit({panelId:t.id,nextState:r,preventDefault:()=>{s=!0}}),s||(t.isOpen=r,t.transitionRunning=!0,r&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,r=!0){this.panels.forEach(s=>{s.id!==t&&s.isOpen&&(s.isOpen=!1,s.transitionRunning=r)})}_findPanelById(t){return this.panels.find(r=>r.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(r=>{r.transitionRunning&&df(this._ngZone,r.panelDiv,Sk,{animation:t,runningTransition:"stop",context:{direction:r.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{r.transitionRunning=!1;const{id:u}=r;r.isOpen?(r.shown.emit(),this.shown.emit(u)):(r.hidden.emit(),this.hidden.emit(u))})})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Wj),c.Y36(c.R0b),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-accordion"]],contentQueries:function(t,r,s){if(1&t&&c.Suo(s,$N,4),2&t){let u;c.iGM(u=c.CRH())&&(r.panels=u)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("aria-multiselectable",!r.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[c.jDz],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(t,r){1&t&&(c.YNc(0,Y$,3,3,"ng-template",0,1,c.W1O),c.YNc(2,tH,4,11,"ng-template",2)),2&t&&(c.xp6(2),c.Q6J("ngForOf",r.panels))},dependencies:[Nr,gr,Ak,Zj,UN,sn],encapsulation:2}),n})(),xk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[HN]}),n})();const Yj=({classList:n})=>{n.remove("show")};let Jj=(()=>{class n{constructor(t){this._ngbConfig=t,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(UD))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qj=(()=>{class n{constructor(t,r,s,u){this._renderer=r,this._element=s,this._zone=u,this.closed=new c.vpe,this.dismissible=t.dismissible,this.type=t.type,this.animation=t.animation}close(){const t=df(this._zone,this._element.nativeElement,Yj,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>this.closed.emit()),t}ngOnChanges(t){const r=t.type;r&&!r.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${r.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${r.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Jj),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(t,r){2&t&&c.ekj("fade",r.animation)("alert-dismissible",r.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[c.TTD,c.jDz],ngContentSelectors:LN,decls:2,vars:1,consts:function(){let e;return e=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",e,3,"click",4,"ngIf"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(c.F$t(),c.Hsn(0),c.YNc(1,nH,1,0,"button",0)),2&t&&(c.xp6(1),c.Q6J("ngIf",r.dismissible))},dependencies:[sn],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),Nk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Qj]}),n})();var ny=(()=>(function(n){n.START="start",n.END="end"}(ny||(ny={})),ny))();const Mk=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),$D=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},xT=n=>{$D(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},Xj=(n,e,{direction:t})=>{const{classList:r}=n;return e?(Mk(n)?$D(r):(r.add("carousel-item-"+(t===ny.START?"next":"prev")),AT(n),r.add("carousel-item-"+t)),()=>{xT(r),r.add("active")}):($D(r),xT(r),void r.add("active"))},eG=(n,e,{direction:t})=>{const{classList:r}=n;return e?(Mk(n)?$D(r):r.add("carousel-item-"+t),()=>{xT(r),r.remove("active")}):($D(r),xT(r),void r.remove("active"))};let tG=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(UD))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nG=0,rG=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+nG++,this.slid=new c.vpe}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),n})(),iG=(()=>{class n{constructor(t,r,s,u,h){this._platformId=r,this._ngZone=s,this._cd=u,this._container=h,this.NgbSlideEventSource=a0,this._destroy$=new Ei.x,this._interval$=new Pi(0),this._mouseHover$=new Pi(!1),this._focused$=new Pi(!1),this._pauseOnHover$=new Pi(!1),this._pauseOnFocus$=new Pi(!1),this._pause$=new Pi(!1),this._wrap$=new Pi(!1),this.slide=new c.vpe,this.slid=new c.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(a0.ARROW_LEFT)}arrowRight(){this.focus(),this.next(a0.ARROW_RIGHT)}ngAfterContentInit(){(function $l(n){return n===gf})(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=my([this.slide.pipe((0,Nt.U)(r=>r.current),vd(this.activeId)),this._wrap$,this.slides.changes.pipe(vd(null))]).pipe((0,Nt.U)(([r,s])=>{const u=this.slides.toArray(),h=this._getSlideIdxById(r);return s?u.length>1:h<u.length-1}),Fg());my([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,Nt.U)(([r,s,u,h,_,w,T])=>r||s&&u||h&&_||!T?0:w),Fg(),Oi(r=>r>0?SN(r,r):nk),rl(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(a0.TIMER)))}),this.slides.changes.pipe(rl(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(n=>{VD.get(n)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(Es(1)).subscribe(()=>{for(const{id:t}of this.slides){const r=this._getSlideElement(t);t===this.activeId?r.classList.add("active"):r.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,r){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),r)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),ny.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),ny.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,r,s){const u=this._transitionIds;if(u&&(u[0]!==t||u[1]!==this.activeId))return;let h=this._getSlideById(t);if(h&&h.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:h.id,direction:r,paused:this._pause$.value,source:s});const _={animation:this.animation,runningTransition:"stop",context:{direction:r}},w=[],T=this._getSlideById(this.activeId);if(T){const z=df(this._ngZone,this._getSlideElement(T.id),eG,_);z.subscribe(()=>{T.slid.emit({isShown:!1,direction:r,source:s})}),w.push(z)}const N=this.activeId;this.activeId=h.id;const L=this._getSlideById(this.activeId),j=df(this._ngZone,this._getSlideElement(h.id),Xj,_);j.subscribe(()=>{L?.slid.emit({isShown:!0,direction:r,source:s})}),w.push(j),function $3(...n){const e=(0,$a.jO)(n),t=ek(n);return t.length?new ir.y(r=>{let s=t.map(()=>[]),u=t.map(()=>!1);r.add(()=>{s=u=null});for(let h=0;!r.closed&&h<t.length;h++)(0,ai.Xf)(t[h]).subscribe((0,tr.x)(r,_=>{if(s[h].push(_),s.every(w=>w.length)){const w=s.map(T=>T.shift());r.next(e?e(...w):w),s.some((T,N)=>!T.length&&u[N])&&r.complete()}},()=>{u[h]=!0,!s[h].length&&r.complete()}));return()=>{s=u=null}}):yu.E}(...w).pipe(Es(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:N,current:h.id,direction:r,paused:this._pause$.value,source:s})})}this._cd.markForCheck()}_getSlideEventDirection(t,r){return this._getSlideIdxById(t)>this._getSlideIdxById(r)?ny.END:ny.START}_getSlideById(t){return this.slides.find(r=>r.id===t)||null}_getSlideIdxById(t){const r=this._getSlideById(t);return null!=r?this.slides.toArray().indexOf(r):-1}_getNextSlide(t){const r=this.slides.toArray(),s=this._getSlideIdxById(t);return s===r.length-1?this.wrap?r[0].id:r[r.length-1].id:r[s+1].id}_getPrevSlide(t){const r=this.slides.toArray(),s=this._getSlideIdxById(t);return 0===s?this.wrap?r[r.length-1].id:r[0].id:r[s-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(tG),c.Y36(c.Lbi),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,r,s){if(1&t&&c.Suo(s,rG,4),2&t){let u;c.iGM(u=c.CRH())&&(r.slides=u)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,r){1&t&&c.NdJ("keydown.arrowLeft",function(){return r.keyboard&&r.arrowLeft()})("keydown.arrowRight",function(){return r.keyboard&&r.arrowRight()})("mouseenter",function(){return r.mouseHover=!0})("mouseleave",function(){return r.mouseHover=!1})("focusin",function(){return r.focused=!0})("focusout",function(){return r.focused=!1}),2&t&&(c.uIk("aria-activedescendant","slide-"+r.activeId),c.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[c.jDz],decls:6,vars:6,consts:function(){let e,t,r;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,r=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],r]},template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.YNc(1,rH,1,5,"button",1),c.qZA(),c.TgZ(2,"div",2),c.YNc(3,sH,4,4,"div",3),c.qZA(),c.YNc(4,oH,4,0,"button",4),c.YNc(5,aH,4,0,"button",5)),2&t&&(c.ekj("visually-hidden",!r.showNavigationIndicators),c.xp6(1),c.Q6J("ngForOf",r.slides),c.xp6(2),c.Q6J("ngForOf",r.slides),c.xp6(1),c.Q6J("ngIf",r.showNavigationArrows),c.xp6(1),c.Q6J("ngIf",r.showNavigationArrows))},dependencies:[Nr,gr,sn],encapsulation:2,changeDetection:0}),n})();var a0=(()=>(function(n){n.TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator"}(a0||(a0={})),a0))();let Rk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[iG]}),n})(),Pk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();class Co{constructor(e,t,r){this.year=ts(e)?e:null,this.month=ts(t)?t:null,this.day=ts(r)?r:null}static from(e){return e instanceof Co?e:e?new Co(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function iw(n,e){return!function sG(n,e){return!n&&!e||!!n&&!!e&&n.equals(e)}(n,e)}function Ok(n,e){return!(!n&&!e||n&&e&&n.year===e.year&&n.month===e.month)}function NT(n,e,t){return n&&e&&n.before(e)?e:n&&t&&n.after(t)?t:n||null}function jN(n,e){const{minDate:t,maxDate:r,disabled:s,markDisabled:u}=e;return!(null==n||s||u&&u(n,{year:n.year,month:n.month})||t&&n.before(t)||r&&n.after(r))}function kk(n){return new Co(n.getFullYear(),n.getMonth()+1,n.getDate())}function MT(n){const e=new Date(n.year,n.month-1,n.day,12);return isNaN(e.getTime())||e.setFullYear(n.year),e}let RT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function pG(){return new gG}()},providedIn:"root"}),n})(),gG=(()=>{class n extends RT{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,r="d",s=1){let u=MT(t),h=!0,_=u.getMonth();switch(r){case"y":u.setFullYear(u.getFullYear()+s);break;case"m":_+=s,u.setMonth(_),_%=12,_<0&&(_+=12);break;case"d":u.setDate(u.getDate()+s),h=!1;break;default:return t}return h&&u.getMonth()!==_&&u.setDate(0),kk(u)}getPrev(t,r="d",s=1){return this.getNext(t,r,-s)}getWeekday(t){let s=MT(t).getDay();return 0===s?7:s}getWeekNumber(t,r){7===r&&(r=0);const h=MT(t[(11-r)%7]);h.setDate(h.getDate()+4-(h.getDay()||7));const _=h.getTime();return h.setMonth(0),h.setDate(1),Math.floor(Math.round((_-h.getTime())/864e5)/7)+1}getToday(){return kk(new Date)}isValid(t){if(!(t&&ts(t.year)&&ts(t.month)&&ts(t.day)&&0!==t.year))return!1;const r=MT(t);return!isNaN(r.getTime())&&r.getFullYear()===t.year&&r.getMonth()+1===t.month&&r.getDate()===t.day}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),l0=(()=>{class n{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function mG(n){return new _G(n)}(c.LFG(c.soG)),r},providedIn:"root"}),n})(),_G=(()=>{class n extends l0{constructor(t){super(),this._locale=t,this._monthsShort=zn(t,ie.Standalone,fe.Abbreviated),this._monthsFull=zn(t,ie.Standalone,fe.Wide)}getWeekdayLabel(t,r){const s=Fn(this._locale,ie.Standalone,void 0===r?fe.Short:r);return s.map((h,_)=>s[(_+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return To(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.soG))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),GN=(()=>{class n{constructor(t,r){this._calendar=t,this._i18n=r,this._VALIDATORS={dayTemplateData:s=>{if(this._state.dayTemplateData!==s)return{dayTemplateData:s}},displayMonths:s=>{if(ts(s=Da(s))&&s>0&&this._state.displayMonths!==s)return{displayMonths:s}},disabled:s=>{if(this._state.disabled!==s)return{disabled:s}},firstDayOfWeek:s=>{if(ts(s=Da(s))&&s>=0&&this._state.firstDayOfWeek!==s)return{firstDayOfWeek:s}},focusVisible:s=>{if(this._state.focusVisible!==s&&!this._state.disabled)return{focusVisible:s}},markDisabled:s=>{if(this._state.markDisabled!==s)return{markDisabled:s}},maxDate:s=>{const u=this.toValidDate(s,null);if(iw(this._state.maxDate,u))return{maxDate:u}},minDate:s=>{const u=this.toValidDate(s,null);if(iw(this._state.minDate,u))return{minDate:u}},navigation:s=>{if(this._state.navigation!==s)return{navigation:s}},outsideDays:s=>{if(this._state.outsideDays!==s)return{outsideDays:s}},weekdays:s=>{const u=!0===s||!1===s?fe.Short:s,h=!0!==s&&!1!==s||s;if(this._state.weekdayWidth!==u||this._state.weekdaysVisible!==h)return{weekdayWidth:u,weekdaysVisible:h}}},this._model$=new Ei.x,this._dateSelect$=new Ei.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:fe.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(ei(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(ei(t=>null!==t))}set(t){let r=Object.keys(t).map(s=>this._VALIDATORS[s](t[s])).reduce((s,u)=>({...s,...u}),{});Object.keys(r).length>0&&this._nextState(r)}focus(t){const r=this.toValidDate(t,null);null!=r&&!this._state.disabled&&iw(this._state.focusDate,r)&&this._nextState({focusDate:t})}focusSelect(){jN(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const r=this.toValidDate(t,this._calendar.getToday());null!=r&&!this._state.disabled&&(!this._state.firstDate||Ok(this._state.firstDate,r))&&this._nextState({firstDate:r})}select(t,r={}){const s=this.toValidDate(t,null);null!=s&&!this._state.disabled&&(iw(this._state.selectedDate,s)&&this._nextState({selectedDate:s}),r.emitEvent&&jN(s,this._state)&&this._dateSelect$.next(s))}toValidDate(t,r){const s=Co.from(t);return void 0===r&&(r=this._calendar.getToday()),this._calendar.isValid(s)?s:r}getMonth(t){for(let r of this._state.months)if(t.month===r.number&&t.year===r.year)return r;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const r=this._updateState(t);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(t){const{months:r,displayMonths:s,selectedDate:u,focusDate:h,focusVisible:_,disabled:w,outsideDays:T}=t;t.months.forEach(N=>{N.weeks.forEach(L=>{L.days.forEach(j=>{h&&(j.context.focused=h.equals(j.date)&&_),j.tabindex=!w&&h&&j.date.equals(h)&&h.month===N.number?0:-1,!0===w&&(j.context.disabled=!0),void 0!==u&&(j.context.selected=null!==u&&u.equals(j.date)),N.number!==j.date.month&&(j.hidden="hidden"===T||"collapsed"===T||s>1&&j.date.after(r[0].firstDate)&&j.date.before(r[s-1].lastDate))})})})}_updateState(t){const r=Object.assign({},this._state,t);let s=r.firstDate;if(("minDate"in t||"maxDate"in t)&&(function oG(n,e){if(e&&n&&e.before(n))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${n}`)}(r.minDate,r.maxDate),r.focusDate=NT(r.focusDate,r.minDate,r.maxDate),r.firstDate=NT(r.firstDate,r.minDate,r.maxDate),s=r.focusDate),"disabled"in t&&(r.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(s=r.selectedDate),"focusVisible"in t||"focusDate"in t&&(r.focusDate=NT(r.focusDate,r.minDate,r.maxDate),s=r.focusDate,0!==r.months.length&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in t&&(r.firstDate=NT(r.firstDate,r.minDate,r.maxDate),s=r.firstDate),s){const h=function dG(n,e,t,r,s){const{displayMonths:u,months:h}=t,_=h.splice(0,h.length);return Array.from({length:u},(T,N)=>{const L=Object.assign(n.getNext(e,"m",N),{day:1});if(h[N]=null,!s){const j=_.findIndex(z=>z.firstDate.equals(L));-1!==j&&(h[N]=_.splice(j,1)[0])}return L}).forEach((T,N)=>{null===h[N]&&(h[N]=function hG(n,e,t,r,s={}){const{dayTemplateData:u,minDate:h,maxDate:_,firstDayOfWeek:w,markDisabled:T,outsideDays:N,weekdayWidth:L,weekdaysVisible:j}=t,z=n.getToday();s.firstDate=null,s.lastDate=null,s.number=e.month,s.year=e.year,s.weeks=s.weeks||[],s.weekdays=s.weekdays||[],e=function fG(n,e,t){const r=n.getDaysPerWeek(),s=new Co(e.year,e.month,1),u=n.getWeekday(s)%r;return n.getPrev(s,"d",(r+u-t)%r)}(n,e,w),j||(s.weekdays.length=0);for(let Q=0;Q<n.getWeeksPerMonth();Q++){let le=s.weeks[Q];le||(le=s.weeks[Q]={number:0,days:[],collapsed:!0});const ve=le.days;for(let He=0;He<n.getDaysPerWeek();He++){0===Q&&j&&(s.weekdays[He]=r.getWeekdayLabel(n.getWeekday(e),L));const nt=new Co(e.year,e.month,e.day),ht=n.getNext(nt),it=r.getDayAriaLabel(nt);let ft=!!(h&&nt.before(h)||_&&nt.after(_));!ft&&T&&(ft=T(nt,{month:s.number,year:s.year}));let mt=nt.equals(z),Jt=u?u(nt,{month:s.number,year:s.year}):void 0;null===s.firstDate&&nt.month===s.number&&(s.firstDate=nt),nt.month===s.number&&ht.month!==s.number&&(s.lastDate=nt);let Pn=ve[He];Pn||(Pn=ve[He]={}),Pn.date=nt,Pn.context=Object.assign(Pn.context||{},{$implicit:nt,date:nt,data:Jt,currentMonth:s.number,currentYear:s.year,disabled:ft,focused:!1,selected:!1,today:mt}),Pn.tabindex=-1,Pn.ariaLabel=it,Pn.hidden=!1,e=ht}le.number=n.getWeekNumber(ve.map(He=>He.date),w),le.collapsed="collapsed"===N&&ve[0].date.month!==s.number&&ve[ve.length-1].date.month!==s.number}return s}(n,T,t,r,_.shift()||{}))}),h}(this._calendar,s,r,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t);r.months=h,r.firstDate=h[0].firstDate,r.lastDate=h[h.length-1].lastDate,"selectedDate"in t&&!jN(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in t&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=s);const _=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,w=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in t||"maxDate"in t||0===r.selectBoxes.years.length||_)&&(r.selectBoxes.years=function lG(n,e,t){if(!n)return[];const r=e?Math.max(e.year,n.year-500):n.year-10,u=(t?Math.min(t.year,n.year+500):n.year+10)-r+1,h=Array(u);for(let _=0;_<u;_++)h[_]=r+_;return h}(r.firstDate,r.minDate,r.maxDate)),("minDate"in t||"maxDate"in t||0===r.selectBoxes.months.length||_)&&(r.selectBoxes.months=function aG(n,e,t,r){if(!e)return[];let s=n.getMonths(e.year);if(t&&e.year===t.year){const u=s.findIndex(h=>h===t.month);s=s.slice(u)}if(r&&e.year===r.year){const u=s.findIndex(h=>h===r.month);s=s.slice(0,u+1)}return s}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},("arrows"===r.navigation||"select"===r.navigation)&&(w||_||"minDate"in t||"maxDate"in t||"disabled"in t)&&(r.prevDisabled=r.disabled||function cG(n,e,t){const r=Object.assign(n.getPrev(e,"m"),{day:1});return null!=t&&(r.year===t.year&&r.month<t.month||r.year<t.year&&1===t.month)}(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||function uG(n,e,t){const r=Object.assign(n.getNext(e,"m"),{day:1});return null!=t&&r.after(t)}(this._calendar,r.lastDate,r.maxDate))}return r}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(RT),c.LFG(l0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();var sw=(()=>(function(n){n[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT"}(sw||(sw={})),sw))();let yG=(()=>{class n{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(l0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,r){2&t&&c.ekj("bg-primary",r.selected)("text-white",r.selected)("text-muted",r.isMuted())("outside",r.isMuted())("active",r.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[c.jDz],attrs:lH,decls:1,vars:1,template:function(t,r){1&t&&c._uU(0),2&t&&c.Oqu(r.i18n.getDayNumerals(r.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),vG=(()=>{class n{constructor(t,r){this.i18n=t,this._renderer=r,this.select=new c.vpe,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new Co(this.date.year,Da(t),1))}changeYear(t){this.select.emit(new Co(Da(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(l0),c.Y36(c.Qsj))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,r){if(1&t&&(c.Gf(uH,7,c.SBq),c.Gf(cH,7,c.SBq)),2&t){let s;c.iGM(s=c.CRH())&&(r.monthSelect=s.first),c.iGM(s=c.CRH())&&(r.yearSelect=s.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[c.jDz],decls:6,vars:4,consts:function(){let e,t,r,s;return e=$localize`:@@ngb.datepicker.select-month:Select month`,t=$localize`:@@ngb.datepicker.select-month:Select month`,r=$localize`:@@ngb.datepicker.select-year:Select year`,s=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",e,"title",t,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",r,"title",s,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,r){1&t&&(c.TgZ(0,"select",0,1),c.NdJ("change",function(u){return r.changeMonth(u.target.value)}),c.YNc(2,dH,2,3,"option",2),c.qZA(),c.TgZ(3,"select",3,4),c.NdJ("change",function(u){return r.changeYear(u.target.value)}),c.YNc(5,hH,2,2,"option",2),c.qZA()),2&t&&(c.Q6J("disabled",r.disabled),c.xp6(2),c.Q6J("ngForOf",r.months),c.xp6(1),c.Q6J("disabled",r.disabled),c.xp6(2),c.Q6J("ngForOf",r.years))},dependencies:[Nr],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),n})(),bG=(()=>{class n{constructor(t){this.i18n=t,this.navigation=sw,this.months=[],this.navigate=new c.vpe,this.select=new c.vpe}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(l0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[c.jDz],decls:8,vars:4,consts:function(){let e,t,r,s;return e=$localize`:@@ngb.datepicker.previous-month:Previous month`,t=$localize`:@@ngb.datepicker.previous-month:Previous month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,s=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",e,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",r,"title",s,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"button",1),c.NdJ("click",function(u){return r.onClickPrev(u)}),c._UZ(2,"span",2),c.qZA()(),c.YNc(3,fH,1,4,"ngb-datepicker-navigation-select",3),c.YNc(4,_H,1,1,null,4),c.TgZ(5,"div",5)(6,"button",6),c.NdJ("click",function(u){return r.onClickNext(u)}),c._UZ(7,"span",2),c.qZA()()),2&t&&(c.xp6(1),c.Q6J("disabled",r.prevDisabled),c.xp6(2),c.Q6J("ngIf",r.showSelect),c.xp6(1),c.Q6J("ngIf",!r.showSelect),c.xp6(2),c.Q6J("disabled",r.nextDisabled))},dependencies:[sn,Nr,vG],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),n})();var cr=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(cr||(cr={})),cr))();let EG=(()=>{class n{processKey(t,r){const{state:s,calendar:u}=r;switch(t.which){case cr.PageUp:r.focusDate(u.getPrev(s.focusedDate,t.shiftKey?"y":"m",1));break;case cr.PageDown:r.focusDate(u.getNext(s.focusedDate,t.shiftKey?"y":"m",1));break;case cr.End:r.focusDate(t.shiftKey?s.maxDate:s.lastDate);break;case cr.Home:r.focusDate(t.shiftKey?s.minDate:s.firstDate);break;case cr.ArrowLeft:r.focusDate(u.getPrev(s.focusedDate,"d",1));break;case cr.ArrowUp:r.focusDate(u.getPrev(s.focusedDate,"d",u.getDaysPerWeek()));break;case cr.ArrowRight:r.focusDate(u.getNext(s.focusedDate,"d",1));break;case cr.ArrowDown:r.focusDate(u.getNext(s.focusedDate,"d",u.getDaysPerWeek()));break;case cr.Enter:case cr.Space:r.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qN=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=fe.Short}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function wG(){return new CG}()},providedIn:"root"}),n})(),CG=(()=>{class n extends zN{fromModel(t){return t&&ts(t.year)&&ts(t.month)&&ts(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&ts(t.year)&&ts(t.month)&&ts(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Fk=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),n})(),WN=(()=>{class n{constructor(t,r,s,u){this.i18n=t,this.datepicker=r,this._keyboardService=s,this._service=u}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(l0),c.Y36((0,c.Gpc)(()=>PT)),c.Y36(EG),c.Y36(GN))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,r){1&t&&c.NdJ("keydown",function(u){return r.onKeyDown(u)})},inputs:{month:"month"},standalone:!0,features:[c.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(c.YNc(0,bH,3,2,"div",0),c.YNc(1,TH,1,1,"ng-template",1)),2&t&&(c.Q6J("ngIf",r.viewModel.weekdays.length>0),c.xp6(1),c.Q6J("ngForOf",r.viewModel.weeks))},dependencies:[sn,Nr,gr],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),n})(),PT=(()=>{class n{constructor(t,r,s,u,h,_,w,T){this._service=t,this._calendar=r,this.i18n=s,this._elementRef=_,this._ngbDateAdapter=w,this._ngZone=T,this._controlValue=null,this._destroyed$=new Ei.x,this._publicState={},this.navigate=new c.vpe,this.dateSelect=new c.vpe,this.onChange=N=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(N=>this[N]=u[N]),t.dateSelect$.pipe(rl(this._destroyed$)).subscribe(N=>{this.dateSelect.emit(N)}),t.model$.pipe(rl(this._destroyed$)).subscribe(N=>{const L=N.firstDate,j=this.model?this.model.firstDate:null;this._publicState={maxDate:N.maxDate,minDate:N.minDate,firstDate:N.firstDate,lastDate:N.lastDate,focusedDate:N.focusDate,months:N.months.map(He=>He.firstDate)};let z=!1;if(!L.equals(j)&&(this.navigate.emit({current:j?{year:j.year,month:j.month}:null,next:{year:L.year,month:L.month},preventDefault:()=>z=!0}),z&&null!==j))return void this._service.open(j);const Q=N.selectedDate,le=N.focusDate,ve=this.model?this.model.focusDate:null;this.model=N,iw(Q,this._controlValue)&&(this._controlValue=Q,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(Q))),iw(le,ve)&&ve&&N.focusVisible&&this.focus(),h.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(Co.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(Es(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(Co.from(t?t.day?t:{...t,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=Bc(this._contentEl.nativeElement,"focusin"),r=Bc(this._contentEl.nativeElement,"focusout"),{nativeElement:s}=this._elementRef;(0,ZP.T)(t,r).pipe(ei(({target:u,relatedTarget:h})=>!(wk(u,"ngb-dp-day")&&wk(h,"ngb-dp-day")&&s.contains(u)&&s.contains(h))),rl(this._destroyed$)).subscribe(({type:u})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===u})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(r=>t[r]=this[r]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(s=>s in t).forEach(s=>r[s]=this[s]),this._service.set(r),"startDate"in t){const{currentValue:s,previousValue:u}=t.startDate;Ok(u,s)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case sw.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case sw.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=Co.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(GN),c.Y36(RT),c.Y36(l0),c.Y36(qN),c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(zN),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(t,r,s){if(1&t&&c.Suo(s,Fk,7),2&t){let u;c.iGM(u=c.CRH())&&(r.contentTemplate=u.first)}},viewQuery:function(t,r){if(1&t&&(c.Gf(IH,7),c.Gf(AH,7)),2&t){let s;c.iGM(s=c.CRH())&&(r._defaultDayTemplate=s.first),c.iGM(s=c.CRH())&&(r._contentEl=s.first)}},hostVars:2,hostBindings:function(t,r){2&t&&c.ekj("disabled",r.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[c._Bn([{provide:oe,useExisting:(0,c.Gpc)(()=>n),multi:!0},GN]),c.TTD,c.jDz],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,r){if(1&t&&(c.YNc(0,xH,1,5,"ng-template",null,0,c.W1O),c.YNc(2,RH,1,1,"ng-template",null,1,c.W1O),c.TgZ(4,"div",2),c.YNc(5,PH,1,7,"ngb-datepicker-navigation",3),c.qZA(),c.TgZ(6,"div",4,5),c.YNc(8,OH,0,0,"ng-template",6),c.qZA(),c.YNc(9,kH,0,0,"ng-template",6)),2&t){const s=c.MAs(3);c.xp6(5),c.Q6J("ngIf","none"!==r.navigation),c.xp6(1),c.ekj("ngb-dp-months",!r.contentTemplate),c.xp6(2),c.Q6J("ngTemplateOutlet",(null==r.contentTemplate?null:r.contentTemplate.templateRef)||s),c.xp6(1),c.Q6J("ngTemplateOutlet",r.footerTemplate)}},dependencies:[sn,Nr,gr,yG,WN,bG],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent)),["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", "),new Date(1882,10,12),new Date(2174,10,25);let Qk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[PT,WN]}),n})(),JN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["",8,"navbar"]],standalone:!0}),n})(),t2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),n2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const JG=({classList:n})=>(n.remove("show"),()=>n.remove("active")),QG=(n,e)=>{e&&AT(n),n.classList.add("show")};let tM=(()=>{class n{constructor(t){this.elRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(t,r){2&t&&(c.Ikx("id",r.item.panelDomId),c.uIk("role",r.role?r.role:r.nav.roles?"tabpanel":void 0)("aria-labelledby",r.item.domId),c.ekj("fade",r.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),n})(),o2=(()=>{class n{constructor(t,r){this._cd=t,this._ngZone=r,this._activePane=null}isPanelTransitioning(t){return this._activePane?.item===t}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(rl(this.nav.destroy$),vd(this._activePane?.item||null),Fg(),function q3(n){return ei((e,t)=>n<=t)}(1)).subscribe(t=>{const r={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?df(this._ngZone,this._activePane.elRef.nativeElement,JG,r).subscribe(()=>{const s=this._activePane?.item;this._activePane=this._getPaneForItem(t),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),df(this._ngZone,this._activePane.elRef.nativeElement,QG,r).subscribe(()=>{t&&(t.shown.emit(),this.nav.shown.emit(t.id))})),s&&(s.hidden.emit(),this.nav.hidden.emit(s.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(t){return this._panes&&this._panes.find(r=>r.item===t)||null}_getActivePane(){return this._panes&&this._panes.find(t=>t.item.active)||null}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","ngbNavOutlet",""]],viewQuery:function(t,r){if(1&t&&c.Gf(tM,5),2&t){let s;c.iGM(s=c.CRH())&&(r._panes=s)}},hostVars:2,hostBindings:function(t,r){2&t&&c.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[c.jDz],attrs:FH,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&c.YNc(0,UH,1,1,"ng-template",0),2&t&&c.Q6J("ngForOf",r.nav.items)},dependencies:[tM,Nr,sn,gr],encapsulation:2,changeDetection:0}),n})(),a2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[o2]}),n})(),XG=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),l2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),n})(),u2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),n})(),c2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),n})(),d2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),n})(),h2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),n})(),f2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),n})(),p2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),n})(),g2=(()=>{class n{constructor(t){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new c.vpe(!0),this.disabled=t.disabled,this.boundaryLinks=t.boundaryLinks,this.directionLinks=t.directionLinks,this.ellipses=t.ellipses,this.maxSize=t.maxSize,this.pageSize=t.pageSize,this.rotate=t.rotate,this.size=t.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,r){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),r<this.pageCount&&(r<this.pageCount-2?this.pages.push(-1):r===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,r=this.pageCount,s=Math.floor(this.maxSize/2);return this.page<=s?r=this.maxSize:this.pageCount-this.page<s?t=this.pageCount-this.maxSize:(t=this.page-s-1,r=this.page+(this.maxSize%2==0?s-1:s)),[t,r]}_applyPagination(){let r=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[r,r+this.maxSize]}_setPageInRange(t){const r=this.page;this.page=TT(t,this.pageCount,1),this.page!==r&&Ss(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Ss(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let r=1;r<=this.pageCount;r++)this.pages.push(r);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let r=0,s=this.pageCount;[r,s]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(r,s),this._applyEllipses(r,s)}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(XG))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-pagination"]],contentQueries:function(t,r,s){if(1&t&&(c.Suo(s,l2,5),c.Suo(s,u2,5),c.Suo(s,c2,5),c.Suo(s,d2,5),c.Suo(s,h2,5),c.Suo(s,f2,5),c.Suo(s,p2,5)),2&t){let u;c.iGM(u=c.CRH())&&(r.tplEllipsis=u.first),c.iGM(u=c.CRH())&&(r.tplFirst=u.first),c.iGM(u=c.CRH())&&(r.tplLast=u.first),c.iGM(u=c.CRH())&&(r.tplNext=u.first),c.iGM(u=c.CRH())&&(r.tplNumber=u.first),c.iGM(u=c.CRH())&&(r.tplPrevious=u.first),c.iGM(u=c.CRH())&&(r.tplPages=u.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[c.TTD,c.jDz],decls:20,vars:12,consts:function(){let e,t,r,s,u,h,_,w;return e=$localize`:@@ngb.pagination.first:`,t=$localize`:@@ngb.pagination.previous:`,r=$localize`:@@ngb.pagination.next:`,s=$localize`:@@ngb.pagination.last:`,u=$localize`:@@ngb.pagination.first-aria:First`,h=$localize`:@@ngb.pagination.previous-aria:Previous`,_=$localize`:@@ngb.pagination.next-aria:Next`,w=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],e,t,r,s,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",u,"href","",1,"page-link",3,"click"],["aria-label",h,"href","",1,"page-link",3,"click"],["aria-label",_,"href","",1,"page-link",3,"click"],["aria-label",w,"href","",1,"page-link",3,"click"]]},template:function(t,r){if(1&t&&(c.YNc(0,$H,2,0,"ng-template",null,0,c.W1O),c.YNc(2,HH,2,0,"ng-template",null,1,c.W1O),c.YNc(4,jH,2,0,"ng-template",null,2,c.W1O),c.YNc(6,GH,2,0,"ng-template",null,3,c.W1O),c.YNc(8,qH,1,0,"ng-template",null,4,c.W1O),c.YNc(10,WH,2,2,"ng-template",null,5,c.W1O),c.YNc(12,tj,1,1,"ng-template",null,6,c.W1O),c.TgZ(14,"ul"),c.YNc(15,rj,3,9,"li",7),c.YNc(16,oj,3,8,"li",7),c.YNc(17,aj,0,0,"ng-template",8),c.YNc(18,uj,3,9,"li",7),c.YNc(19,dj,3,9,"li",7),c.qZA()),2&t){const s=c.MAs(13);c.xp6(14),c.Tol("pagination"+(r.size?" pagination-"+r.size:"")),c.xp6(1),c.Q6J("ngIf",r.boundaryLinks),c.xp6(1),c.Q6J("ngIf",r.directionLinks),c.xp6(1),c.Q6J("ngTemplateOutlet",(null==r.tplPages?null:r.tplPages.templateRef)||s)("ngTemplateOutletContext",c.kEZ(8,hj,r.page,r.pages,r.disabled)),c.xp6(1),c.Q6J("ngIf",r.directionLinks),c.xp6(1),c.Q6J("ngIf",r.boundaryLinks)}},dependencies:[sn,Nr,gr],encapsulation:2,changeDetection:0}),n})(),m2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[g2]}),n})(),y2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),s8=(()=>{class n{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),o8=(()=>{class n{constructor(t){this.value=0,this.max=t.max,this.animated=t.animated,this.ariaLabel=t.ariaLabel,this.striped=t.striped,this.textType=t.textType,this.type=t.type,this.showValue=t.showValue,this.height=t.height}set max(t){this._max=!Ss(t)||t<=0?100:t}get max(){return this._max}getValue(){return TT(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(s8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-progressbar"]],hostAttrs:[1,"progress"],hostVars:2,hostBindings:function(t,r){2&t&&c.Udp("height",r.height)},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[c.jDz],ngContentSelectors:LN,decls:3,vars:12,consts:function(){let e;return e=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[["role","progressbar","aria-valuemin","0"],[4,"ngIf"],e]},template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"div",0),c.YNc(1,gj,3,3,"span",1),c.Hsn(2),c.qZA()),2&t&&(c.DjV("progress-bar",r.type?" bg-"+r.type:"","",r.textType?" text-"+r.textType:"","\n    ",r.animated?" progress-bar-animated":"","",r.striped?" progress-bar-striped":"",""),c.Udp("width",r.getPercentValue(),"%"),c.uIk("aria-valuenow",r.getValue())("aria-valuemax",r.max)("aria-label",r.ariaLabel),c.xp6(1),c.Q6J("ngIf",r.showValue))},dependencies:[sn,Lu],encapsulation:2,changeDetection:0}),n})(),v2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[o8]}),n})(),a8=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),l8=(()=>{class n{constructor(t,r){this._changeDetectorRef=r,this.contexts=[],this.disabled=!1,this.hover=new c.vpe,this.leave=new c.vpe,this.rateChange=new c.vpe(!0),this.onChange=s=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly,this.tabindex=t.tabindex}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case cr.ArrowDown:case cr.ArrowLeft:this.update(this.rate-1);break;case cr.ArrowUp:case cr.ArrowRight:this.update(this.rate+1);break;case cr.Home:this.update(0);break;case cr.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate),t.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,r=!0){const s=TT(t,this.max,0);this.isInteractive()&&this.rate!==s&&(this.rate=s,this.rateChange.emit(this.rate)),r&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((r,s)=>r.fill=Math.round(100*TT(t-s,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(t,r)=>({fill:0,index:r}))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(a8),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(t,r,s){if(1&t&&c.Suo(s,c.Rgc,5),2&t){let u;c.iGM(u=c.CRH())&&(r.starTemplateFromContent=u.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,r){1&t&&c.NdJ("blur",function(){return r.handleBlur()})("keydown",function(u){return r.handleKeyDown(u)})("mouseleave",function(){return r.reset()}),2&t&&(c.Ikx("tabindex",r.disabled?-1:r.tabindex),c.uIk("aria-valuemax",r.max)("aria-valuenow",r.nextRate)("aria-valuetext",r.ariaValueText())("aria-disabled",!!r.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[c._Bn([{provide:oe,useExisting:(0,c.Gpc)(()=>n),multi:!0}]),c.TTD,c.jDz],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(c.YNc(0,mj,1,1,"ng-template",null,0,c.W1O),c.YNc(2,yj,4,5,"ng-template",1)),2&t&&(c.xp6(2),c.Q6J("ngForOf",r.contexts))},dependencies:[Nr,gr],encapsulation:2,changeDetection:0}),n})(),b2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[l8]}),n})();class E2{constructor(e,t,r){this.hour=Da(e),this.minute=Da(t),this.second=Da(r)}changeHour(e=1){this.updateHour((isNaN(this.hour)?0:this.hour)+e)}updateHour(e){this.hour=Ss(e)?(e<0?24+e:e)%24:NaN}changeMinute(e=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+e)}updateMinute(e){Ss(e)?(this.minute=e%60<0?60+e%60:e%60,this.changeHour(Math.floor(e/60))):this.minute=NaN}changeSecond(e=1){this.updateSecond((isNaN(this.second)?0:this.second)+e)}updateSecond(e){Ss(e)?(this.second=e<0?60+e%60:e%60,this.changeMinute(Math.floor(e/60))):this.second=NaN}isValid(e=!0){return Ss(this.hour)&&Ss(this.minute)&&(!e||Ss(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let u8=(()=>{class n{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function c8(){return new d8}()},providedIn:"root"}),n})(),d8=(()=>{class n extends w2{fromModel(t){return t&&ts(t.hour)&&ts(t.minute)?{hour:t.hour,minute:t.minute,second:ts(t.second)?t.second:null}:null}toModel(t){return t&&ts(t.hour)&&ts(t.minute)?{hour:t.hour,minute:t.minute,second:ts(t.second)?t.second:null}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),C2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function h8(n){return new f8(n)}(c.LFG(c.soG)),r},providedIn:"root"}),n})(),f8=(()=>{class n extends C2{constructor(t){super(),this._periods=Gt(t,ie.Standalone,fe.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.soG))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const p8=/[^0-9]/g;let g8=(()=>{class n{constructor(t,r,s,u){this._config=t,this._ngbTimeAdapter=r,this._cd=s,this.i18n=u,this.onChange=h=>{},this.onTouched=()=>{},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}set hourStep(t){this._hourStep=ts(t)?t:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(t){this._minuteStep=ts(t)?t:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(t){this._secondStep=ts(t)?t:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(t){const r=this._ngbTimeAdapter.fromModel(t);this.model=r?new E2(r.hour,r.minute,r.second):new E2,!this.seconds&&(!r||!Ss(r.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}changeHour(t){this.model?.changeHour(t),this.propagateModelChange()}changeMinute(t){this.model?.changeMinute(t),this.propagateModelChange()}changeSecond(t){this.model?.changeSecond(t),this.propagateModelChange()}updateHour(t){const r=!!this.model&&this.model.hour>=12,s=Da(t);this.model?.updateHour(this.meridian&&(r&&s<12||!r&&12===s)?s+12:s),this.propagateModelChange()}updateMinute(t){this.model?.updateMinute(Da(t)),this.propagateModelChange()}updateSecond(t){this.model?.updateSecond(Da(t)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(t){t.value=t.value.replace(p8,"")}formatHour(t){return Ss(t)?rw(this.meridian?t%12==0?12:t%12:t%24):rw(NaN)}formatMinSec(t){return rw(Ss(t)?t:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(t){t.seconds&&!this.seconds&&this.model&&!Ss(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(t=!0){t&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(u8),c.Y36(w2),c.Y36(c.sBO),c.Y36(C2))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[c._Bn([{provide:oe,useExisting:(0,c.Gpc)(()=>n),multi:!0}]),c.TTD,c.jDz],decls:16,vars:25,consts:function(){let e,t,r,s,u,h,_,w,T,N,L,j,z,Q;return e=$localize`:@@ngb.timepicker.HH:HH`,t=$localize`:@@ngb.timepicker.hours:Hours`,r=$localize`:@@ngb.timepicker.MM:MM`,s=$localize`:@@ngb.timepicker.minutes:Minutes`,u=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,h=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,_=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,w=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,T=$localize`:@@ngb.timepicker.SS:SS`,N=$localize`:@@ngb.timepicker.seconds:Seconds`,L=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,j=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,z=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,Q=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",e,"aria-label",t,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",r,"aria-label",s,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],u,[1,"chevron","ngb-tp-chevron","bottom"],h,_,w,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",T,"aria-label",N,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],L,j,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],z,Q]},template:function(t,r){1&t&&(c.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),c.YNc(3,vj,4,7,"button",3),c.TgZ(4,"input",4),c.NdJ("change",function(u){return r.updateHour(u.target.value)})("blur",function(){return r.handleBlur()})("input",function(u){return r.formatInput(u.target)})("keydown.ArrowUp",function(u){return r.changeHour(r.hourStep),u.preventDefault()})("keydown.ArrowDown",function(u){return r.changeHour(-r.hourStep),u.preventDefault()}),c.qZA(),c.YNc(5,bj,4,7,"button",3),c.qZA(),c.TgZ(6,"div",5),c._uU(7,":"),c.qZA(),c.TgZ(8,"div",6),c.YNc(9,Ej,4,7,"button",3),c.TgZ(10,"input",7),c.NdJ("change",function(u){return r.updateMinute(u.target.value)})("blur",function(){return r.handleBlur()})("input",function(u){return r.formatInput(u.target)})("keydown.ArrowUp",function(u){return r.changeMinute(r.minuteStep),u.preventDefault()})("keydown.ArrowDown",function(u){return r.changeMinute(-r.minuteStep),u.preventDefault()}),c.qZA(),c.YNc(11,wj,4,7,"button",3),c.qZA(),c.YNc(12,Cj,2,0,"div",8),c.YNc(13,Tj,4,9,"div",9),c.YNc(14,Ij,1,0,"div",8),c.YNc(15,Nj,5,9,"div",10),c.qZA()()),2&t&&(c.ekj("disabled",r.disabled),c.Q6J("disabled",r.disabled),c.xp6(3),c.Q6J("ngIf",r.spinners),c.xp6(1),c.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),c.Q6J("value",r.formatHour(null==r.model?null:r.model.hour))("readOnly",r.readonlyInputs)("disabled",r.disabled),c.xp6(1),c.Q6J("ngIf",r.spinners),c.xp6(4),c.Q6J("ngIf",r.spinners),c.xp6(1),c.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),c.Q6J("value",r.formatMinSec(null==r.model?null:r.model.minute))("readOnly",r.readonlyInputs)("disabled",r.disabled),c.xp6(1),c.Q6J("ngIf",r.spinners),c.xp6(1),c.Q6J("ngIf",r.seconds),c.xp6(1),c.Q6J("ngIf",r.seconds),c.xp6(1),c.Q6J("ngIf",r.meridian),c.xp6(1),c.Q6J("ngIf",r.meridian))},dependencies:[sn],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),n})(),D2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[g8]}),n})();const m8=(n,e)=>{const{classList:t}=n;if(e)return t.add("fade"),AT(n),t.add("show","showing"),()=>{t.remove("showing")};t.add("show")},_8=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let y8=(()=>{class n{constructor(t){this._ngbConfig=t,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(UD))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),v8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0}),n})(),b8=(()=>{class n{constructor(t,r,s,u){this.ariaLive=t,this._zone=s,this._element=u,this.contentHeaderTpl=null,this.shown=new c.vpe,this.hidden=new c.vpe,null==this.ariaLive&&(this.ariaLive=r.ariaLive),this.delay=r.delay,this.autohide=r.autohide,this.animation=r.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(Es(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=df(this._zone,this._element.nativeElement,_8,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=df(this._zone,this._element.nativeElement,m8,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return n.\u0275fac=function(t){return new(t||n)(c.$8M("aria-live"),c.Y36(y8),c.Y36(c.R0b),c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-toast"]],contentQueries:function(t,r,s){if(1&t&&c.Suo(s,v8,7,c.Rgc),2&t){let u;c.iGM(u=c.CRH())&&(r.contentHeaderTpl=u.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(t,r){2&t&&(c.uIk("aria-live",r.ariaLive),c.ekj("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[c.TTD,c.jDz],ngContentSelectors:LN,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(c.F$t(),c.YNc(0,Mj,2,1,"ng-template",null,0,c.W1O),c.YNc(2,Pj,3,1,"ng-template",1),c.TgZ(3,"div",2),c.Hsn(4),c.qZA()),2&t&&(c.xp6(2),c.Q6J("ngIf",r.contentHeaderTpl||r.header))},dependencies:[sn,gr],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),n})(),S2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[b8]}),n})(),T2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),E8=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const r=bk(this.result),s=Array.isArray(this.term)?this.term:[this.term],u=T=>this.accentSensitive?T:Ck(T),h=s.map(T=>function Vj(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(u(bk(T)))).filter(T=>T),_=this.accentSensitive?r:Ck(r),w=h.length?_.split(new RegExp(`(${h.join("|")})`,"gmi")):[r];if(this.accentSensitive)this.parts=w;else{let T=0;this.parts=w.map(N=>r.substring(T,T+=N.length))}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[c.TTD,c.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(t,r){1&t&&c.YNc(0,Fj,3,2,"ng-template",0),2&t&&c.Q6J("ngForOf",r.parts)},dependencies:[sn,Nr],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),n})();new c.OlP("live announcer delay",{providedIn:"root",factory:function w8(){return 100}});let I2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[E8]}),n})(),A2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const C8=[xk,Nk,Rk,Pk,Qk,t2,n2,a2,A2,m2,y2,v2,b2,D2,S2,T2,I2];let D8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[C8,xk,Nk,Rk,Pk,Qk,t2,n2,a2,A2,m2,y2,v2,b2,D2,S2,T2,I2]}),n})();function S8(n,e){1&n&&(c.TgZ(0,"li",8)(1,"a",13),c._uU(2,"Cart"),c.qZA()())}function T8(n,e){1&n&&(c.TgZ(0,"li",8)(1,"a",14),c._uU(2,"Log In"),c.qZA()())}function I8(n,e){1&n&&(c.TgZ(0,"li",8)(1,"a",15),c._uU(2,"Sign Up"),c.qZA()())}function A8(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"li",8)(1,"button",16),c.NdJ("click",function(){c.CHM(t);const s=c.oxw();return c.KtG(s.logout())}),c._uU(2,"Log Out"),c.qZA()()}}function x8(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",17)(1,"input",18),c.NdJ("ngModelChange",function(s){c.CHM(t);const u=c.oxw();return c.KtG(u.query=s)})("ngModelChange",function(){c.CHM(t);const s=c.oxw();return c.KtG(s.onSearch())}),c.qZA(),c.TgZ(2,"button",19),c.NdJ("click",function(){c.CHM(t);const s=c.oxw();return c.KtG(s.onSearch())}),c._uU(3,"Search"),c.qZA()()}if(2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngModel",t.query)}}const x2=function(n){return{"category-active":n}};function N8(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"p",22),c.NdJ("click",function(){const u=c.CHM(t).$implicit,h=c.oxw(2);return c.KtG(h.getProductsByCategory(u))}),c._uU(1),c.qZA()}if(2&n){const t=e.$implicit,r=c.oxw(2);c.Q6J("ngClass",c.VKq(2,x2,r.currentCategory===t)),c.xp6(1),c.Oqu(t)}}function M8(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",20),c.YNc(1,N8,2,4,"p",21),c.TgZ(2,"p",22),c.NdJ("click",function(){c.CHM(t);const s=c.oxw();return c.KtG(s.getAllProducts())}),c._uU(3,"All"),c.qZA()()}if(2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.categories),c.xp6(1),c.Q6J("ngClass",c.VKq(2,x2,"all"===t.currentCategory))}}const R8=function(){return[""]},P8=function(){return{exact:!0}};class GD{constructor(e,t,r){this.as=e,this.ps=t,this.router=r,this.isOpen=!1,this.isUser=!1,this.query="",this.add=-1,this.currentCategory="all"}ngOnInit(){this.as.userObservable.subscribe(e=>{e?(this.isUser=!0,this.as.userId=e.uid):(this.isUser=!1,this.as.userId="")}),this.ps.categoriesChanged.subscribe(e=>{this.categories=e}),this.ps.getAllCategories(),console.log(this.categories)}toggleHeader(){this.isOpen=!this.isOpen}logout(){this.as.logout()}onSearch(){this.products=this.ps.getProductsByName(this.query)}getProductsByCategory(e){console.log(e),this.ps.getProductsByCategory(e),this.currentCategory=e}getAllProducts(){this.ps.getAllProducts(),this.currentCategory="all"}getProducts(){this.ps.getAllProducts().subscribe(e=>{this.products=e.products,console.log(this.products)})}}GD.\u0275fac=function(e){return new(e||GD)(c.Y36(lf),c.Y36(ey),c.Y36(Yi))},GD.\u0275cmp=c.Xpm({type:GD,selectors:[["app-header"]],decls:18,vars:12,consts:[[1,"body"],[1,"navbar","navbar-expand-lg","bg-light"],[1,"container-fluid"],[1,"navbar-brand",3,"routerLink"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","/","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["class","nav-item",4,"ngIf"],["class","d-flex","role","search",4,"ngIf"],["class","categories-container",4,"ngIf"],["routerLink","/cart","routerLinkActive","active",1,"nav-link"],["aria-current","page","routerLink","/login","routerLinkActive","active",1,"nav-link"],["routerLink","/signup","routerLinkActive","active",1,"nav-link"],[1,"btn","btn-danger",3,"click"],["role","search",1,"d-flex"],["type","text","placeholder","Enter name of Product ...",1,"form-control","me-2",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-outline-success",3,"click"],[1,"categories-container"],["class","category",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"category",3,"ngClass","click"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0)(1,"nav",1)(2,"div",2)(3,"a",3),c._uU(4,"EMI Market"),c.qZA(),c.TgZ(5,"button",4),c.NdJ("click",function(){return t.toggleHeader()}),c._UZ(6,"span",5),c.qZA(),c.TgZ(7,"div",6)(8,"ul",7)(9,"li",8)(10,"a",9),c._uU(11,"Home"),c.qZA()(),c.YNc(12,S8,3,0,"li",10),c.YNc(13,T8,3,0,"li",10),c.YNc(14,I8,3,0,"li",10),c.YNc(15,A8,3,0,"li",10),c.qZA(),c.YNc(16,x8,4,1,"div",11),c.qZA()()(),c.YNc(17,M8,4,4,"div",12),c.qZA()),2&e&&(c.xp6(3),c.Q6J("routerLink",c.DdM(10,R8)),c.xp6(4),c.ekj("show",t.isOpen),c.xp6(3),c.Q6J("routerLinkActiveOptions",c.DdM(11,P8)),c.xp6(2),c.Q6J("ngIf",t.isUser),c.xp6(1),c.Q6J("ngIf",!t.isUser),c.xp6(1),c.Q6J("ngIf",!t.isUser),c.xp6(1),c.Q6J("ngIf",t.isUser),c.xp6(1),c.Q6J("ngIf","/"===t.router.url),c.xp6(1),c.Q6J("ngIf","/"===t.router.url))},dependencies:[co,Nr,sn,ip,Mc,JN,on,wl,fu],styles:[".categories-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;flex-wrap:wrap;margin:0 10px}.category[_ngcontent-%COMP%]{padding:5px 15px;border:1px #385f96 solid;border-radius:20px;font-family:Poppins,sans-serif,Arial;color:#385f96;cursor:pointer;transition:all .2s ease-out}.category[_ngcontent-%COMP%]:hover{background-color:#c4450f;color:#fff}.category-active[_ngcontent-%COMP%]{background-color:#c42810;color:#fff}.category[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}"]});class qD{constructor(){}ngOnInit(){}getYear(){return(new Date).getFullYear().toString()}}qD.\u0275fac=function(e){return new(e||qD)},qD.\u0275cmp=c.Xpm({type:qD,selectors:[["app-footer"]],decls:29,vars:1,consts:[[1,"bg-dark","text-white","p-4"],[1,"container"],[1,"row"],[1,"col-md-4"],[1,"logo"],[1,"copyright"],[1,"list-unstyled"],[1,"list-group"],["href","#"]],template:function(e,t){1&e&&(c.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),c._uU(5,"EMI Market"),c.qZA(),c.TgZ(6,"p",5),c._uU(7),c.qZA()(),c.TgZ(8,"div",3)(9,"h4"),c._uU(10,"Contact"),c.qZA(),c.TgZ(11,"ul",6)(12,"li"),c._uU(13,"Email: contact@example.com"),c.qZA(),c.TgZ(14,"li"),c._uU(15,"T\xe9l\xe9phone: 555-555-5555"),c.qZA()()(),c.TgZ(16,"div",3)(17,"h4"),c._uU(18,"Liens"),c.qZA(),c.TgZ(19,"ul",7)(20,"li")(21,"a",8),c._uU(22,"Accueil"),c.qZA()(),c.TgZ(23,"li")(24,"a",8),c._uU(25,"\xc0 propos"),c.qZA()(),c.TgZ(26,"li")(27,"a",8),c._uU(28,"Services"),c.qZA()()()()()()()),2&e&&(c.xp6(7),c.hij("\xa9 ",t.getYear()," El Jazouli - Ifrah, All Rights Reserved"))},styles:[".logo[_ngcontent-%COMP%]{font-family:Poppins,sans-serif,Arial;letter-spacing:2px;font-size:34px;color:#c42810;font-weight:500}.copyright[_ngcontent-%COMP%]{color:#2a8ea0;font-family:Poppins,sans-serif,Arial;font-size:15px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]});class zD{constructor(){this.title="ecommerce-app"}ngOnInit(){}}zD.\u0275fac=function(e){return new(e||zD)},zD.\u0275cmp=c.Xpm({type:zD,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"container"]],template:function(e,t){1&e&&(c._UZ(0,"app-header"),c.TgZ(1,"div",0),c._UZ(2,"router-outlet"),c.qZA(),c._UZ(3,"app-footer"))},dependencies:[Wa,GD,qD],styles:["app-header[_ngcontent-%COMP%]{width:100%}.nav[_ngcontent-%COMP%]{margin-bottom:15px}"],data:{animation:[]}});class N2{}class O8{}const hm="*";function M2(n,e=null){return{type:2,steps:n,options:e}}function R2(n){return{type:6,styles:n,offset:null}}function P2(n){Promise.resolve().then(n)}class WD{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){P2(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class O2{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,s=0;const u=this.players.length;0==u?P2(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++t==u&&this._onFinish()}),h.onDestroy(()=>{++r==u&&this._onDestroy()}),h.onStart(()=>{++s==u&&this._onStart()})}),this.totalTime=this.players.reduce((h,_)=>Math.max(h,_.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const s=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(s)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function k2(n){return new c.vHH(3e3,!1)}function g6(){return typeof window<"u"&&typeof window.document<"u"}function rM(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ry(n){switch(n.length){case 0:return new WD;case 1:return n[0];default:return new O2(n)}}function F2(n,e,t,r,s=new Map,u=new Map){const h=[],_=[];let w=-1,T=null;if(r.forEach(N=>{const L=N.get("offset"),j=L==w,z=j&&T||new Map;N.forEach((Q,le)=>{let ve=le,He=Q;if("offset"!==le)switch(ve=e.normalizePropertyName(ve,h),He){case"!":He=s.get(le);break;case hm:He=u.get(le);break;default:He=e.normalizeStyleValue(le,ve,He,h)}z.set(ve,He)}),j||_.push(z),T=z,w=L}),h.length)throw function r6(n){return new c.vHH(3502,!1)}();return _}function iM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&sM(t,"start",n)));break;case"done":n.onDone(()=>r(t&&sM(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&sM(t,"destroy",n)))}}function sM(n,e,t){const u=oM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),h=n._data;return null!=h&&(u._data=h),u}function oM(n,e,t,r,s="",u=0,h){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:s,totalTime:u,disabled:!!h}}function $c(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function L2(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let aM=(n,e)=>!1,B2=(n,e,t)=>[],V2=null;function lM(n){const e=n.parentNode||n.host;return e===V2?null:e}(rM()||typeof Element<"u")&&(g6()?(V2=(()=>document.documentElement)(),aM=(n,e)=>{for(;e;){if(e===n)return!0;e=lM(e)}return!1}):aM=(n,e)=>n.contains(e),B2=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let d0=null,U2=!1;const $2=aM,H2=B2;let j2=(()=>{class n{validateStyleProperty(t){return function _6(n){d0||(d0=function y6(){return typeof document<"u"?document.body:null}()||{},U2=!!d0.style&&"WebkitAppearance"in d0.style);let e=!0;return d0.style&&!function m6(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in d0.style,!e&&U2&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in d0.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return $2(t,r)}getParentElement(t){return lM(t)}query(t,r,s){return H2(t,r,s)}computeStyle(t,r,s){return s||""}animate(t,r,s,u,h,_=[],w){return new WD(s,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),uM=(()=>{class n{}return n.NOOP=new j2,n})();const cM="ng-enter",UT="ng-leave",$T="ng-trigger",HT=".ng-trigger",q2="ng-animating",dM=".ng-animating";function fm(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:hM(parseFloat(e[1]),e[2])}function hM(n,e){return"s"===e?1e3*n:n}function jT(n,e,t){return n.hasOwnProperty("duration")?n:function E6(n,e,t){let s,u=0,h="";if("string"==typeof n){const _=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_)return e.push(k2()),{duration:0,delay:0,easing:""};s=hM(parseFloat(_[1]),_[2]);const w=_[3];null!=w&&(u=hM(parseFloat(w),_[4]));const T=_[5];T&&(h=T)}else s=n;if(!t){let _=!1,w=e.length;s<0&&(e.push(function k8(){return new c.vHH(3100,!1)}()),_=!0),u<0&&(e.push(function F8(){return new c.vHH(3101,!1)}()),_=!0),_&&e.splice(w,0,k2())}return{duration:s,delay:u,easing:h}}(n,e,t)}function KD(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function z2(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function iy(n,e=new Map,t){if(t)for(let[r,s]of t)e.set(r,s);for(let[r,s]of n)e.set(r,s);return e}function K2(n,e,t){return t?e+":"+t+";":""}function Z2(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=K2(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=K2(0,S6(t),n.style[t]));n.setAttribute("style",e)}function Tp(n,e,t){n.style&&(e.forEach((r,s)=>{const u=pM(s);t&&!t.has(s)&&t.set(s,n.style[u]),n.style[u]=r}),rM()&&Z2(n))}function h0(n,e){n.style&&(e.forEach((t,r)=>{const s=pM(r);n.style[s]=""}),rM()&&Z2(n))}function ZD(n){return Array.isArray(n)?1==n.length?n[0]:M2(n):n}const fM=new RegExp("{{\\s*(.+?)\\s*}}","g");function Y2(n){let e=[];if("string"==typeof n){let t;for(;t=fM.exec(n);)e.push(t[1]);fM.lastIndex=0}return e}function YD(n,e,t){const r=n.toString(),s=r.replace(fM,(u,h)=>{let _=e[h];return null==_&&(t.push(function B8(n){return new c.vHH(3003,!1)}()),_=""),_.toString()});return s==r?n:s}function GT(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const D6=/-+([a-z0-9])/g;function pM(n){return n.replace(D6,(...e)=>e[1].toUpperCase())}function S6(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Hc(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function V8(n){return new c.vHH(3004,!1)}()}}function J2(n,e){return window.getComputedStyle(n)[e]}function M6(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function R6(n,e,t){if(":"==n[0]){const w=function P6(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function X8(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof w)return void e.push(w);n=w}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Q8(n){return new c.vHH(3015,!1)}()),e;const s=r[1],u=r[2],h=r[3];e.push(Q2(s,h));"<"==u[0]&&!("*"==s&&"*"==h)&&e.push(Q2(h,s))}(r,t,e)):t.push(n),t}const KT=new Set(["true","1"]),ZT=new Set(["false","0"]);function Q2(n,e){const t=KT.has(n)||ZT.has(n),r=KT.has(e)||ZT.has(e);return(s,u)=>{let h="*"==n||n==s,_="*"==e||e==u;return!h&&t&&"boolean"==typeof s&&(h=s?KT.has(n):ZT.has(n)),!_&&r&&"boolean"==typeof u&&(_=u?KT.has(e):ZT.has(e)),h&&_}}const O6=new RegExp("s*:selfs*,?","g");function gM(n,e,t,r){return new k6(n).build(e,t,r)}class k6{constructor(e){this._driver=e}build(e,t,r){const s=new B6(t);return this._resetContextStyleTimingState(s),Hc(this,ZD(e),s)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,s=t.depCount=0;const u=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push(function $8(){return new c.vHH(3006,!1)}()),e.definitions.forEach(_=>{if(this._resetContextStyleTimingState(t),0==_.type){const w=_,T=w.name;T.toString().split(/\s*,\s*/).forEach(N=>{w.name=N,u.push(this.visitState(w,t))}),w.name=T}else if(1==_.type){const w=this.visitTransition(_,t);r+=w.queryCount,s+=w.depCount,h.push(w)}else t.errors.push(function H8(){return new c.vHH(3007,!1)}())}),{type:7,name:e.name,states:u,transitions:h,queryCount:r,depCount:s,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,h=s||{};r.styles.forEach(_=>{_ instanceof Map&&_.forEach(w=>{Y2(w).forEach(T=>{h.hasOwnProperty(T)||u.add(T)})})}),u.size&&(GT(u.values()),t.errors.push(function j8(n,e){return new c.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Hc(this,ZD(e.animation),t);return{type:1,matchers:M6(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:f0(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Hc(this,r,t)),options:f0(e.options)}}visitGroup(e,t){const r=t.currentTime;let s=0;const u=e.steps.map(h=>{t.currentTime=r;const _=Hc(this,h,t);return s=Math.max(s,t.currentTime),_});return t.currentTime=s,{type:3,steps:u,options:f0(e.options)}}visitAnimate(e,t){const r=function U6(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return mM(jT(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=mM(0,0,"");return u.dynamic=!0,u.strValue=t,u}const s=jT(t,e);return mM(s.duration,s.delay,s.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let s,u=e.styles?e.styles:R2({});if(5==u.type)s=this.visitKeyframes(u,t);else{let h=e.styles,_=!1;if(!h){_=!0;const T={};r.easing&&(T.easing=r.easing),h=R2(T)}t.currentTime+=r.duration+r.delay;const w=this.visitStyle(h,t);w.isEmptyStep=_,s=w}return t.currentAnimateTimings=null,{type:4,timings:r,style:s,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],s=Array.isArray(e.styles)?e.styles:[e.styles];for(let _ of s)"string"==typeof _?_===hm?r.push(_):t.errors.push(new c.vHH(3002,!1)):r.push(z2(_));let u=!1,h=null;return r.forEach(_=>{if(_ instanceof Map&&(_.has("easing")&&(h=_.get("easing"),_.delete("easing")),!u))for(let w of _.values())if(w.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:r,easing:h,offset:e.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let s=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(h=>{"string"!=typeof h&&h.forEach((_,w)=>{const T=t.collectedStyles.get(t.currentQuerySelector),N=T.get(w);let L=!0;N&&(u!=s&&u>=N.startTime&&s<=N.endTime&&(t.errors.push(function q8(n,e,t,r,s){return new c.vHH(3010,!1)}()),L=!1),u=N.startTime),L&&T.set(w,{startTime:u,endTime:s}),t.options&&function C6(n,e,t){const r=e.params||{},s=Y2(n);s.length&&s.forEach(u=>{r.hasOwnProperty(u)||t.push(function L8(n){return new c.vHH(3001,!1)}())})}(_,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function z8(){return new c.vHH(3011,!1)}()),r;let u=0;const h=[];let _=!1,w=!1,T=0;const N=e.steps.map(He=>{const nt=this._makeStyleAst(He,t);let ht=null!=nt.offset?nt.offset:function V6(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(nt.styles),it=0;return null!=ht&&(u++,it=nt.offset=ht),w=w||it<0||it>1,_=_||it<T,T=it,h.push(it),nt});w&&t.errors.push(function W8(){return new c.vHH(3012,!1)}()),_&&t.errors.push(function K8(){return new c.vHH(3200,!1)}());const L=e.steps.length;let j=0;u>0&&u<L?t.errors.push(function Z8(){return new c.vHH(3202,!1)}()):0==u&&(j=1/(L-1));const z=L-1,Q=t.currentTime,le=t.currentAnimateTimings,ve=le.duration;return N.forEach((He,nt)=>{const ht=j>0?nt==z?1:j*nt:h[nt],it=ht*ve;t.currentTime=Q+le.delay+it,le.duration=it,this._validateStyleAst(He,t),He.offset=ht,r.styles.push(He)}),r}visitReference(e,t){return{type:8,animation:Hc(this,ZD(e.animation),t),options:f0(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:f0(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:f0(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;const[u,h]=function F6(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(O6,"")),n=n.replace(/@\*/g,HT).replace(/@\w+/g,t=>HT+"-"+t.slice(1)).replace(/:animating/g,dM),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,$c(t.collectedStyles,t.currentQuerySelector,new Map);const _=Hc(this,ZD(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:s.limit||0,optional:!!s.optional,includeSelf:h,animation:_,originalSelector:e.selector,options:f0(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Y8(){return new c.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:jT(e.timings,t.errors,!0);return{type:12,animation:Hc(this,ZD(e.animation),t),timings:r,options:null}}}class B6{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function f0(n){return n?(n=KD(n)).params&&(n.params=function L6(n){return n?KD(n):null}(n.params)):n={},n}function mM(n,e,t){return{duration:n,delay:e,easing:t}}function _M(n,e,t,r,s,u,h=null,_=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:s,delay:u,totalTime:s+u,easing:h,subTimeline:_}}class YT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const j6=new RegExp(":enter","g"),q6=new RegExp(":leave","g");function yM(n,e,t,r,s,u=new Map,h=new Map,_,w,T=[]){return(new z6).buildKeyframes(n,e,t,r,s,u,h,_,w,T)}class z6{buildKeyframes(e,t,r,s,u,h,_,w,T,N=[]){T=T||new YT;const L=new vM(e,t,T,s,u,N,[]);L.options=w;const j=w.delay?fm(w.delay):0;L.currentTimeline.delayNextStep(j),L.currentTimeline.setStyles([h],null,L.errors,w),Hc(this,r,L);const z=L.timelines.filter(Q=>Q.containsAnimation());if(z.length&&_.size){let Q;for(let le=z.length-1;le>=0;le--){const ve=z[le];if(ve.element===t){Q=ve;break}}Q&&!Q.allowOnlyTimelineStyles()&&Q.setStyles([_],null,L.errors,w)}return z.length?z.map(Q=>Q.buildKeyframes()):[_M(t,[],[],[],0,j,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const s=t.createSubContext(e.options),u=t.currentTimeline.currentTime,h=this._visitSubInstructions(r,s,s.options);u!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const s of e){const u=s?.delay;if(u){const h="number"==typeof u?u:fm(YD(u,s?.params??{},t.errors));r.delayNextStep(h)}}}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const h=null!=r.duration?fm(r.duration):null,_=null!=r.delay?fm(r.delay):null;return 0!==h&&e.forEach(w=>{const T=t.appendInstructionToTimeline(w,h,_);u=Math.max(u,T.duration+T.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),Hc(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let s=t;const u=e.options;if(u&&(u.params||u.delay)&&(s=t.createSubContext(u),s.transformIntoNewTimeline(),null!=u.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=JT);const h=fm(u.delay);s.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>Hc(this,h,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>r&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let s=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?fm(e.options.delay):0;e.steps.forEach(h=>{const _=t.createSubContext(e.options);u&&_.delayNextStep(u),Hc(this,h,_),s=Math.max(s,_.currentTimeline.currentTime),r.push(_.currentTimeline)}),r.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return jT(t.params?YD(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),s.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,s=t.currentAnimateTimings;!s&&r.hasCurrentStyleProperties()&&r.forwardFrame();const u=s&&s.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,s=t.currentTimeline.duration,u=r.duration,_=t.createSubContext().currentTimeline;_.easing=r.easing,e.styles.forEach(w=>{_.forwardTime((w.offset||0)*u),_.setStyles(w.styles,w.easing,t.errors,t.options),_.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(_),t.transformIntoNewTimeline(s+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,s=e.options||{},u=s.delay?fm(s.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=JT);let h=r;const _=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=_.length;let w=null;_.forEach((T,N)=>{t.currentQueryIndex=N;const L=t.createSubContext(e.options,T);u&&L.delayNextStep(u),T===t.element&&(w=L.currentTimeline),Hc(this,e.animation,L),L.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,L.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),w&&(t.currentTimeline.mergeTimelineCollectedStyles(w),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,s=t.currentTimeline,u=e.timings,h=Math.abs(u.duration),_=h*(t.currentQueryTotal-1);let w=h*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":w=_-w;break;case"full":w=r.currentStaggerTime}const N=t.currentTimeline;w&&N.delayNextStep(w);const L=N.currentTime;Hc(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=s.currentTime-L+(s.startTime-r.currentTimeline.startTime)}}const JT={};class vM{constructor(e,t,r,s,u,h,_,w){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=s,this._leaveClassName=u,this.errors=h,this.timelines=_,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=JT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=w||new QT(this._driver,t,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let s=this.options;null!=r.duration&&(s.duration=fm(r.duration)),null!=r.delay&&(s.delay=fm(r.delay));const u=r.params;if(u){let h=s.params;h||(h=this.options.params={}),Object.keys(u).forEach(_=>{(!t||!h.hasOwnProperty(_))&&(h[_]=YD(u[_],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(s=>{r[s]=t[s]})}}return e}createSubContext(e=null,t,r){const s=t||this.element,u=new vM(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=JT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const s={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},u=new W6(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(u),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,s,u,h){let _=[];if(s&&_.push(this.element),e.length>0){e=(e=e.replace(j6,"."+this._enterClassName)).replace(q6,"."+this._leaveClassName);let T=this._driver.query(this.element,e,1!=r);0!==r&&(T=r<0?T.slice(T.length+r,T.length):T.slice(0,r)),_.push(...T)}return!u&&0==_.length&&h.push(function J8(n){return new c.vHH(3014,!1)}()),_}}class QT{constructor(e,t,r,s){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new QT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||hm),this._currentKeyframe.set(t,hm);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,s){t&&this._previousKeyframe.set("easing",t);const u=s&&s.params||{},h=function K6(n,e){const t=new Map;let r;return n.forEach(s=>{if("*"===s){r=r||e.keys();for(let u of r)t.set(u,hm)}else iy(s,t)}),t}(e,this._globalTimelineStyles);for(let[_,w]of h){const T=YD(w,u,r);this._pendingStyles.set(_,T),this._localTimelineStyles.has(_)||this._backFill.set(_,this._globalTimelineStyles.get(_)??hm),this._updateStyle(_,T)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const s=this._styleSummary.get(r);(!s||t.time>s.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((_,w)=>{const T=iy(_,new Map,this._backFill);T.forEach((N,L)=>{"!"===N?e.add(L):N===hm&&t.add(L)}),r||T.set("offset",w/this.duration),s.push(T)});const u=e.size?GT(e.values()):[],h=t.size?GT(t.values()):[];if(r){const _=s[0],w=new Map(_);_.set("offset",0),w.set("offset",1),s=[_,w]}return _M(this.element,s,u,h,this.duration,this.startTime,this.easing,!1)}}class W6 extends QT{constructor(e,t,r,s,u,h,_=!1){super(e,t,h.delay),this.keyframes=r,this.preStyleProps=s,this.postStyleProps=u,this._stretchStartingKeyframe=_,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],h=r+t,_=t/h,w=iy(e[0]);w.set("offset",0),u.push(w);const T=iy(e[0]);T.set("offset",tF(_)),u.push(T);const N=e.length-1;for(let L=1;L<=N;L++){let j=iy(e[L]);const z=j.get("offset");j.set("offset",tF((t+z*r)/h)),u.push(j)}r=h,t=0,s="",e=u}return _M(this.element,e,this.preStyleProps,this.postStyleProps,r,t,s,!0)}}function tF(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class bM{}const Z6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Y6 extends bM{normalizePropertyName(e,t){return pM(e)}normalizeStyleValue(e,t,r,s){let u="";const h=r.toString().trim();if(Z6.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const _=r.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&0==_[1].length&&s.push(function U8(n,e){return new c.vHH(3005,!1)}())}return h+u}}function nF(n,e,t,r,s,u,h,_,w,T,N,L,j){return{type:0,element:n,triggerName:e,isRemovalTransition:s,fromState:t,fromStyles:u,toState:r,toStyles:h,timelines:_,queriedElements:w,preStyleProps:T,postStyleProps:N,totalTime:L,errors:j}}const EM={};class rF{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,s){return function J6(n,e,t,r,s){return n.some(u=>u(e,t,r,s))}(this.ast.matchers,e,t,r,s)}buildStyles(e,t,r){let s=this._stateStyles.get("*");return void 0!==e&&(s=this._stateStyles.get(e?.toString())||s),s?s.buildStyles(t,r):new Map}build(e,t,r,s,u,h,_,w,T,N){const L=[],j=this.ast.options&&this.ast.options.params||EM,Q=this.buildStyles(r,_&&_.params||EM,L),le=w&&w.params||EM,ve=this.buildStyles(s,le,L),He=new Set,nt=new Map,ht=new Map,it="void"===s,ft={params:Q6(le,j),delay:this.ast.options?.delay},mt=N?[]:yM(e,t,this.ast.animation,u,h,Q,ve,ft,T,L);let Jt=0;if(mt.forEach(kr=>{Jt=Math.max(kr.duration+kr.delay,Jt)}),L.length)return nF(t,this._triggerName,r,s,it,Q,ve,[],[],nt,ht,Jt,L);mt.forEach(kr=>{const Fr=kr.element,Bi=$c(nt,Fr,new Set);kr.preStyleProps.forEach(ns=>Bi.add(ns));const Sa=$c(ht,Fr,new Set);kr.postStyleProps.forEach(ns=>Sa.add(ns)),Fr!==t&&He.add(Fr)});const Pn=GT(He.values());return nF(t,this._triggerName,r,s,it,Q,ve,mt,Pn,nt,ht,Jt)}}function Q6(n,e){const t=KD(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class X6{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,s=KD(this.defaultParams);return Object.keys(e).forEach(u=>{const h=e[u];null!==h&&(s[u]=h)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,_)=>{h&&(h=YD(h,s,t));const w=this.normalizer.normalizePropertyName(_,t);h=this.normalizer.normalizeStyleValue(_,w,h,t),r.set(_,h)})}),r}}class t5{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(s=>{this.states.set(s.name,new X6(s.style,s.options&&s.options.params||{},r))}),iF(this.states,"true","1"),iF(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new rF(e,s,this.states))}),this.fallbackTransition=function n5(n,e,t){return new rF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,_)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,s){return this.transitionFactories.find(h=>h.match(e,t,r,s))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function iF(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const r5=new YT;class i5{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],u=gM(this._driver,t,r,[]);if(r.length)throw function i6(n){return new c.vHH(3503,!1)}();this._animations.set(e,u)}_buildPlayer(e,t,r){const s=e.element,u=F2(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(s,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const s=[],u=this._animations.get(e);let h;const _=new Map;if(u?(h=yM(this._driver,t,u,cM,UT,new Map,new Map,r,r5,s),h.forEach(N=>{const L=$c(_,N.element,new Map);N.postStyleProps.forEach(j=>L.set(j,null))})):(s.push(function s6(){return new c.vHH(3300,!1)}()),h=[]),s.length)throw function o6(n){return new c.vHH(3504,!1)}();_.forEach((N,L)=>{N.forEach((j,z)=>{N.set(z,this._driver.computeStyle(L,z,hm))})});const T=ry(h.map(N=>{const L=_.get(N.element);return this._buildPlayer(N,new Map,L)}));return this._playersById.set(e,T),T.onDestroy(()=>this.destroy(e)),this.players.push(T),T}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function a6(n){return new c.vHH(3301,!1)}();return t}listen(e,t,r,s){const u=oM(t,"","","");return iM(this._getPlayer(e),r,u,s),()=>{}}command(e,t,r,s){if("register"==r)return void this.register(e,s[0]);if("create"==r)return void this.create(e,t,s[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const sF="ng-animate-queued",wM="ng-animate-disabled",u5=[],oF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},c5={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ud="__ng_removed";class CM{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function p5(n){return n??null}(r?e.value:e),r){const u=KD(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(s=>{null==r[s]&&(r[s]=t[s])})}}}const JD="void",DM=new CM(JD);class d5{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,$d(t,this._hostClassName)}listen(e,t,r,s){if(!this._triggers.has(t))throw function l6(n,e){return new c.vHH(3302,!1)}();if(null==r||0==r.length)throw function u6(n){return new c.vHH(3303,!1)}();if(!function g5(n){return"start"==n||"done"==n}(r))throw function c6(n,e){return new c.vHH(3400,!1)}();const u=$c(this._elementListeners,e,[]),h={name:t,phase:r,callback:s};u.push(h);const _=$c(this._engine.statesByElement,e,new Map);return _.has(t)||($d(e,$T),$d(e,$T+"-"+t),_.set(t,DM)),()=>{this._engine.afterFlush(()=>{const w=u.indexOf(h);w>=0&&u.splice(w,1),this._triggers.has(t)||_.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function d6(n){return new c.vHH(3401,!1)}();return t}trigger(e,t,r,s=!0){const u=this._getTrigger(t),h=new SM(this.id,t,e);let _=this._engine.statesByElement.get(e);_||($d(e,$T),$d(e,$T+"-"+t),this._engine.statesByElement.set(e,_=new Map));let w=_.get(t);const T=new CM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&w&&T.absorbOptions(w.options),_.set(t,T),w||(w=DM),T.value!==JD&&w.value===T.value){if(!function y5(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let s=0;s<t.length;s++){const u=t[s];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(w.params,T.params)){const le=[],ve=u.matchStyles(w.value,w.params,le),He=u.matchStyles(T.value,T.params,le);le.length?this._engine.reportError(le):this._engine.afterFlush(()=>{h0(e,ve),Tp(e,He)})}return}const j=$c(this._engine.playersByElement,e,[]);j.forEach(le=>{le.namespaceId==this.id&&le.triggerName==t&&le.queued&&le.destroy()});let z=u.matchTransition(w.value,T.value,e,T.params),Q=!1;if(!z){if(!s)return;z=u.fallbackTransition,Q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:z,fromState:w,toState:T,player:h,isFallbackTransition:Q}),Q||($d(e,sF),h.onStart(()=>{aw(e,sF)})),h.onDone(()=>{let le=this.players.indexOf(h);le>=0&&this.players.splice(le,1);const ve=this._engine.playersByElement.get(e);if(ve){let He=ve.indexOf(h);He>=0&&ve.splice(He,1)}}),this.players.push(h),j.push(h),h}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,HT,!0);r.forEach(s=>{if(s[Ud])return;const u=this._engine.fetchNamespacesByElement(s);u.size?u.forEach(h=>h.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,t,r,s){const u=this._engine.statesByElement.get(e),h=new Map;if(u){const _=[];if(u.forEach((w,T)=>{if(h.set(T,w.value),this._triggers.has(T)){const N=this.trigger(e,T,JD,s);N&&_.push(N)}}),_.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,h),r&&ry(_).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const s=new Set;t.forEach(u=>{const h=u.name;if(s.has(h))return;s.add(h);const w=this._triggers.get(h).fallbackTransition,T=r.get(h)||DM,N=new CM(JD),L=new SM(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:w,fromState:T,toState:N,player:L,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)s=!0;else{let h=e;for(;h=h.parentNode;)if(r.statesByElement.get(h)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[Ud];(!u||u===oF)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){$d(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const s=r.player;if(s.destroyed)return;const u=r.element,h=this._elementListeners.get(u);h&&h.forEach(_=>{if(_.name==r.triggerName){const w=oM(u,r.triggerName,r.fromState.value,r.toState.value);w._data=e,iM(r.player,_.phase,w,_.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(r)}),this._queue=[],t.sort((r,s)=>{const u=r.transition.ast.depCount,h=s.transition.ast.depCount;return 0==u||0==h?u-h:this._engine.driver.containsElement(r.element,s.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class h5{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new d5(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,s=this.namespacesByHostElement;if(r.length-1>=0){let h=!1,_=this.driver.getParentElement(t);for(;_;){const w=s.get(_);if(w){const T=r.indexOf(w);r.splice(T+1,0,e),h=!0;break}_=this.driver.getParentElement(_)}h||r.unshift(e)}else r.push(e);return s.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let s=this._namespaceLookup[e];s&&s.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const s=this._namespaceList.indexOf(r);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let s of r.values())if(s.namespaceId){const u=this._fetchNamespace(s.namespaceId);u&&t.add(u)}return t}trigger(e,t,r,s){if(XT(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,s),!0}return!1}insertNode(e,t,r,s){if(!XT(t))return;const u=t[Ud];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,r)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),$d(e,wM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),aw(e,wM))}removeNode(e,t,r,s){if(XT(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,s):this.markElementAsRemoved(e,t,!1,s),r){const h=this.namespacesByHostElement.get(t);h&&h.id!==e&&h.removeNode(t,s)}}else this._onRemovalComplete(t,s)}markElementAsRemoved(e,t,r,s,u){this.collectedLeaveElements.push(t),t[Ud]={namespaceId:e,setForRemoval:s,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,s,u){return XT(t)?this._fetchNamespace(e).listen(t,r,s,u):()=>{}}_buildInstruction(e,t,r,s,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,s,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,HT,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,dM,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ry(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ud];if(t&&t.setForRemoval){if(e[Ud]=oF,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(wM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,s)=>this._balanceNamespaceList(r,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)$d(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let s=0;s<r.length;s++)r[s]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ry(t).onDone(()=>{r.forEach(s=>s())}):r.forEach(s=>s())}}reportError(e){throw function h6(n){return new c.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new YT,s=[],u=new Map,h=[],_=new Map,w=new Map,T=new Map,N=new Set;this.disabledNodes.forEach(St=>{N.add(St);const jt=this.driver.query(St,".ng-animate-queued",!0);for(let gn=0;gn<jt.length;gn++)N.add(jt[gn])});const L=this.bodyNode,j=Array.from(this.statesByElement.keys()),z=uF(j,this.collectedEnterElements),Q=new Map;let le=0;z.forEach((St,jt)=>{const gn=cM+le++;Q.set(jt,gn),St.forEach($n=>$d($n,gn))});const ve=[],He=new Set,nt=new Set;for(let St=0;St<this.collectedLeaveElements.length;St++){const jt=this.collectedLeaveElements[St],gn=jt[Ud];gn&&gn.setForRemoval&&(ve.push(jt),He.add(jt),gn.hasAnimation?this.driver.query(jt,".ng-star-inserted",!0).forEach($n=>He.add($n)):nt.add(jt))}const ht=new Map,it=uF(j,Array.from(He));it.forEach((St,jt)=>{const gn=UT+le++;ht.set(jt,gn),St.forEach($n=>$d($n,gn))}),e.push(()=>{z.forEach((St,jt)=>{const gn=Q.get(jt);St.forEach($n=>aw($n,gn))}),it.forEach((St,jt)=>{const gn=ht.get(jt);St.forEach($n=>aw($n,gn))}),ve.forEach(St=>{this.processLeaveNode(St)})});const ft=[],mt=[];for(let St=this._namespaceList.length-1;St>=0;St--)this._namespaceList[St].drainQueuedTransitions(t).forEach(gn=>{const $n=gn.player,rs=gn.element;if(ft.push($n),this.collectedEnterElements.length){const js=rs[Ud];if(js&&js.setForMove){if(js.previousTriggersValues&&js.previousTriggersValues.has(gn.triggerName)){const Ll=js.previousTriggersValues.get(gn.triggerName),il=this.statesByElement.get(gn.element);if(il&&il.has(gn.triggerName)){const uw=il.get(gn.triggerName);uw.value=Ll,il.set(gn.triggerName,uw)}}return void $n.destroy()}}const Ru=!L||!this.driver.containsElement(L,rs),Do=ht.get(rs),jc=Q.get(rs),xr=this._buildInstruction(gn,r,jc,Do,Ru);if(xr.errors&&xr.errors.length)return void mt.push(xr);if(Ru)return $n.onStart(()=>h0(rs,xr.fromStyles)),$n.onDestroy(()=>Tp(rs,xr.toStyles)),void s.push($n);if(gn.isFallbackTransition)return $n.onStart(()=>h0(rs,xr.fromStyles)),$n.onDestroy(()=>Tp(rs,xr.toStyles)),void s.push($n);const ff=[];xr.timelines.forEach(js=>{js.stretchStartingKeyframe=!0,this.disabledNodes.has(js.element)||ff.push(js)}),xr.timelines=ff,r.append(rs,xr.timelines),h.push({instruction:xr,player:$n,element:rs}),xr.queriedElements.forEach(js=>$c(_,js,[]).push($n)),xr.preStyleProps.forEach((js,Ll)=>{if(js.size){let il=w.get(Ll);il||w.set(Ll,il=new Set),js.forEach((uw,g0)=>il.add(g0))}}),xr.postStyleProps.forEach((js,Ll)=>{let il=T.get(Ll);il||T.set(Ll,il=new Set),js.forEach((uw,g0)=>il.add(g0))})});if(mt.length){const St=[];mt.forEach(jt=>{St.push(function f6(n,e){return new c.vHH(3505,!1)}())}),ft.forEach(jt=>jt.destroy()),this.reportError(St)}const Jt=new Map,Pn=new Map;h.forEach(St=>{const jt=St.element;r.has(jt)&&(Pn.set(jt,jt),this._beforeAnimationBuild(St.player.namespaceId,St.instruction,Jt))}),s.forEach(St=>{const jt=St.element;this._getPreviousPlayers(jt,!1,St.namespaceId,St.triggerName,null).forEach($n=>{$c(Jt,jt,[]).push($n),$n.destroy()})});const kr=ve.filter(St=>dF(St,w,T)),Fr=new Map;lF(Fr,this.driver,nt,T,hm).forEach(St=>{dF(St,w,T)&&kr.push(St)});const Sa=new Map;z.forEach((St,jt)=>{lF(Sa,this.driver,new Set(St),w,"!")}),kr.forEach(St=>{const jt=Fr.get(St),gn=Sa.get(St);Fr.set(St,new Map([...Array.from(jt?.entries()??[]),...Array.from(gn?.entries()??[])]))});const ns=[],Ip=[],Ap={};h.forEach(St=>{const{element:jt,player:gn,instruction:$n}=St;if(r.has(jt)){if(N.has(jt))return gn.onDestroy(()=>Tp(jt,$n.toStyles)),gn.disabled=!0,gn.overrideTotalTime($n.totalTime),void s.push(gn);let rs=Ap;if(Pn.size>1){let Do=jt;const jc=[];for(;Do=Do.parentNode;){const xr=Pn.get(Do);if(xr){rs=xr;break}jc.push(Do)}jc.forEach(xr=>Pn.set(xr,rs))}const Ru=this._buildAnimation(gn.namespaceId,$n,Jt,u,Sa,Fr);if(gn.setRealPlayer(Ru),rs===Ap)ns.push(gn);else{const Do=this.playersByElement.get(rs);Do&&Do.length&&(gn.parentPlayer=ry(Do)),s.push(gn)}}else h0(jt,$n.fromStyles),gn.onDestroy(()=>Tp(jt,$n.toStyles)),Ip.push(gn),N.has(jt)&&s.push(gn)}),Ip.forEach(St=>{const jt=u.get(St.element);if(jt&&jt.length){const gn=ry(jt);St.setRealPlayer(gn)}}),s.forEach(St=>{St.parentPlayer?St.syncPlayerEvents(St.parentPlayer):St.destroy()});for(let St=0;St<ve.length;St++){const jt=ve[St],gn=jt[Ud];if(aw(jt,UT),gn&&gn.hasAnimation)continue;let $n=[];if(_.size){let Ru=_.get(jt);Ru&&Ru.length&&$n.push(...Ru);let Do=this.driver.query(jt,dM,!0);for(let jc=0;jc<Do.length;jc++){let xr=_.get(Do[jc]);xr&&xr.length&&$n.push(...xr)}}const rs=$n.filter(Ru=>!Ru.destroyed);rs.length?m5(this,jt,rs):this.processLeaveNode(jt)}return ve.length=0,ns.forEach(St=>{this.players.push(St),St.onDone(()=>{St.destroy();const jt=this.players.indexOf(St);this.players.splice(jt,1)}),St.play()}),ns}elementContainsData(e,t){let r=!1;const s=t[Ud];return s&&s.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,s,u){let h=[];if(t){const _=this.playersByQueriedElement.get(e);_&&(h=_)}else{const _=this.playersByElement.get(e);if(_){const w=!u||u==JD;_.forEach(T=>{T.queued||!w&&T.triggerName!=s||h.push(T)})}}return(r||s)&&(h=h.filter(_=>!(r&&r!=_.namespaceId||s&&s!=_.triggerName))),h}_beforeAnimationBuild(e,t,r){const u=t.element,h=t.isRemovalTransition?void 0:e,_=t.isRemovalTransition?void 0:t.triggerName;for(const w of t.timelines){const T=w.element,N=T!==u,L=$c(r,T,[]);this._getPreviousPlayers(T,N,h,_,t.toState).forEach(z=>{const Q=z.getRealPlayer();Q.beforeDestroy&&Q.beforeDestroy(),z.destroy(),L.push(z)})}h0(u,t.fromStyles)}_buildAnimation(e,t,r,s,u,h){const _=t.triggerName,w=t.element,T=[],N=new Set,L=new Set,j=t.timelines.map(Q=>{const le=Q.element;N.add(le);const ve=le[Ud];if(ve&&ve.removedBeforeQueried)return new WD(Q.duration,Q.delay);const He=le!==w,nt=function _5(n){const e=[];return cF(n,e),e}((r.get(le)||u5).map(Jt=>Jt.getRealPlayer())).filter(Jt=>!!Jt.element&&Jt.element===le),ht=u.get(le),it=h.get(le),ft=F2(0,this._normalizer,0,Q.keyframes,ht,it),mt=this._buildPlayer(Q,ft,nt);if(Q.subTimeline&&s&&L.add(le),He){const Jt=new SM(e,_,le);Jt.setRealPlayer(mt),T.push(Jt)}return mt});T.forEach(Q=>{$c(this.playersByQueriedElement,Q.element,[]).push(Q),Q.onDone(()=>function f5(n,e,t){let r=n.get(e);if(r){if(r.length){const s=r.indexOf(t);r.splice(s,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,Q.element,Q))}),N.forEach(Q=>$d(Q,q2));const z=ry(j);return z.onDestroy(()=>{N.forEach(Q=>aw(Q,q2)),Tp(w,t.toStyles)}),L.forEach(Q=>{$c(s,Q,[]).push(z)}),z}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new WD(e.duration,e.delay)}}class SM{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new WD,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(s=>iM(e,r,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){$c(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function XT(n){return n&&1===n.nodeType}function aF(n,e){const t=n.style.display;return n.style.display=e??"none",t}function lF(n,e,t,r,s){const u=[];t.forEach(w=>u.push(aF(w)));const h=[];r.forEach((w,T)=>{const N=new Map;w.forEach(L=>{const j=e.computeStyle(T,L,s);N.set(L,j),(!j||0==j.length)&&(T[Ud]=c5,h.push(T))}),n.set(T,N)});let _=0;return t.forEach(w=>aF(w,u[_++])),h}function uF(n,e){const t=new Map;if(n.forEach(_=>t.set(_,[])),0==e.length)return t;const s=new Set(e),u=new Map;function h(_){if(!_)return 1;let w=u.get(_);if(w)return w;const T=_.parentNode;return w=t.has(T)?T:s.has(T)?1:h(T),u.set(_,w),w}return e.forEach(_=>{const w=h(_);1!==w&&t.get(w).push(_)}),t}function $d(n,e){n.classList?.add(e)}function aw(n,e){n.classList?.remove(e)}function m5(n,e,t){ry(t).onDone(()=>n.processLeaveNode(e))}function cF(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof O2?cF(r.players,e):e.push(r)}}function dF(n,e,t){const r=t.get(n);if(!r)return!1;let s=e.get(n);return s?r.forEach(u=>s.add(u)):e.set(n,r),t.delete(n),!0}class eI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,u)=>{},this._transitionEngine=new h5(e,t,r),this._timelineEngine=new i5(e,t,r),this._transitionEngine.onRemovalComplete=(s,u)=>this.onRemovalComplete(s,u)}registerTrigger(e,t,r,s,u){const h=e+"-"+s;let _=this._triggerCache[h];if(!_){const w=[],N=gM(this._driver,u,w,[]);if(w.length)throw function n6(n,e){return new c.vHH(3404,!1)}();_=function e5(n,e,t){return new t5(n,e,t)}(s,N,this._normalizer),this._triggerCache[h]=_}this._transitionEngine.registerTrigger(t,s,_)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,s){this._transitionEngine.insertNode(e,t,r,s)}onRemove(e,t,r,s){this._transitionEngine.removeNode(e,t,s||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,s){if("@"==r.charAt(0)){const[u,h]=L2(r);this._timelineEngine.command(u,t,h,s)}else this._transitionEngine.trigger(e,t,r,s)}listen(e,t,r,s,u){if("@"==r.charAt(0)){const[h,_]=L2(r);return this._timelineEngine.listen(h,t,_,u)}return this._transitionEngine.listen(e,t,r,s,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let b5=(()=>{class n{constructor(t,r,s){this._element=t,this._startStyles=r,this._endStyles=s,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Tp(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Tp(this._element,this._initialStyles),this._endStyles&&(Tp(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(h0(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(h0(this._element,this._endStyles),this._endStyles=null),Tp(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function TM(n){let e=null;return n.forEach((t,r)=>{(function E5(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class hF{constructor(e,t,r,s){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,s)=>{"offset"!==s&&e.set(s,this._finished?r:J2(this.element,s))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class w5{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return $2(e,t)}getParentElement(e){return lM(e)}query(e,t,r){return H2(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,s,u,h=[]){const w={duration:r,delay:s,fill:0==s?"both":"forwards"};u&&(w.easing=u);const T=new Map,N=h.filter(z=>z instanceof hF);(function T6(n,e){return 0===n||0===e})(r,s)&&N.forEach(z=>{z.currentSnapshot.forEach((Q,le)=>T.set(le,Q))});let L=function w6(n){return n.length?n[0]instanceof Map?n:n.map(e=>z2(e)):[]}(t).map(z=>iy(z));L=function I6(n,e,t){if(t.size&&e.length){let r=e[0],s=[];if(t.forEach((u,h)=>{r.has(h)||s.push(h),r.set(h,u)}),s.length)for(let u=1;u<e.length;u++){let h=e[u];s.forEach(_=>h.set(_,J2(n,_)))}}return e}(e,L,T);const j=function v5(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=TM(e[0]),e.length>1&&(r=TM(e[e.length-1]))):e instanceof Map&&(t=TM(e)),t||r?new b5(n,t,r):null}(e,L);return new hF(e,L,w,j)}}let C5=(()=>{class n extends N2{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(t)?M2(t):t;return fF(this._renderer,null,r,"register",[s]),new D5(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(Ee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class D5 extends O8{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new S5(this._id,e,t||{},this._renderer)}}class S5{constructor(e,t,r,s){this.id=e,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return fF(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function fF(n,e,t,r,s){return n.setProperty(e,`@@${t}:${r}`,s)}const pF="@.disabled";let T5=(()=>{class n{constructor(t,r,s){this.delegate=t,this.engine=r,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,h)=>{const _=h?.parentNode(u);_&&h.removeChild(_,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let N=this._rendererCache.get(u);return N||(N=new gF("",u,this.engine,()=>this._rendererCache.delete(u)),this._rendererCache.set(u,N)),N}const h=r.id,_=r.id+"-"+this._currentId;this._currentId++,this.engine.register(_,t);const w=N=>{Array.isArray(N)?N.forEach(w):this.engine.registerTrigger(h,_,t,N.name,N)};return r.data.animation.forEach(w),new I5(this,_,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,s){t>=0&&t<this._microtaskId?this._zone.run(()=>r(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[h,_]=u;h(_)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(eI),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class gF{constructor(e,t,r,s){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=s,this.destroyNode=this.delegate.destroyNode?u=>t.destroyNode(u):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,s=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,s)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,s){this.delegate.setAttribute(e,t,r,s)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,s){this.delegate.setStyle(e,t,r,s)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==pF?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class I5 extends gF{constructor(e,t,r,s,u){super(t,r,s,u),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==pF?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const s=function A5(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.slice(1),h="";return"@"!=u.charAt(0)&&([u,h]=function x5(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(u)),this.engine.listen(this.namespaceId,s,u,h,_=>{this.factory.scheduleListenerCallback(_._data||-1,r,_)})}return this.delegate.listen(e,t,r)}}let N5=(()=>{class n extends eI{constructor(t,r,s,u){super(t.body,r,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ee),c.LFG(uM),c.LFG(bM),c.LFG(c.z2F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const mF=[{provide:N2,useClass:C5},{provide:bM,useFactory:function M5(){return new Y6}},{provide:eI,useClass:N5},{provide:c.FYo,useFactory:function R5(n,e,t){return new T5(n,e,t)},deps:[ua,eI,c.R0b]}],IM=[{provide:uM,useFactory:()=>new w5},{provide:c.QbO,useValue:"BrowserAnimations"},...mF],_F=[{provide:uM,useClass:j2},{provide:c.QbO,useValue:"NoopAnimations"},...mF];let P5=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?_F:IM}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:IM,imports:[eu]}),n})();class lw{}lw.\u0275fac=function(e){return new(e||lw)},lw.\u0275mod=c.oAB({type:lw,bootstrap:[zD]}),lw.\u0275inj=c.cJS({imports:[eu,QE,D8,d3,b0,Ya.hO.initializeApp({apiKey:"AIzaSyCqvg0hl7OfgZPVtp2XctymuaE30fQ_n4I",authDomain:"market-12461.firebaseapp.com",projectId:"market-12461",storageBucket:"market-12461.appspot.com",messagingSenderId:"961125743305",appId:"1:961125743305:web:36d02ed0953f37080ceb18",measurementId:"G-3GSVMREDTD"}),HU,OU,P5]}),fs().bootstrapModule(lw).catch(n=>console.error(n))},9751:(_t,Fe,q)=>{q.d(Fe,{y:()=>Ie});var c=q(930),me=q(727),G=q(8822),Ce=q(9635),de=q(2416),Ee=q(576),Me=q(2806);let Ie=(()=>{class ce{constructor(ze){ze&&(this._subscribe=ze)}lift(ze){const Xe=new ce;return Xe.source=this,Xe.operator=ze,Xe}subscribe(ze,Xe,Ct){const xe=function te(ce){return ce&&ce instanceof c.Lv||function X(ce){return ce&&(0,Ee.m)(ce.next)&&(0,Ee.m)(ce.error)&&(0,Ee.m)(ce.complete)}(ce)&&(0,me.Nn)(ce)}(ze)?ze:new c.Hp(ze,Xe,Ct);return(0,Me.x)(()=>{const{operator:je,source:Ge}=this;xe.add(je?je.call(xe,Ge):Ge?this._subscribe(xe):this._trySubscribe(xe))}),xe}_trySubscribe(ze){try{return this._subscribe(ze)}catch(Xe){ze.error(Xe)}}forEach(ze,Xe){return new(Xe=Ae(Xe))((Ct,xe)=>{const je=new c.Hp({next:Ge=>{try{ze(Ge)}catch(Oe){xe(Oe),je.unsubscribe()}},error:xe,complete:Ct});this.subscribe(je)})}_subscribe(ze){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(ze)}[G.L](){return this}pipe(...ze){return(0,Ce.U)(ze)(this)}toPromise(ze){return new(ze=Ae(ze))((Xe,Ct)=>{let xe;this.subscribe(je=>xe=je,je=>Ct(je),()=>Xe(xe))})}}return ce.create=ot=>new ce(ot),ce})();function Ae(ce){var ot;return null!==(ot=ce??de.v.Promise)&&void 0!==ot?ot:Promise}},7579:(_t,Fe,q)=>{q.d(Fe,{x:()=>Me});var c=q(9751),me=q(727);const Ce=(0,q(3888).d)(Ae=>function(){Ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=q(8737),Ee=q(2806);let Me=(()=>{class Ae extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(te){const ce=new Ie(this,this);return ce.operator=te,ce}_throwIfClosed(){if(this.closed)throw new Ce}next(te){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ce of this.currentObservers)ce.next(te)}})}error(te){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=te;const{observers:ce}=this;for(;ce.length;)ce.shift().error(te)}})}complete(){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:te}=this;for(;te.length;)te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var te;return(null===(te=this.observers)||void 0===te?void 0:te.length)>0}_trySubscribe(te){return this._throwIfClosed(),super._trySubscribe(te)}_subscribe(te){return this._throwIfClosed(),this._checkFinalizedStatuses(te),this._innerSubscribe(te)}_innerSubscribe(te){const{hasError:ce,isStopped:ot,observers:ze}=this;return ce||ot?me.Lc:(this.currentObservers=null,ze.push(te),new me.w0(()=>{this.currentObservers=null,(0,de.P)(ze,te)}))}_checkFinalizedStatuses(te){const{hasError:ce,thrownError:ot,isStopped:ze}=this;ce?te.error(ot):ze&&te.complete()}asObservable(){const te=new c.y;return te.source=this,te}}return Ae.create=(X,te)=>new Ie(X,te),Ae})();class Ie extends Me{constructor(X,te){super(),this.destination=X,this.source=te}next(X){var te,ce;null===(ce=null===(te=this.destination)||void 0===te?void 0:te.next)||void 0===ce||ce.call(te,X)}error(X){var te,ce;null===(ce=null===(te=this.destination)||void 0===te?void 0:te.error)||void 0===ce||ce.call(te,X)}complete(){var X,te;null===(te=null===(X=this.destination)||void 0===X?void 0:X.complete)||void 0===te||te.call(X)}_subscribe(X){var te,ce;return null!==(ce=null===(te=this.source)||void 0===te?void 0:te.subscribe(X))&&void 0!==ce?ce:me.Lc}}},930:(_t,Fe,q)=>{q.d(Fe,{Hp:()=>Ct,Lv:()=>ce});var c=q(576),me=q(727),G=q(2416),Ce=q(7849),de=q(5032);const Ee=Ae("C",void 0,void 0);function Ae(Ue,$e,Ze){return{kind:Ue,value:$e,error:Ze}}var X=q(3410),te=q(2806);class ce extends me.w0{constructor($e){super(),this.isStopped=!1,$e?(this.destination=$e,(0,me.Nn)($e)&&$e.add(this)):this.destination=Oe}static create($e,Ze,ut){return new Ct($e,Ze,ut)}next($e){this.isStopped?Ge(function Ie(Ue){return Ae("N",Ue,void 0)}($e),this):this._next($e)}error($e){this.isStopped?Ge(function Me(Ue){return Ae("E",void 0,Ue)}($e),this):(this.isStopped=!0,this._error($e))}complete(){this.isStopped?Ge(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next($e){this.destination.next($e)}_error($e){try{this.destination.error($e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ot=Function.prototype.bind;function ze(Ue,$e){return ot.call(Ue,$e)}class Xe{constructor($e){this.partialObserver=$e}next($e){const{partialObserver:Ze}=this;if(Ze.next)try{Ze.next($e)}catch(ut){xe(ut)}}error($e){const{partialObserver:Ze}=this;if(Ze.error)try{Ze.error($e)}catch(ut){xe(ut)}else xe($e)}complete(){const{partialObserver:$e}=this;if($e.complete)try{$e.complete()}catch(Ze){xe(Ze)}}}class Ct extends ce{constructor($e,Ze,ut){let et;if(super(),(0,c.m)($e)||!$e)et={next:$e??void 0,error:Ze??void 0,complete:ut??void 0};else{let ee;this&&G.v.useDeprecatedNextContext?(ee=Object.create($e),ee.unsubscribe=()=>this.unsubscribe(),et={next:$e.next&&ze($e.next,ee),error:$e.error&&ze($e.error,ee),complete:$e.complete&&ze($e.complete,ee)}):et=$e}this.destination=new Xe(et)}}function xe(Ue){G.v.useDeprecatedSynchronousErrorHandling?(0,te.O)(Ue):(0,Ce.h)(Ue)}function Ge(Ue,$e){const{onStoppedNotification:Ze}=G.v;Ze&&X.z.setTimeout(()=>Ze(Ue,$e))}const Oe={closed:!0,next:de.Z,error:function je(Ue){throw Ue},complete:de.Z}},727:(_t,Fe,q)=>{q.d(Fe,{Lc:()=>Ee,w0:()=>de,Nn:()=>Me});var c=q(576);const G=(0,q(3888).d)(Ae=>function(te){Ae(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((ce,ot)=>`${ot+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te});var Ce=q(8737);class de{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:te}=this;if(te)if(this._parentage=null,Array.isArray(te))for(const ze of te)ze.remove(this);else te.remove(this);const{initialTeardown:ce}=this;if((0,c.m)(ce))try{ce()}catch(ze){X=ze instanceof G?ze.errors:[ze]}const{_finalizers:ot}=this;if(ot){this._finalizers=null;for(const ze of ot)try{Ie(ze)}catch(Xe){X=X??[],Xe instanceof G?X=[...X,...Xe.errors]:X.push(Xe)}}if(X)throw new G(X)}}add(X){var te;if(X&&X!==this)if(this.closed)Ie(X);else{if(X instanceof de){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._finalizers=null!==(te=this._finalizers)&&void 0!==te?te:[]).push(X)}}_hasParent(X){const{_parentage:te}=this;return te===X||Array.isArray(te)&&te.includes(X)}_addParent(X){const{_parentage:te}=this;this._parentage=Array.isArray(te)?(te.push(X),te):te?[te,X]:X}_removeParent(X){const{_parentage:te}=this;te===X?this._parentage=null:Array.isArray(te)&&(0,Ce.P)(te,X)}remove(X){const{_finalizers:te}=this;te&&(0,Ce.P)(te,X),X instanceof de&&X._removeParent(this)}}de.EMPTY=(()=>{const Ae=new de;return Ae.closed=!0,Ae})();const Ee=de.EMPTY;function Me(Ae){return Ae instanceof de||Ae&&"closed"in Ae&&(0,c.m)(Ae.remove)&&(0,c.m)(Ae.add)&&(0,c.m)(Ae.unsubscribe)}function Ie(Ae){(0,c.m)(Ae)?Ae():Ae.unsubscribe()}},2416:(_t,Fe,q)=>{q.d(Fe,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(_t,Fe,q)=>{q.d(Fe,{E:()=>me});const me=new(q(9751).y)(de=>de.complete())},8996:(_t,Fe,q)=>{q.d(Fe,{D:()=>$e});var c=q(8421),me=q(5363),G=q(9468),Ee=q(9751),Ie=q(2202),Ae=q(576),X=q(9672);function ce(Ze,ut){if(!Ze)throw new Error("Iterable cannot be null");return new Ee.y(et=>{(0,X.f)(et,ut,()=>{const ee=Ze[Symbol.asyncIterator]();(0,X.f)(et,ut,()=>{ee.next().then(Be=>{Be.done?et.complete():et.next(Be.value)})},0,!0)})})}var ot=q(3670),ze=q(8239),Xe=q(1144),Ct=q(6495),xe=q(2206),je=q(4532),Ge=q(3260);function $e(Ze,ut){return ut?function Ue(Ze,ut){if(null!=Ze){if((0,ot.c)(Ze))return function Ce(Ze,ut){return(0,c.Xf)(Ze).pipe((0,G.R)(ut),(0,me.Q)(ut))}(Ze,ut);if((0,Xe.z)(Ze))return function Me(Ze,ut){return new Ee.y(et=>{let ee=0;return ut.schedule(function(){ee===Ze.length?et.complete():(et.next(Ze[ee++]),et.closed||this.schedule())})})}(Ze,ut);if((0,ze.t)(Ze))return function de(Ze,ut){return(0,c.Xf)(Ze).pipe((0,G.R)(ut),(0,me.Q)(ut))}(Ze,ut);if((0,xe.D)(Ze))return ce(Ze,ut);if((0,Ct.T)(Ze))return function te(Ze,ut){return new Ee.y(et=>{let ee;return(0,X.f)(et,ut,()=>{ee=Ze[Ie.h](),(0,X.f)(et,ut,()=>{let Be,ie;try{({value:Be,done:ie}=ee.next())}catch(fe){return void et.error(fe)}ie?et.complete():et.next(Be)},0,!0)}),()=>(0,Ae.m)(ee?.return)&&ee.return()})}(Ze,ut);if((0,Ge.L)(Ze))return function Oe(Ze,ut){return ce((0,Ge.Q)(Ze),ut)}(Ze,ut)}throw(0,je.z)(Ze)}(Ze,ut):(0,c.Xf)(Ze)}},8421:(_t,Fe,q)=>{q.d(Fe,{Xf:()=>ot});var c=q(655),me=q(1144),G=q(8239),Ce=q(9751),de=q(3670),Ee=q(2206),Me=q(4532),Ie=q(6495),Ae=q(3260),X=q(576),te=q(7849),ce=q(8822);function ot(Ue){if(Ue instanceof Ce.y)return Ue;if(null!=Ue){if((0,de.c)(Ue))return function ze(Ue){return new Ce.y($e=>{const Ze=Ue[ce.L]();if((0,X.m)(Ze.subscribe))return Ze.subscribe($e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ue);if((0,me.z)(Ue))return function Xe(Ue){return new Ce.y($e=>{for(let Ze=0;Ze<Ue.length&&!$e.closed;Ze++)$e.next(Ue[Ze]);$e.complete()})}(Ue);if((0,G.t)(Ue))return function Ct(Ue){return new Ce.y($e=>{Ue.then(Ze=>{$e.closed||($e.next(Ze),$e.complete())},Ze=>$e.error(Ze)).then(null,te.h)})}(Ue);if((0,Ee.D)(Ue))return je(Ue);if((0,Ie.T)(Ue))return function xe(Ue){return new Ce.y($e=>{for(const Ze of Ue)if($e.next(Ze),$e.closed)return;$e.complete()})}(Ue);if((0,Ae.L)(Ue))return function Ge(Ue){return je((0,Ae.Q)(Ue))}(Ue)}throw(0,Me.z)(Ue)}function je(Ue){return new Ce.y($e=>{(function Oe(Ue,$e){var Ze,ut,et,ee;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ze=(0,c.KL)(Ue);!(ut=yield Ze.next()).done;)if($e.next(ut.value),$e.closed)return}catch(Be){et={error:Be}}finally{try{ut&&!ut.done&&(ee=Ze.return)&&(yield ee.call(Ze))}finally{if(et)throw et.error}}$e.complete()})})(Ue,$e).catch(Ze=>$e.error(Ze))})}},6451:(_t,Fe,q)=>{q.d(Fe,{T:()=>Ee});var c=q(8189),me=q(8421),G=q(515),Ce=q(3269),de=q(8996);function Ee(...Me){const Ie=(0,Ce.yG)(Me),Ae=(0,Ce._6)(Me,1/0),X=Me;return X.length?1===X.length?(0,me.Xf)(X[0]):(0,c.J)(Ae)((0,de.D)(X,Ie)):G.E}},5403:(_t,Fe,q)=>{q.d(Fe,{x:()=>me});var c=q(930);function me(Ce,de,Ee,Me,Ie){return new G(Ce,de,Ee,Me,Ie)}class G extends c.Lv{constructor(de,Ee,Me,Ie,Ae,X){super(de),this.onFinalize=Ae,this.shouldUnsubscribe=X,this._next=Ee?function(te){try{Ee(te)}catch(ce){de.error(ce)}}:super._next,this._error=Ie?function(te){try{Ie(te)}catch(ce){de.error(ce)}finally{this.unsubscribe()}}:super._error,this._complete=Me?function(){try{Me()}catch(te){de.error(te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4004:(_t,Fe,q)=>{q.d(Fe,{U:()=>G});var c=q(4482),me=q(5403);function G(Ce,de){return(0,c.e)((Ee,Me)=>{let Ie=0;Ee.subscribe((0,me.x)(Me,Ae=>{Me.next(Ce.call(de,Ae,Ie++))}))})}},8189:(_t,Fe,q)=>{q.d(Fe,{J:()=>G});var c=q(5577),me=q(4671);function G(Ce=1/0){return(0,c.z)(me.y,Ce)}},5577:(_t,Fe,q)=>{q.d(Fe,{z:()=>Ie});var c=q(4004),me=q(8421),G=q(4482),Ce=q(9672),de=q(5403),Me=q(576);function Ie(Ae,X,te=1/0){return(0,Me.m)(X)?Ie((ce,ot)=>(0,c.U)((ze,Xe)=>X(ce,ze,ot,Xe))((0,me.Xf)(Ae(ce,ot))),te):("number"==typeof X&&(te=X),(0,G.e)((ce,ot)=>function Ee(Ae,X,te,ce,ot,ze,Xe,Ct){const xe=[];let je=0,Ge=0,Oe=!1;const Ue=()=>{Oe&&!xe.length&&!je&&X.complete()},$e=ut=>je<ce?Ze(ut):xe.push(ut),Ze=ut=>{ze&&X.next(ut),je++;let et=!1;(0,me.Xf)(te(ut,Ge++)).subscribe((0,de.x)(X,ee=>{ot?.(ee),ze?$e(ee):X.next(ee)},()=>{et=!0},void 0,()=>{if(et)try{for(je--;xe.length&&je<ce;){const ee=xe.shift();Xe?(0,Ce.f)(X,Xe,()=>Ze(ee)):Ze(ee)}Ue()}catch(ee){X.error(ee)}}))};return Ae.subscribe((0,de.x)(X,$e,()=>{Oe=!0,Ue()})),()=>{Ct?.()}}(ce,ot,Ae,te)))}},5363:(_t,Fe,q)=>{q.d(Fe,{Q:()=>Ce});var c=q(9672),me=q(4482),G=q(5403);function Ce(de,Ee=0){return(0,me.e)((Me,Ie)=>{Me.subscribe((0,G.x)(Ie,Ae=>(0,c.f)(Ie,de,()=>Ie.next(Ae),Ee),()=>(0,c.f)(Ie,de,()=>Ie.complete(),Ee),Ae=>(0,c.f)(Ie,de,()=>Ie.error(Ae),Ee)))})}},3099:(_t,Fe,q)=>{q.d(Fe,{B:()=>de});var c=q(8421),me=q(7579),G=q(930),Ce=q(4482);function de(Me={}){const{connector:Ie=(()=>new me.x),resetOnError:Ae=!0,resetOnComplete:X=!0,resetOnRefCountZero:te=!0}=Me;return ce=>{let ot,ze,Xe,Ct=0,xe=!1,je=!1;const Ge=()=>{ze?.unsubscribe(),ze=void 0},Oe=()=>{Ge(),ot=Xe=void 0,xe=je=!1},Ue=()=>{const $e=ot;Oe(),$e?.unsubscribe()};return(0,Ce.e)(($e,Ze)=>{Ct++,!je&&!xe&&Ge();const ut=Xe=Xe??Ie();Ze.add(()=>{Ct--,0===Ct&&!je&&!xe&&(ze=Ee(Ue,te))}),ut.subscribe(Ze),!ot&&Ct>0&&(ot=new G.Hp({next:et=>ut.next(et),error:et=>{je=!0,Ge(),ze=Ee(Oe,Ae,et),ut.error(et)},complete:()=>{xe=!0,Ge(),ze=Ee(Oe,X),ut.complete()}}),(0,c.Xf)($e).subscribe(ot))})(ce)}}function Ee(Me,Ie,...Ae){if(!0===Ie)return void Me();if(!1===Ie)return;const X=new G.Hp({next:()=>{X.unsubscribe(),Me()}});return Ie(...Ae).subscribe(X)}},9468:(_t,Fe,q)=>{q.d(Fe,{R:()=>me});var c=q(4482);function me(G,Ce=0){return(0,c.e)((de,Ee)=>{Ee.add(G.schedule(()=>de.subscribe(Ee),Ce))})}},8505:(_t,Fe,q)=>{q.d(Fe,{b:()=>de});var c=q(576),me=q(4482),G=q(5403),Ce=q(4671);function de(Ee,Me,Ie){const Ae=(0,c.m)(Ee)||Me||Ie?{next:Ee,error:Me,complete:Ie}:Ee;return Ae?(0,me.e)((X,te)=>{var ce;null===(ce=Ae.subscribe)||void 0===ce||ce.call(Ae);let ot=!0;X.subscribe((0,G.x)(te,ze=>{var Xe;null===(Xe=Ae.next)||void 0===Xe||Xe.call(Ae,ze),te.next(ze)},()=>{var ze;ot=!1,null===(ze=Ae.complete)||void 0===ze||ze.call(Ae),te.complete()},ze=>{var Xe;ot=!1,null===(Xe=Ae.error)||void 0===Xe||Xe.call(Ae,ze),te.error(ze)},()=>{var ze,Xe;ot&&(null===(ze=Ae.unsubscribe)||void 0===ze||ze.call(Ae)),null===(Xe=Ae.finalize)||void 0===Xe||Xe.call(Ae)}))}):Ce.y}},4408:(_t,Fe,q)=>{q.d(Fe,{o:()=>de});var c=q(727);class me extends c.w0{constructor(Me,Ie){super()}schedule(Me,Ie=0){return this}}const G={setInterval(Ee,Me,...Ie){const{delegate:Ae}=G;return Ae?.setInterval?Ae.setInterval(Ee,Me,...Ie):setInterval(Ee,Me,...Ie)},clearInterval(Ee){const{delegate:Me}=G;return(Me?.clearInterval||clearInterval)(Ee)},delegate:void 0};var Ce=q(8737);class de extends me{constructor(Me,Ie){super(Me,Ie),this.scheduler=Me,this.work=Ie,this.pending=!1}schedule(Me,Ie=0){var Ae;if(this.closed)return this;this.state=Me;const X=this.id,te=this.scheduler;return null!=X&&(this.id=this.recycleAsyncId(te,X,Ie)),this.pending=!0,this.delay=Ie,this.id=null!==(Ae=this.id)&&void 0!==Ae?Ae:this.requestAsyncId(te,this.id,Ie),this}requestAsyncId(Me,Ie,Ae=0){return G.setInterval(Me.flush.bind(Me,this),Ae)}recycleAsyncId(Me,Ie,Ae=0){if(null!=Ae&&this.delay===Ae&&!1===this.pending)return Ie;null!=Ie&&G.clearInterval(Ie)}execute(Me,Ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ae=this._execute(Me,Ie);if(Ae)return Ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Me,Ie){let X,Ae=!1;try{this.work(Me)}catch(te){Ae=!0,X=te||new Error("Scheduled action threw falsy error")}if(Ae)return this.unsubscribe(),X}unsubscribe(){if(!this.closed){const{id:Me,scheduler:Ie}=this,{actions:Ae}=Ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.P)(Ae,this),null!=Me&&(this.id=this.recycleAsyncId(Ie,Me,null)),this.delay=null,super.unsubscribe()}}}},7565:(_t,Fe,q)=>{q.d(Fe,{v:()=>G});var c=q(6063);class me{constructor(de,Ee=me.now){this.schedulerActionCtor=de,this.now=Ee}schedule(de,Ee=0,Me){return new this.schedulerActionCtor(this,de).schedule(Me,Ee)}}me.now=c.l.now;class G extends me{constructor(de,Ee=me.now){super(de,Ee),this.actions=[],this._active=!1}flush(de){const{actions:Ee}=this;if(this._active)return void Ee.push(de);let Me;this._active=!0;do{if(Me=de.execute(de.state,de.delay))break}while(de=Ee.shift());if(this._active=!1,Me){for(;de=Ee.shift();)de.unsubscribe();throw Me}}}},4986:(_t,Fe,q)=>{q.d(Fe,{P:()=>Ce,z:()=>G});var c=q(4408);const G=new(q(7565).v)(c.o),Ce=G},6063:(_t,Fe,q)=>{q.d(Fe,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(_t,Fe,q)=>{q.d(Fe,{z:()=>c});const c={setTimeout(me,G,...Ce){const{delegate:de}=c;return de?.setTimeout?de.setTimeout(me,G,...Ce):setTimeout(me,G,...Ce)},clearTimeout(me){const{delegate:G}=c;return(G?.clearTimeout||clearTimeout)(me)},delegate:void 0}},2202:(_t,Fe,q)=>{q.d(Fe,{h:()=>me});const me=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(_t,Fe,q)=>{q.d(Fe,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(_t,Fe,q)=>{q.d(Fe,{_6:()=>Ee,jO:()=>Ce,yG:()=>de});var c=q(576),me=q(3532);function G(Me){return Me[Me.length-1]}function Ce(Me){return(0,c.m)(G(Me))?Me.pop():void 0}function de(Me){return(0,me.K)(G(Me))?Me.pop():void 0}function Ee(Me,Ie){return"number"==typeof G(Me)?Me.pop():Ie}},8737:(_t,Fe,q)=>{function c(me,G){if(me){const Ce=me.indexOf(G);0<=Ce&&me.splice(Ce,1)}}q.d(Fe,{P:()=>c})},3888:(_t,Fe,q)=>{function c(me){const Ce=me(de=>{Error.call(de),de.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}q.d(Fe,{d:()=>c})},2806:(_t,Fe,q)=>{q.d(Fe,{O:()=>Ce,x:()=>G});var c=q(2416);let me=null;function G(de){if(c.v.useDeprecatedSynchronousErrorHandling){const Ee=!me;if(Ee&&(me={errorThrown:!1,error:null}),de(),Ee){const{errorThrown:Me,error:Ie}=me;if(me=null,Me)throw Ie}}else de()}function Ce(de){c.v.useDeprecatedSynchronousErrorHandling&&me&&(me.errorThrown=!0,me.error=de)}},9672:(_t,Fe,q)=>{function c(me,G,Ce,de=0,Ee=!1){const Me=G.schedule(function(){Ce(),Ee?me.add(this.schedule(null,de)):this.unsubscribe()},de);if(me.add(Me),!Ee)return Me}q.d(Fe,{f:()=>c})},4671:(_t,Fe,q)=>{function c(me){return me}q.d(Fe,{y:()=>c})},1144:(_t,Fe,q)=>{q.d(Fe,{z:()=>c});const c=me=>me&&"number"==typeof me.length&&"function"!=typeof me},2206:(_t,Fe,q)=>{q.d(Fe,{D:()=>me});var c=q(576);function me(G){return Symbol.asyncIterator&&(0,c.m)(G?.[Symbol.asyncIterator])}},576:(_t,Fe,q)=>{function c(me){return"function"==typeof me}q.d(Fe,{m:()=>c})},3670:(_t,Fe,q)=>{q.d(Fe,{c:()=>G});var c=q(8822),me=q(576);function G(Ce){return(0,me.m)(Ce[c.L])}},6495:(_t,Fe,q)=>{q.d(Fe,{T:()=>G});var c=q(2202),me=q(576);function G(Ce){return(0,me.m)(Ce?.[c.h])}},8239:(_t,Fe,q)=>{q.d(Fe,{t:()=>me});var c=q(576);function me(G){return(0,c.m)(G?.then)}},3260:(_t,Fe,q)=>{q.d(Fe,{L:()=>Ce,Q:()=>G});var c=q(655),me=q(576);function G(de){return(0,c.FC)(this,arguments,function*(){const Me=de.getReader();try{for(;;){const{value:Ie,done:Ae}=yield(0,c.qq)(Me.read());if(Ae)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Ie)}}finally{Me.releaseLock()}})}function Ce(de){return(0,me.m)(de?.getReader)}},3532:(_t,Fe,q)=>{q.d(Fe,{K:()=>me});var c=q(576);function me(G){return G&&(0,c.m)(G.schedule)}},4482:(_t,Fe,q)=>{q.d(Fe,{A:()=>me,e:()=>G});var c=q(576);function me(Ce){return(0,c.m)(Ce?.lift)}function G(Ce){return de=>{if(me(de))return de.lift(function(Ee){try{return Ce(Ee,this)}catch(Me){this.error(Me)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(_t,Fe,q)=>{function c(){}q.d(Fe,{Z:()=>c})},9635:(_t,Fe,q)=>{q.d(Fe,{U:()=>G,z:()=>me});var c=q(4671);function me(...Ce){return G(Ce)}function G(Ce){return 0===Ce.length?c.y:1===Ce.length?Ce[0]:function(Ee){return Ce.reduce((Me,Ie)=>Ie(Me),Ee)}}},7849:(_t,Fe,q)=>{q.d(Fe,{h:()=>G});var c=q(2416),me=q(3410);function G(Ce){me.z.setTimeout(()=>{const{onUnhandledError:de}=c.v;if(!de)throw Ce;de(Ce)})}},4532:(_t,Fe,q)=>{function c(me){return new TypeError(`You provided ${null!==me&&"object"==typeof me?"an invalid object":`'${me}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}q.d(Fe,{z:()=>c})},655:(_t,Fe,q)=>{function Ce(ie,fe){var De={};for(var we in ie)Object.prototype.hasOwnProperty.call(ie,we)&&fe.indexOf(we)<0&&(De[we]=ie[we]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var at=0;for(we=Object.getOwnPropertySymbols(ie);at<we.length;at++)fe.indexOf(we[at])<0&&Object.prototype.propertyIsEnumerable.call(ie,we[at])&&(De[we[at]]=ie[we[at]])}return De}function Ie(ie,fe,De,we){return new(De||(De=Promise))(function(tt,Gt){function Fn(mn){try{bn(we.next(mn))}catch(Yt){Gt(Yt)}}function zn(mn){try{bn(we.throw(mn))}catch(Yt){Gt(Yt)}}function bn(mn){mn.done?tt(mn.value):function at(tt){return tt instanceof De?tt:new De(function(Gt){Gt(tt)})}(mn.value).then(Fn,zn)}bn((we=we.apply(ie,fe||[])).next())})}function xe(ie){return this instanceof xe?(this.v=ie,this):new xe(ie)}function je(ie,fe,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var at,we=De.apply(ie,fe||[]),tt=[];return at={},Gt("next"),Gt("throw"),Gt("return"),at[Symbol.asyncIterator]=function(){return this},at;function Gt(Hn){we[Hn]&&(at[Hn]=function(Lr){return new Promise(function(Vi,Qt){tt.push([Hn,Lr,Vi,Qt])>1||Fn(Hn,Lr)})})}function Fn(Hn,Lr){try{!function zn(Hn){Hn.value instanceof xe?Promise.resolve(Hn.value.v).then(bn,mn):Yt(tt[0][2],Hn)}(we[Hn](Lr))}catch(Vi){Yt(tt[0][3],Vi)}}function bn(Hn){Fn("next",Hn)}function mn(Hn){Fn("throw",Hn)}function Yt(Hn,Lr){Hn(Lr),tt.shift(),tt.length&&Fn(tt[0][0],tt[0][1])}}function Oe(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,fe=ie[Symbol.asyncIterator];return fe?fe.call(ie):(ie=function ce(ie){var fe="function"==typeof Symbol&&Symbol.iterator,De=fe&&ie[fe],we=0;if(De)return De.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&we>=ie.length&&(ie=void 0),{value:ie&&ie[we++],done:!ie}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),De={},we("next"),we("throw"),we("return"),De[Symbol.asyncIterator]=function(){return this},De);function we(tt){De[tt]=ie[tt]&&function(Gt){return new Promise(function(Fn,zn){!function at(tt,Gt,Fn,zn){Promise.resolve(zn).then(function(bn){tt({value:bn,done:Fn})},Gt)}(Fn,zn,(Gt=ie[tt](Gt)).done,Gt.value)})}}}q.d(Fe,{FC:()=>je,KL:()=>Oe,_T:()=>Ce,mG:()=>Ie,qq:()=>xe})},4650:(_t,Fe,q)=>{q.d(Fe,{$8M:()=>Ef,$Z:()=>$0,AFp:()=>$C,ALo:()=>Tv,AaK:()=>Ie,BQk:()=>Mg,CHM:()=>zd,CRH:()=>K1,CZH:()=>Lc,CqO:()=>bb,D6c:()=>$v,DdM:()=>_C,DjV:()=>b_,EJc:()=>BI,EpF:()=>vb,F$t:()=>Ky,F4k:()=>h_,FYo:()=>Sh,FiY:()=>pa,Gf:()=>Cs,GfV:()=>Lm,Gpc:()=>te,Hsn:()=>Cb,Ikx:()=>p,JOm:()=>Uo,KtG:()=>mf,LFG:()=>st,LSH:()=>fy,Lbi:()=>Pv,Lck:()=>O1,MAs:()=>Bh,MGl:()=>f_,MMx:()=>x_,MR2:()=>Pi,NdJ:()=>Wy,OlP:()=>qn,Oqu:()=>Bb,P3R:()=>py,PXZ:()=>Qg,Q6J:()=>c_,QGY:()=>zy,QP$:()=>Vr,QbO:()=>gE,Qsj:()=>_w,QtT:()=>Kh,R0b:()=>Nu,RDi:()=>Js,Rgc:()=>Iv,SBq:()=>Dh,SDv:()=>A1,Sil:()=>uS,Suo:()=>xC,TTD:()=>pe,TgZ:()=>np,Tol:()=>Rd,Udp:()=>Ya,VKq:()=>nE,W1O:()=>J1,WLB:()=>R_,X6Q:()=>WC,XFs:()=>zt,Xpm:()=>xa,Xts:()=>Pm,Y36:()=>Gf,YKP:()=>fC,YNc:()=>u_,Yjl:()=>Qo,Yz7:()=>Qt,Z0I:()=>$i,ZZ4:()=>AE,_Bn:()=>eE,_UZ:()=>qy,_Vd:()=>Uf,_c5:()=>Fd,_uU:()=>Pc,aQg:()=>XC,c2e:()=>Ov,cJS:()=>Ts,cg1:()=>P,dDg:()=>bE,dqk:()=>Pt,eFA:()=>qC,ekj:()=>sp,eoX:()=>oo,f3M:()=>Tt,g9A:()=>pE,h0i:()=>cp,hGG:()=>IS,hij:()=>Bg,iGM:()=>Ye,ifc:()=>Pe,ip1:()=>B_,jDz:()=>Dv,kEZ:()=>yC,kL8:()=>U,lG2:()=>xo,lcZ:()=>dp,lqb:()=>ya,lri:()=>mS,n5z:()=>Jd,oAB:()=>Ln,oxw:()=>Mc,pQV:()=>Gg,q4F:()=>wi,qLn:()=>hi,qOj:()=>Sg,qZA:()=>d_,rWj:()=>Di,s9C:()=>Db,sBO:()=>bS,sIi:()=>Rh,s_b:()=>lE,soG:()=>mE,tb:()=>HC,tp0:()=>O,uIk:()=>jy,vHH:()=>xe,vpe:()=>kc,wAp:()=>he,xi3:()=>CC,xp6:()=>x0,ynx:()=>Za,z2F:()=>U_,zSh:()=>Xs,zs3:()=>Ah});var c=q(7579),me=q(727),G=q(9751),Ce=q(6451),de=q(3099);function Ee(o){for(let a in o)if(o[a]===Ee)return a;throw Error("Could not find renamed property on target object.")}function Me(o,a){for(const d in a)a.hasOwnProperty(d)&&!o.hasOwnProperty(d)&&(o[d]=a[d])}function Ie(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Ie).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const d=a.indexOf("\n");return-1===d?a:a.substring(0,d)}function Ae(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const X=Ee({__forward_ref__:Ee});function te(o){return o.__forward_ref__=te,o.toString=function(){return Ie(this())},o}function ce(o){return ot(o)?o():o}function ot(o){return"function"==typeof o&&o.hasOwnProperty(X)&&o.__forward_ref__===te}function ze(o){return o&&!!o.\u0275providers}const Ct="https://g.co/ng/security#xss";class xe extends Error{constructor(a,d){super(function je(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}(a,d)),this.code=a}}function Ge(o){return"string"==typeof o?o:null==o?"":String(o)}function ut(o,a){throw new xe(-201,!1)}function Yt(o,a,d,g){throw new Error(`ASSERTION ERROR: ${o}`+(null==g?"":` [Expected=> ${d} ${g} ${a} <=Actual]`))}function Qt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Ts(o){return{providers:o.providers||[],imports:o.imports||[]}}function Ui(o){return Hi(o,is)||Hi(o,sr)}function $i(o){return null!==Ui(o)}function Hi(o,a){return o.hasOwnProperty(a)?o[a]:null}function lo(o){return o&&(o.hasOwnProperty(sl)||o.hasOwnProperty(ss))?o[sl]:null}const is=Ee({\u0275prov:Ee}),sl=Ee({\u0275inj:Ee}),sr=Ee({ngInjectableDef:Ee}),ss=Ee({ngInjectorDef:Ee});var zt=(()=>((zt=zt||{})[zt.Default=0]="Default",zt[zt.Host=1]="Host",zt[zt.Self=2]="Self",zt[zt.SkipSelf=4]="SkipSelf",zt[zt.Optional=8]="Optional",zt))();let So;function Nn(o){const a=So;return So=o,a}function ji(o,a,d){const g=Ui(o);return g&&"root"==g.providedIn?void 0===g.value?g.value=g.factory():g.value:d&zt.Optional?null:void 0!==a?a:void ut(Ie(o))}const Pt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),_r={},Qn="__NG_DI_FLAG__",uo="ngTempTokenPath",Pu=/\n/gm,Jo="__source";let Cn;function Wr(o){const a=Cn;return Cn=o,a}function An(o,a=zt.Default){if(void 0===Cn)throw new xe(-203,!1);return null===Cn?ji(o,void 0,a):Cn.get(o,a&zt.Optional?null:void 0,a)}function st(o,a=zt.Default){return(function dr(){return So}()||An)(ce(o),a)}function Tt(o,a=zt.Default){return st(o,un(a))}function un(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function en(o){const a=[];for(let d=0;d<o.length;d++){const g=ce(o[d]);if(Array.isArray(g)){if(0===g.length)throw new xe(900,!1);let m,b=zt.Default;for(let S=0;S<g.length;S++){const x=g[S],M=ne(x);"number"==typeof M?-1===M?m=x.token:b|=M:m=x}a.push(st(m,b))}else a.push(st(g))}return a}function Kt(o,a){return o[Qn]=a,o.prototype[Qn]=a,o}function ne(o){return o[Qn]}function Re(o){return{toString:o}.toString()}var ye=(()=>((ye=ye||{})[ye.OnPush=0]="OnPush",ye[ye.Default=1]="Default",ye))(),Pe=(()=>{return(o=Pe||(Pe={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Pe;var o})();const yr={},Xt=[],Kn=Ee({\u0275cmp:Ee}),Rt=Ee({\u0275dir:Ee}),vr=Ee({\u0275pipe:Ee}),Io=Ee({\u0275mod:Ee}),Ot=Ee({\u0275fac:Ee}),Aa=Ee({__NG_ELEMENT_ID__:Ee});let Gc=0;function xa(o){return Re(()=>{const d=!0===o.standalone,g={},m={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:g,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===ye.OnPush,directiveDefs:null,pipeDefs:null,standalone:d,dependencies:d&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Xt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Pe.Emulated,id:"c"+Gc++,styles:o.styles||Xt,_:null,setInput:null,schemas:o.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},b=o.dependencies,S=o.features;return m.inputs=Ou(o.inputs,g),m.outputs=Ou(o.outputs),S&&S.forEach(x=>x(m)),m.directiveDefs=b?()=>("function"==typeof b?b():b).map(Vl).filter(ol):null,m.pipeDefs=b?()=>("function"==typeof b?b():b).map(Br).filter(ol):null,m})}function Vl(o){return Bn(o)||Kr(o)}function ol(o){return null!==o}function Ln(o){return Re(()=>({type:o.type,bootstrap:o.bootstrap||Xt,declarations:o.declarations||Xt,imports:o.imports||Xt,exports:o.exports||Xt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Ou(o,a){if(null==o)return yr;const d={};for(const g in o)if(o.hasOwnProperty(g)){let m=o[g],b=m;Array.isArray(m)&&(b=m[1],m=m[0]),d[m]=g,a&&(a[m]=b)}return d}const xo=xa;function Qo(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Bn(o){return o[Kn]||null}function Kr(o){return o[Rt]||null}function Br(o){return o[vr]||null}function Vr(o){const a=Bn(o)||Kr(o)||Br(o);return null!==a&&a.standalone}function Zr(o,a){const d=o[Io]||null;if(!d&&!0===a)throw new Error(`Type ${Ie(o)} does not have '\u0275mod' property.`);return d}function as(o){return Array.isArray(o)&&"object"==typeof o[1]}function hn(o){return Array.isArray(o)&&!0===o[1]}function dt(o){return 0!=(4&o.flags)}function fo(o){return o.componentOffset>-1}function Yr(o){return 1==(1&o.flags)}function _i(o){return null!==o.template}function yn(o){return 0!=(256&o[2])}function al(o,a){return o.hasOwnProperty(Ot)?o[Ot]:null}class na{constructor(a,d,g){this.previousValue=a,this.currentValue=d,this.firstChange=g}isFirstChange(){return this.firstChange}}function pe(){return Z}function Z(o){return o.type.prototype.ngOnChanges&&(o.setInput=Qc),Jc}function Jc(){const o=Vu(this),a=o?.current;if(a){const d=o.previous;if(d===yr)o.previous=a;else for(let g in a)d[g]=a[g];o.current=null,this.ngOnChanges(a)}}function Qc(o,a,d,g){const m=this.declaredInputs[d],b=Vu(o)||function ll(o,a){return o[Ra]=a}(o,{previous:yr,current:null}),S=b.current||(b.current={}),x=b.previous,M=x[m];S[m]=new na(M&&M.currentValue,a,x===yr),o[g]=a}pe.ngInherit=!0;const Ra="__ngSimpleChanges__";function Vu(o){return o[Ra]||null}function Rr(o){for(;Array.isArray(o);)o=o[0];return o}function cl(o,a){return Rr(a[o])}function Sr(o,a){return Rr(a[o.index])}function ra(o,a){return o.data[a]}function ia(o,a){return o[a]}function ii(o,a){const d=a[o];return as(d)?d:d[0]}function $u(o){return 64==(64&o[2])}function Ro(o,a){return null==a?null:o[a]}function ju(o){o[18]=0}function jl(o,a){o[5]+=a;let d=o,g=o[3];for(;null!==g&&(1===a&&1===d[5]||-1===a&&0===d[5]);)g[5]+=a,d=g,g=g[3]}const kt={lFrame:td(null),bindingsEnabled:!0};function qi(){return kt.bindingsEnabled}function qe(){return kt.lFrame.lView}function Vn(){return kt.lFrame.tView}function zd(o){return kt.lFrame.contextLView=o,o[8]}function mf(o){return kt.lFrame.contextLView=null,o}function vi(){let o=Gl();for(;null!==o&&64===o.type;)o=o.parent;return o}function Gl(){return kt.lFrame.currentTNode}function Xc(){const o=kt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}function zs(o,a){const d=kt.lFrame;d.currentTNode=o,d.isParent=a}function dl(){return kt.lFrame.isParent}function ka(){kt.lFrame.isParent=!1}function ur(){const o=kt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function si(){return kt.lFrame.bindingIndex}function Po(){return kt.lFrame.bindingIndex++}function Ws(o){const a=kt.lFrame,d=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,d}function _f(o){kt.lFrame.inI18n=o}function yf(o,a){const d=kt.lFrame;d.bindingIndex=d.bindingRootIndex=o,ds(a)}function ds(o){kt.lFrame.currentDirectiveIndex=o}function Oo(){return kt.lFrame.currentQueryIndex}function go(o){kt.lFrame.currentQueryIndex=o}function ko(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function ql(o,a,d){if(d&zt.SkipSelf){let m=a,b=o;for(;!(m=m.parent,null!==m||d&zt.Host||(m=ko(b),null===m||(b=b[15],10&m.type))););if(null===m)return!1;a=m,o=b}const g=kt.lFrame=aa();return g.currentTNode=a,g.lView=o,!0}function zl(o){const a=aa(),d=o[1];kt.lFrame=a,a.currentTNode=d.firstChild,a.lView=o,a.tView=d,a.contextLView=o,a.bindingIndex=d.bindingStartIndex,a.inI18n=!1}function aa(){const o=kt.lFrame,a=null===o?null:o.child;return null===a?td(o):a}function td(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function sy(){const o=kt.lFrame;return kt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Kd=sy;function pm(){const o=sy();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function hs(){return kt.lFrame.selectedIndex}function Ku(o){kt.lFrame.selectedIndex=o}function mr(){const o=kt.lFrame;return ra(o.tView,o.selectedIndex)}function La(o,a){for(let d=a.directiveStart,g=a.directiveEnd;d<g;d++){const b=o.data[d].type.prototype,{ngAfterContentInit:S,ngAfterContentChecked:x,ngAfterViewInit:M,ngAfterViewChecked:k,ngOnDestroy:$}=b;S&&(o.contentHooks||(o.contentHooks=[])).push(-d,S),x&&((o.contentHooks||(o.contentHooks=[])).push(d,x),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(d,x)),M&&(o.viewHooks||(o.viewHooks=[])).push(-d,M),k&&((o.viewHooks||(o.viewHooks=[])).push(d,k),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(d,k)),null!=$&&(o.destroyHooks||(o.destroyHooks=[])).push(d,$)}}function zi(o,a,d){hl(o,a,3,d)}function Yu(o,a,d,g){(3&o[2])===d&&hl(o,a,d,g)}function mo(o,a){let d=o[2];(3&d)===a&&(d&=2047,d+=1,o[2]=d)}function hl(o,a,d,g){const b=g??-1,S=a.length-1;let x=0;for(let M=void 0!==g?65535&o[18]:0;M<S;M++)if("number"==typeof a[M+1]){if(x=a[M],null!=g&&x>=g)break}else a[M]<0&&(o[18]+=65536),(x<b||-1==b)&&(Wl(o,d,a,M),o[18]=(4294901760&o[18])+M+2),M++}function Wl(o,a,d,g){const m=d[g]<0,b=d[g+1],x=o[m?-d[g]:d[g]];if(m){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{b.call(x)}finally{}}}else try{b.call(x)}finally{}}class Ju{constructor(a,d,g){this.factory=a,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=g}}function hr(o,a,d){let g=0;for(;g<d.length;){const m=d[g];if("number"==typeof m){if(0!==m)break;g++;const b=d[g++],S=d[g++],x=d[g++];o.setAttribute(a,S,x,b)}else{const b=m,S=d[++g];Jl(b)?o.setProperty(a,b,S):o.setAttribute(a,b,S),g++}}return g}function Yl(o){return 3===o||4===o||6===o}function Jl(o){return 64===o.charCodeAt(0)}function la(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let d=-1;for(let g=0;g<a.length;g++){const m=a[g];"number"==typeof m?d=m:0===d||Xu(o,d,m,null,-1===d||2===d?a[++g]:null)}}return o}function Xu(o,a,d,g,m){let b=0,S=o.length;if(-1===a)S=-1;else for(;b<o.length;){const x=o[b++];if("number"==typeof x){if(x===a){S=-1;break}if(x>a){S=b-1;break}}}for(;b<o.length;){const x=o[b];if("number"==typeof x)break;if(x===d){if(null===g)return void(null!==m&&(o[b+1]=m));if(g===o[b+1])return void(o[b+2]=m)}b++,null!==g&&b++,null!==m&&b++}-1!==S&&(o.splice(S,0,a),b=S+1),o.splice(b++,0,d),null!==g&&o.splice(b++,0,g),null!==m&&o.splice(b++,0,m)}function Ql(o){return-1!==o}function fl(o){return 32767&o}function Xl(o,a){let d=function rd(o){return o>>16}(o),g=a;for(;d>0;)g=g[15],d--;return g}let Lo=!0;function pl(o){const a=Lo;return Lo=o,a}let ml=0;const Wi={};function Bo(o,a){const d=nc(o,a);if(-1!==d)return d;const g=a[1];g.firstCreatePass&&(o.injectorIndex=a.length,Va(g.data,o),Va(a,null),Va(g.blueprint,null));const m=id(o,a),b=o.injectorIndex;if(Ql(m)){const S=fl(m),x=Xl(m,a),M=x[1].data;for(let k=0;k<8;k++)a[b+k]=x[S+k]|M[S+k]}return a[b+8]=m,b}function Va(o,a){o.push(0,0,0,0,0,0,0,0,a)}function nc(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function id(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let d=0,g=null,m=a;for(;null!==m;){if(g=Hr(m),null===g)return-1;if(d++,m=m[15],-1!==g.injectorIndex)return g.injectorIndex|d<<16}return-1}function rc(o,a,d){!function tc(o,a,d){let g;"string"==typeof d?g=d.charCodeAt(0)||0:d.hasOwnProperty(Aa)&&(g=d[Aa]),null==g&&(g=d[Aa]=ml++);const m=255&g;a.data[o+(m>>5)]|=1<<m}(o,a,d)}function As(o,a,d){if(d&zt.Optional||void 0!==o)return o;ut()}function Yd(o,a,d,g){if(d&zt.Optional&&void 0===g&&(g=null),0==(d&(zt.Self|zt.Host))){const m=o[9],b=Nn(void 0);try{return m?m.get(a,g,d&zt.Optional):ji(a,g,d&zt.Optional)}finally{Nn(b)}}return As(g,0,d)}function Mp(o,a,d,g=zt.Default,m){if(null!==o){if(1024&a[2]){const S=function Rp(o,a,d,g,m){let b=o,S=a;for(;null!==b&&null!==S&&1024&S[2]&&!(256&S[2]);){const x=_o(b,S,d,g|zt.Self,Wi);if(x!==Wi)return x;let M=b.parent;if(!M){const k=S[21];if(k){const $=k.get(d,Wi,g);if($!==Wi)return $}M=Hr(S),S=S[15]}b=M}return m}(o,a,d,g,Wi);if(S!==Wi)return S}const b=_o(o,a,d,g,Wi);if(b!==Wi)return b}return Yd(a,d,g,m)}function _o(o,a,d,g,m){const b=function ca(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Aa)?o[Aa]:void 0;return"number"==typeof a?a>=0?255&a:od:a}(d);if("function"==typeof b){if(!ql(a,o,g))return g&zt.Host?As(m,0,g):Yd(a,d,g,m);try{const S=b(g);if(null!=S||g&zt.Optional)return S;ut()}finally{Kd()}}else if("number"==typeof b){let S=null,x=nc(o,a),M=-1,k=g&zt.Host?a[16][6]:null;for((-1===x||g&zt.SkipSelf)&&(M=-1===x?id(o,a):a[x+8],-1!==M&&fs(g,!1)?(S=a[1],x=fl(M),a=Xl(M,a)):x=-1);-1!==x;){const $=a[1];if(sc(b,x,$.data)){const K=sd(x,a,d,S,g,k);if(K!==Wi)return K}M=a[x+8],-1!==M&&fs(g,a[1].data[x+8]===k)&&sc(b,x,a)?(S=$,x=fl(M),a=Xl(M,a)):x=-1}}return m}function sd(o,a,d,g,m,b){const S=a[1],x=S.data[o+8],$=ic(x,S,d,null==g?fo(x)&&Lo:g!=S&&0!=(3&x.type),m&zt.Host&&b===x);return null!==$?yo(a,S,$,x):Wi}function ic(o,a,d,g,m){const b=o.providerIndexes,S=a.data,x=1048575&b,M=o.directiveStart,$=b>>20,re=m?x+$:o.directiveEnd;for(let ge=g?x:x+$;ge<re;ge++){const Le=S[ge];if(ge<M&&d===Le||ge>=M&&Le.type===d)return ge}if(m){const ge=S[M];if(ge&&_i(ge)&&ge.type===d)return M}return null}function yo(o,a,d,g){let m=o[d];const b=a.data;if(function Ks(o){return o instanceof Ju}(m)){const S=m;S.resolving&&function Ue(o,a){const d=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new xe(-200,`Circular dependency in DI detected for ${o}${d}`)}(function Oe(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ge(o)}(b[d]));const x=pl(S.canSeeViewProviders);S.resolving=!0;const M=S.injectImpl?Nn(S.injectImpl):null;ql(o,g,zt.Default);try{m=o[d]=S.factory(void 0,b,o,g),a.firstCreatePass&&d>=g.directiveStart&&function Mn(o,a,d){const{ngOnChanges:g,ngOnInit:m,ngDoCheck:b}=a.type.prototype;if(g){const S=Z(a);(d.preOrderHooks||(d.preOrderHooks=[])).push(o,S),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(o,S)}m&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-o,m),b&&((d.preOrderHooks||(d.preOrderHooks=[])).push(o,b),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(o,b))}(d,b[d],a)}finally{null!==M&&Nn(M),pl(x),S.resolving=!1,Kd()}}return m}function sc(o,a,d){return!!(d[a+(o>>5)]&1<<o)}function fs(o,a){return!(o&zt.Self||o&zt.Host&&a)}class wr{constructor(a,d){this._tNode=a,this._lView=d}get(a,d,g){return Mp(this._tNode,this._lView,a,un(g),d)}}function od(){return new wr(vi(),qe())}function Jd(o){return Re(()=>{const a=o.prototype.constructor,d=a[Ot]||eu(a),g=Object.prototype;let m=Object.getPrototypeOf(o.prototype).constructor;for(;m&&m!==g;){const b=m[Ot]||eu(m);if(b&&b!==d)return b;m=Object.getPrototypeOf(m)}return b=>new b})}function eu(o){return ot(o)?()=>{const a=eu(ce(o));return a&&a()}:al(o)}function Hr(o){const a=o[1],d=a.type;return 2===d?a.declTNode:1===d?o[6]:null}function Ef(o){return function Zs(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const d=o.attrs;if(d){const g=d.length;let m=0;for(;m<g;){const b=d[m];if(Yl(b))break;if(0===b)m+=2;else if("number"==typeof b)for(m++;m<g&&"string"==typeof d[m];)m++;else{if(b===a)return d[m+1];m+=2}}}return null}(vi(),o)}const da="__parameters__";function oc(o,a,d){return Re(()=>{const g=function wf(o){return function(...d){if(o){const g=o(...d);for(const m in g)this[m]=g[m]}}}(a);function m(...b){if(this instanceof m)return g.apply(this,b),this;const S=new m(...b);return x.annotation=S,x;function x(M,k,$){const K=M.hasOwnProperty(da)?M[da]:Object.defineProperty(M,da,{value:[]})[da];for(;K.length<=$;)K.push(null);return(K[$]=K[$]||[]).push(S),M}}return d&&(m.prototype=Object.create(d.prototype)),m.prototype.ngMetadataName=o,m.annotationCls=m,m})}class qn{constructor(a,d){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=Qt({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ms(o,a){o.forEach(d=>Array.isArray(d)?ms(d,a):a(d))}function yl(o,a,d){a>=o.length?o.push(d):o.splice(a,0,d)}function fa(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function ru(o,a){const d=[];for(let g=0;g<o;g++)d.push(a);return d}function cn(o,a,d){let g=Qr(o,a);return g>=0?o[1|g]=d:(g=~g,function dc(o,a,d,g){let m=o.length;if(m==a)o.push(d,g);else if(1===m)o.push(g,o[0]),o[0]=d;else{for(m--,o.push(o[m-1],o[m]);m>a;)o[m]=o[m-2],m--;o[a]=d,o[a+1]=g}}(o,g,a,d)),g}function ir(o,a){const d=Qr(o,a);if(d>=0)return o[1|d]}function Qr(o,a){return function vl(o,a,d){let g=0,m=o.length>>d;for(;m!==g;){const b=g+(m-g>>1),S=o[b<<d];if(a===S)return b<<d;S>a?m=b:g=b+1}return~(m<<d)}(o,a,1)}const pa=Kt(oc("Optional"),8),O=Kt(oc("SkipSelf"),4);var Uo=(()=>((Uo=Uo||{})[Uo.Important=1]="Important",Uo[Uo.DashCase=2]="DashCase",Uo))();const bm=/^>|^->|<!--|-->|--!>|<!-$/g,ys=/(<|>)/;const Tf=new Map;let ly=0;const Em="__ngContext__";function bs(o,a){as(a)?(o[Em]=a[20],function Up(o){Tf.set(o[20],o)}(a)):o[Em]=a}let Rs;function Ha(o,a){return Rs(o,a)}function $o(o){const a=o[3];return hn(a)?a[3]:a}function lu(o){return ud(o[13])}function Mi(o){return ud(o[4])}function ud(o){for(;null!==o&&!hn(o);)o=o[4];return o}function Cl(o,a,d,g,m){if(null!=g){let b,S=!1;hn(g)?b=g:as(g)&&(S=!0,g=g[0]);const x=Rr(g);0===o&&null!==d?null==m?Sl(a,d,x):cu(a,d,x,m||null,!0):1===o&&null!==d?cu(a,d,x,m||null,!0):2===o?_a(a,x,S):3===o&&a.destroyNode(x),null!=b&&function Sm(o,a,d,g,m){const b=d[7];b!==Rr(d)&&Cl(a,o,g,b,m);for(let x=10;x<d.length;x++){const M=d[x];Cc(M[1],M,o,a,g,b)}}(a,o,b,d,m)}}function Ri(o,a){return o.createText(a)}function Eo(o,a,d){o.setValue(a,d)}function Dl(o,a){return o.createComment(function Vp(o){return o.replace(bm,a=>a.replace(ys,"\u200b$1\u200b"))}(a))}function cd(o,a,d){return o.createElement(a,d)}function uu(o,a){const d=o[9],g=d.indexOf(a),m=a[3];512&a[2]&&(a[2]&=-513,jl(m,-1)),d.splice(g,1)}function dd(o,a){if(o.length<=10)return;const d=10+a,g=o[d];if(g){const m=g[17];null!==m&&m!==o&&uu(m,g),a>0&&(o[d-1][4]=g[4]);const b=fa(o,10+a);!function jp(o,a){Cc(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(g[1],g);const S=b[19];null!==S&&S.detachView(b[1]),g[3]=null,g[4]=null,g[2]&=-65}return g}function wm(o,a){if(!(128&a[2])){const d=a[11];d.destroyNode&&Cc(o,a,d,3,null,null),function Ps(o){let a=o[13];if(!a)return hh(o[1],o);for(;a;){let d=null;if(as(a))d=a[13];else{const g=a[10];g&&(d=g)}if(!d){for(;a&&!a[4]&&a!==o;)as(a)&&hh(a[1],a),a=a[3];null===a&&(a=o),as(a)&&hh(a[1],a),d=a&&a[4]}a=d}}(a)}}function hh(o,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function Ys(o,a){let d;if(null!=o&&null!=(d=o.destroyHooks))for(let g=0;g<d.length;g+=2){const m=a[d[g]];if(!(m instanceof Ju)){const b=d[g+1];if(Array.isArray(b))for(let S=0;S<b.length;S+=2){const x=m[b[S]],M=b[S+1];try{M.call(x)}finally{}}else try{b.call(m)}finally{}}}}(o,a),function vc(o,a){const d=o.cleanup,g=a[7];let m=-1;if(null!==d)for(let b=0;b<d.length-1;b+=2)if("string"==typeof d[b]){const S=d[b+3];S>=0?g[m=S]():g[m=-S].unsubscribe(),b+=2}else{const S=g[m=d[b+1]];d[b].call(S)}if(null!==g){for(let b=m+1;b<g.length;b++)(0,g[b])();a[7]=null}}(o,a),1===a[1].type&&a[11].destroy();const d=a[17];if(null!==d&&hn(a[3])){d!==a[3]&&uu(d,a);const g=a[19];null!==g&&g.detachView(o)}!function If(o){Tf.delete(o[20])}(a)}}function Gp(o,a,d){return qp(o,a.parent,d)}function qp(o,a,d){let g=a;for(;null!==g&&40&g.type;)g=(a=g).parent;if(null===g)return d[0];{const{componentOffset:m}=g;if(m>-1){const{encapsulation:b}=o.data[g.directiveStart+m];if(b===Pe.None||b===Pe.Emulated)return null}return Sr(g,d)}}function cu(o,a,d,g,m){o.insertBefore(a,d,g,m)}function Sl(o,a,d){o.appendChild(a,d)}function Cm(o,a,d,g,m){null!==g?cu(o,a,d,g,m):Sl(o,a,d)}function bc(o,a){return o.parentNode(a)}function Dm(o,a,d){return hd(o,a,d)}function fh(o,a,d){return 40&o.type?Sr(o,d):null}let Ec,Zp,Of,pd,hd=fh;function ph(o,a){hd=o,Ec=a}function xn(o,a,d,g){const m=Gp(o,g,a),b=a[11],x=Dm(g.parent||a[6],g,a);if(null!=m)if(Array.isArray(d))for(let M=0;M<d.length;M++)Cm(b,m,d[M],x,!1);else Cm(b,m,d,x,!1);void 0!==Ec&&Ec(b,g,a,d,m)}function gh(o,a){if(null!==a){const d=a.type;if(3&d)return Sr(a,o);if(4&d)return Gn(-1,o[a.index]);if(8&d){const g=a.child;if(null!==g)return gh(o,g);{const m=o[a.index];return hn(m)?Gn(-1,m):Rr(m)}}if(32&d)return Ha(a,o)()||Rr(o[a.index]);{const g=zp(o,a);return null!==g?Array.isArray(g)?g[0]:gh($o(o[16]),g):gh(o,a.next)}}return null}function zp(o,a){return null!==a?o[16][6].projection[a.projection]:null}function Gn(o,a){const d=10+o+1;if(d<a.length){const g=a[d],m=g[1].firstChild;if(null!==m)return gh(g,m)}return a[7]}function _a(o,a,d){const g=bc(o,a);g&&function uy(o,a,d,g){o.removeChild(a,d,g)}(o,g,a,d)}function wc(o,a,d,g,m,b,S){for(;null!=d;){const x=g[d.index],M=d.type;if(S&&0===a&&(x&&bs(Rr(x),g),d.flags|=2),32!=(32&d.flags))if(8&M)wc(o,a,d.child,g,m,b,!1),Cl(a,o,m,x,b);else if(32&M){const k=Ha(d,g);let $;for(;$=k();)Cl(a,o,m,$,b);Cl(a,o,m,x,b)}else 16&M?Wp(o,a,g,d,m,b):Cl(a,o,m,x,b);d=S?d.projectionNext:d.next}}function Cc(o,a,d,g,m,b){wc(d,g,o.firstChild,a,m,b,!1)}function Wp(o,a,d,g,m,b){const S=d[16],M=S[6].projection[g.projection];if(Array.isArray(M))for(let k=0;k<M.length;k++)Cl(a,o,m,M[k],b);else wc(o,a,M,S[3],m,b,!0)}function Tl(o,a,d){""===d?o.removeAttribute(a,"class"):o.setAttribute(a,"class",d)}function mh(o,a,d){const{mergedAttrs:g,classes:m,styles:b}=d;null!==g&&hr(o,a,g),null!==m&&Tl(o,a,m),null!==b&&function Kp(o,a,d){o.setAttribute(a,"style",d)}(o,a,b)}function hu(o){return function Pf(){if(void 0===Zp&&(Zp=null,Pt.trustedTypes))try{Zp=Pt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Zp}()?.createHTML(o)||o}function Js(o){Of=o}function gu(o){return function yh(){if(void 0===pd&&(pd=null,Pt.trustedTypes))try{pd=Pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return pd}()?.createScriptURL(o)||o}class kf{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ct})`}}function I(o){return o instanceof kf?o.changingThisBreaksApplicationSecurity:o}function F(o,a){const d=function H(o){return o instanceof kf&&o.getTypeName()||null}(o);if(null!=d&&d!==a){if("ResourceURL"===d&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${d} (see ${Ct})`)}return d===a}class ui{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const d=(new window.DOMParser).parseFromString(hu(a),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(a):(d.removeChild(d.firstChild),d)}catch{return null}}}class Qs{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const g=this.inertDocument.createElement("body");d.appendChild(g)}}getInertBodyElement(a){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=hu(a),d;const g=this.inertDocument.createElement("body");return g.innerHTML=hu(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(g),g}stripCustomNsAttrs(a){const d=a.attributes;for(let m=d.length-1;0<m;m--){const S=d.item(m).name;("xmlns:ns1"===S||0===S.indexOf("ns1:"))&&a.removeAttribute(S)}let g=a.firstChild;for(;g;)g.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(g),g=g.nextSibling}}const Nm=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function gd(o){return(o=String(o)).match(Nm)?o:"unsafe:"+o}function Ho(o){const a={};for(const d of o.split(","))a[d]=!0;return a}function mu(...o){const a={};for(const d of o)for(const g in d)d.hasOwnProperty(g)&&(a[g]=!0);return a}const md=Ho("area,br,col,hr,img,wbr"),Yp=Ho("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Lf=Ho("rp,rt"),_d=mu(md,mu(Yp,Ho("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),mu(Lf,Ho("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mu(Lf,Yp)),Qp=Ho("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dy=mu(Qp,Ho("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ho("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var ci=(()=>((ci=ci||{})[ci.NONE=0]="NONE",ci[ci.HTML=1]="HTML",ci[ci.STYLE=2]="STYLE",ci[ci.SCRIPT=3]="SCRIPT",ci[ci.URL=4]="URL",ci[ci.RESOURCE_URL=5]="RESOURCE_URL",ci))();function fy(o){const a=Rm();return a?a.sanitize(ci.URL,o)||"":F(o,"URL")?I(o):gd(Ge(o))}function _u(o){const a=Rm();if(a)return gu(a.sanitize(ci.RESOURCE_URL,o)||"");if(F(o,"ResourceURL"))return gu(I(o));throw new xe(904,!1)}function py(o,a,d){return function e1(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?_u:fy}(a,d)(o)}function Rm(){const o=qe();return o&&o[12]}const Pm=new qn("ENVIRONMENT_INITIALIZER"),E0=new qn("INJECTOR",-1),Ut=new qn("INJECTOR_DEF_TYPES");class Ei{get(a,d=_r){if(d===_r){const g=new Error(`NullInjectorError: No provider for ${Ie(a)}!`);throw g.name="NullInjectorError",g}return d}}function Pi(o){return{\u0275providers:o}}function gw(...o){return{\u0275providers:ng(0,o),\u0275fromNgModule:!0}}function ng(o,...a){const d=[],g=new Set;let m;return ms(a,b=>{const S=b;gy(S,d,[],g)&&(m||(m=[]),m.push(S))}),void 0!==m&&Eh(m,d),d}function Eh(o,a){for(let d=0;d<o.length;d++){const{providers:m}=o[d];_y(m,b=>{a.push(b)})}}function gy(o,a,d,g){if(!(o=ce(o)))return!1;let m=null,b=lo(o);const S=!b&&Bn(o);if(b||S){if(S&&!S.standalone)return!1;m=o}else{const M=o.ngModule;if(b=lo(M),!b)return!1;m=M}const x=g.has(m);if(S){if(x)return!1;if(g.add(m),S.dependencies){const M="function"==typeof S.dependencies?S.dependencies():S.dependencies;for(const k of M)gy(k,a,d,g)}}else{if(!b)return!1;{if(null!=b.imports&&!x){let k;g.add(m);try{ms(b.imports,$=>{gy($,a,d,g)&&(k||(k=[]),k.push($))})}finally{}void 0!==k&&Eh(k,a)}if(!x){const k=al(m)||(()=>new m);a.push({provide:m,useFactory:k,deps:Xt},{provide:Ut,useValue:m,multi:!0},{provide:Pm,useValue:()=>st(m),multi:!0})}const M=b.providers;null==M||x||_y(M,$=>{a.push($)})}}return m!==o&&void 0!==o.providers}function _y(o,a){for(let d of o)ze(d)&&(d=d.\u0275providers),Array.isArray(d)?_y(d,a):a(d)}const yy=Ee({provide:String,useValue:Ee});function ks(o){return null!==o&&"object"==typeof o&&yy in o}function yd(o){return"function"==typeof o}const Xs=new qn("Set Injector scope."),Ga={},yu={};let wh;function Or(){return void 0===wh&&(wh=new Ei),wh}class ya{}class Rn extends ya{constructor(a,d,g,m){super(),this.parent=d,this.source=g,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qa(a,S=>this.processProvider(S)),this.records.set(E0,di(void 0,this)),m.has("environment")&&this.records.set(ya,di(void 0,this));const b=this.records.get(Xs);null!=b&&"string"==typeof b.value&&this.scopes.add(b.value),this.injectorDefTypes=new Set(this.get(Ut.multi,Xt,zt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const d=Wr(this),g=Nn(void 0);try{return a()}finally{Wr(d),Nn(g)}}get(a,d=_r,g=zt.Default){this.assertNotDestroyed(),g=un(g);const m=Wr(this),b=Nn(void 0);try{if(!(g&zt.SkipSelf)){let x=this.records.get(a);if(void 0===x){const M=function ig(o){return"function"==typeof o||"object"==typeof o&&o instanceof qn}(a)&&Ui(a);x=M&&this.injectableDefInScope(M)?di(Oi(a),Ga):null,this.records.set(a,x)}if(null!=x)return this.hydrate(a,x)}return(g&zt.Self?Or():this.parent).get(a,d=g&zt.Optional&&d===_r?null:d)}catch(S){if("NullInjectorError"===S.name){if((S[uo]=S[uo]||[]).unshift(Ie(a)),m)throw S;return function J(o,a,d,g){const m=o[uo];throw a[Jo]&&m.unshift(a[Jo]),o.message=function se(o,a,d,g=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let m=Ie(a);if(Array.isArray(a))m=a.map(Ie).join(" -> ");else if("object"==typeof a){let b=[];for(let S in a)if(a.hasOwnProperty(S)){let x=a[S];b.push(S+":"+("string"==typeof x?JSON.stringify(x):Ie(x)))}m=`{${b.join(", ")}}`}return`${d}${g?"("+g+")":""}[${m}]: ${o.replace(Pu,"\n  ")}`}("\n"+o.message,m,d,g),o.ngTokenPath=m,o[uo]=null,o}(S,a,"R3InjectorError",this.source)}throw S}finally{Nn(b),Wr(m)}}resolveInjectorInitializers(){const a=Wr(this),d=Nn(void 0);try{const g=this.get(Pm.multi,Xt,zt.Self);for(const m of g)m()}finally{Wr(a),Nn(d)}}toString(){const a=[],d=this.records;for(const g of d.keys())a.push(Ie(g));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(a){let d=yd(a=ce(a))?a:ce(a&&a.provide);const g=function vd(o){return ks(o)?di(void 0,o.useValue):di(ei(o),Ga)}(a);if(yd(a)||!0!==a.multi)this.records.get(d);else{let m=this.records.get(d);m||(m=di(void 0,Ga,!0),m.factory=()=>en(m.multi),this.records.set(d,m)),d=a,m.multi.push(a)}this.records.set(d,g)}hydrate(a,d){return d.value===Ga&&(d.value=yu,d.value=d.factory()),"object"==typeof d.value&&d.value&&function w0(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(a){if(!a.providedIn)return!1;const d=ce(a.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function Oi(o){const a=Ui(o),d=null!==a?a.factory:al(o);if(null!==d)return d;if(o instanceof qn)throw new xe(204,!1);if(o instanceof Function)return function Es(o){const a=o.length;if(a>0)throw ru(a,"?"),new xe(204,!1);const d=function Bl(o){const a=o&&(o[is]||o[sr]);if(a){const d=function Ta(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),a}return null}(o);return null!==d?()=>d.factory(o):()=>new o}(o);throw new xe(204,!1)}function ei(o,a,d){let g;if(yd(o)){const m=ce(o);return al(m)||Oi(m)}if(ks(o))g=()=>ce(o.useValue);else if(function Vf(o){return!(!o||!o.useFactory)}(o))g=()=>o.useFactory(...en(o.deps||[]));else if(function Bf(o){return!(!o||!o.useExisting)}(o))g=()=>st(ce(o.useExisting));else{const m=ce(o&&(o.useClass||o.provide));if(!function Om(o){return!!o.deps}(o))return al(m)||Oi(m);g=()=>new m(...en(o.deps))}return g}function di(o,a,d=!1){return{factory:o,value:a,multi:d?[]:void 0}}function qa(o,a){for(const d of o)Array.isArray(d)?qa(d,a):d&&ze(d)?qa(d.\u0275providers,a):a(d)}class bd{}class Gr{}class km{resolveComponentFactory(a){throw function vu(o){const a=Error(`No component factory found for ${Ie(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let Uf=(()=>{class o{}return o.NULL=new km,o})();function mw(){return Ch(vi(),qe())}function Ch(o,a){return new Dh(Sr(o,a))}let Dh=(()=>{class o{constructor(d){this.nativeElement=d}}return o.__NG_ELEMENT_ID__=mw,o})();function On(o){return o instanceof Dh?o.nativeElement:o}class Sh{}let _w=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function bu(){const o=qe(),d=ii(vi().index,o);return(as(d)?d:o)[11]}(),o})(),Fm=(()=>{class o{}return o.\u0275prov=Qt({token:o,providedIn:"root",factory:()=>null}),o})();class Lm{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const wi=new Lm("15.0.4"),Ed={};function vy(o){return o.ngOriginalError}class hi{constructor(){this._console=console}handleError(a){const d=this._findOriginalError(a);this._console.error("ERROR",a),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(a){let d=a&&vy(a);for(;d&&vy(d);)d=vy(d);return d||null}}function Il(o){return o instanceof Function?o():o}function wd(o,a,d){let g=o.length;for(;;){const m=o.indexOf(a,d);if(-1===m)return m;if(0===m||o.charCodeAt(m-1)<=32){const b=a.length;if(m+b===g||o.charCodeAt(m+b)<=32)return m}d=m+1}}const I0="ng-template";function ug(o,a,d){let g=0;for(;g<o.length;){let m=o[g++];if(d&&"class"===m){if(m=o[g],-1!==wd(m.toLowerCase(),a,0))return!0}else if(1===m){for(;g<o.length&&"string"==typeof(m=o[g++]);)if(m.toLowerCase()===a)return!0;return!1}}return!1}function Um(o){return 4===o.type&&o.value!==I0}function bw(o,a,d){return a===(4!==o.type||d?o.value:I0)}function $m(o,a,d){let g=4;const m=o.attrs||[],b=function Hm(o){for(let a=0;a<o.length;a++)if(Yl(o[a]))return a;return o.length}(m);let S=!1;for(let x=0;x<a.length;x++){const M=a[x];if("number"!=typeof M){if(!S)if(4&g){if(g=2|1&g,""!==M&&!bw(o,M,d)||""===M&&1===a.length){if(to(g))return!1;S=!0}}else{const k=8&g?M:a[++x];if(8&g&&null!==o.attrs){if(!ug(o.attrs,k,d)){if(to(g))return!1;S=!0}continue}const K=A0(8&g?"class":M,m,Um(o),d);if(-1===K){if(to(g))return!1;S=!0;continue}if(""!==k){let re;re=K>b?"":m[K+1].toLowerCase();const ge=8&g?re:null;if(ge&&-1!==wd(ge,k,0)||2&g&&k!==re){if(to(g))return!1;S=!0}}}}else{if(!S&&!to(g)&&!to(M))return!1;if(S&&to(M))continue;S=!1,g=M|1&g}}return to(g)||S}function to(o){return 0==(1&o)}function A0(o,a,d,g){if(null===a)return-1;let m=0;if(g||!d){let b=!1;for(;m<a.length;){const S=a[m];if(S===o)return m;if(3===S||6===S)b=!0;else{if(1===S||2===S){let x=a[++m];for(;"string"==typeof x;)x=a[++m];continue}if(4===S)break;if(0===S){m+=4;continue}}m+=b?1:2}return-1}return function cg(o,a){let d=o.indexOf(4);if(d>-1)for(d++;d<o.length;){const g=o[d];if("number"==typeof g)return-1;if(g===a)return d;d++}return-1}(a,o)}function $f(o,a,d=!1){for(let g=0;g<a.length;g++)if($m(o,a[g],d))return!0;return!1}function wy(o,a){e:for(let d=0;d<a.length;d++){const g=a[d];if(o.length===g.length){for(let m=0;m<o.length;m++)if(o[m]!==g[m])continue e;return!0}}return!1}function Cy(o,a){return o?":not("+a.trim()+")":a}function ww(o){let a=o[0],d=1,g=2,m="",b=!1;for(;d<o.length;){let S=o[d];if("string"==typeof S)if(2&g){const x=o[++d];m+="["+S+(x.length>0?'="'+x+'"':"")+"]"}else 8&g?m+="."+S:4&g&&(m+=" "+S);else""!==m&&!to(S)&&(a+=Cy(b,m),m=""),g=S,b=b||!to(g);d++}return""!==m&&(a+=Cy(b,m)),a}const vn={};function x0(o){Sw(Vn(),qe(),hs()+o,!1)}function Sw(o,a,d,g){if(!g)if(3==(3&a[2])){const b=o.preOrderCheckHooks;null!==b&&zi(a,b,d)}else{const b=o.preOrderHooks;null!==b&&Yu(a,b,0,d)}Ku(d)}function M0(o,a=null,d=null,g){const m=R0(o,a,d,g);return m.resolveInjectorInitializers(),m}function R0(o,a=null,d=null,g,m=new Set){const b=[d||Xt,gw(o)];return g=g||("object"==typeof o?void 0:Ie(o)),new Rn(b,a||Or(),g||null,m)}let Ah=(()=>{class o{static create(d,g){if(Array.isArray(d))return M0({name:""},g,d,"");{const m=d.name??"";return M0({name:m},d.parent,d.providers,m)}}}return o.THROW_IF_NOT_FOUND=_r,o.NULL=new Ei,o.\u0275prov=Qt({token:o,providedIn:"any",factory:()=>st(E0)}),o.__NG_ELEMENT_ID__=-1,o})();function Gf(o,a=zt.Default){const d=qe();return null===d?st(o,a):Mp(vi(),d,ce(o),a)}function $0(){throw new Error("invalid")}function zm(o,a){const d=o.contentQueries;if(null!==d)for(let g=0;g<d.length;g+=2){const m=d[g],b=d[g+1];if(-1!==b){const S=o.data[b];go(m),S.contentQueries(2,a[b],b)}}}function Wm(o,a,d,g,m,b,S,x,M,k,$){const K=a.blueprint.slice();return K[0]=m,K[2]=76|g,(null!==$||o&&1024&o[2])&&(K[2]|=1024),ju(K),K[3]=K[15]=o,K[8]=d,K[10]=S||o&&o[10],K[11]=x||o&&o[11],K[12]=M||o&&o[12]||null,K[9]=k||o&&o[9]||null,K[6]=b,K[20]=function wl(){return ly++}(),K[21]=$,K[16]=2==a.type?o[16]:K,K}function qf(o,a,d,g,m){let b=o.data[a];if(null===b)b=My(o,a,d,g,m),function Np(){return kt.lFrame.inI18n}()&&(b.flags|=32);else if(64&b.type){b.type=d,b.value=g,b.attrs=m;const S=Xc();b.injectorIndex=null===S?-1:S.injectorIndex}return zs(b,!0),b}function My(o,a,d,g,m){const b=Gl(),S=dl(),M=o.data[a]=function q0(o,a,d,g,m,b){return{type:d,index:g,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,S?b:b&&b.parent,d,a,g,m);return null===o.firstChild&&(o.firstChild=M),null!==b&&(S?null==b.child&&null!==M.parent&&(b.child=M):null===b.next&&(b.next=M)),M}function zf(o,a,d,g){if(0===d)return-1;const m=a.length;for(let b=0;b<d;b++)a.push(g),o.blueprint.push(g),o.data.push(null);return m}function gg(o,a,d){zl(a);try{const g=o.viewQuery;null!==g&&Qf(1,g,d);const m=o.template;null!==m&&Eu(o,a,m,1,d),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&zm(o,a),o.staticViewQueries&&Qf(2,o.viewQuery,d);const b=o.components;null!==b&&function t1(o,a){for(let d=0;d<a.length;d++)J0(o,a[d])}(a,b)}catch(g){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),g}finally{a[2]&=-5,pm()}}function Wf(o,a,d,g){const m=a[2];if(128!=(128&m)){zl(a);try{ju(a),function Wd(o){return kt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==d&&Eu(o,a,d,2,g);const S=3==(3&m);if(S){const k=o.preOrderCheckHooks;null!==k&&zi(a,k,null)}else{const k=o.preOrderHooks;null!==k&&Yu(a,k,0,null),mo(a,0)}if(function Zf(o){for(let a=lu(o);null!==a;a=Mi(a)){if(!a[2])continue;const d=a[9];for(let g=0;g<d.length;g++){const m=d[g],b=m[3];0==(512&m[2])&&jl(b,1),m[2]|=512}}}(a),function Y0(o){for(let a=lu(o);null!==a;a=Mi(a))for(let d=10;d<a.length;d++){const g=a[d],m=g[1];$u(g)&&Wf(m,g,m.template,g[8])}}(a),null!==o.contentQueries&&zm(o,a),S){const k=o.contentCheckHooks;null!==k&&zi(a,k)}else{const k=o.contentHooks;null!==k&&Yu(a,k,1),mo(a,1)}!function Nw(o,a){const d=o.hostBindingOpCodes;if(null!==d)try{for(let g=0;g<d.length;g++){const m=d[g];if(m<0)Ku(~m);else{const b=m,S=d[++g],x=d[++g];yf(S,b),x(2,a[b])}}}finally{Ku(-1)}}(o,a);const x=o.components;null!==x&&function H0(o,a){for(let d=0;d<a.length;d++)Yf(o,a[d])}(a,x);const M=o.viewQuery;if(null!==M&&Qf(2,M,g),S){const k=o.viewCheckHooks;null!==k&&zi(a,k)}else{const k=o.viewHooks;null!==k&&Yu(a,k,2),mo(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,jl(a[3],-1))}finally{pm()}}}function Eu(o,a,d,g,m){const b=hs(),S=2&g;try{Ku(-1),S&&a.length>22&&Sw(o,a,22,!1),d(g,m)}finally{Ku(b)}}function Sd(o,a,d){if(dt(a)){const m=a.directiveEnd;for(let b=a.directiveStart;b<m;b++){const S=o.data[b];S.contentQueries&&S.contentQueries(1,d[b],b)}}}function Km(o,a,d){!qi()||(function W0(o,a,d,g){const m=d.directiveStart,b=d.directiveEnd;fo(d)&&function r1(o,a,d){const g=Sr(a,o),m=j0(d),b=o[10],S=Qm(o,Wm(o,m,null,d.onPush?32:16,g,a,b,b.createRenderer(g,d),null,null,null));o[a.index]=S}(a,d,o.data[m+d.componentOffset]),o.firstCreatePass||Bo(d,a),bs(g,a);const S=d.initialInputs;for(let x=m;x<b;x++){const M=o.data[x],k=yo(a,o,x,d);bs(k,a),null!==S&&i1(0,x-m,k,M,0,S),_i(M)&&(ii(d.index,a)[8]=yo(a,o,x,d))}}(o,a,d,Sr(d,a)),64==(64&d.flags)&&Fy(o,a,d))}function za(o,a,d=Sr){const g=a.localNames;if(null!==g){let m=a.index+1;for(let b=0;b<g.length;b+=2){const S=g[b+1],x=-1===S?d(a,o):o[S];o[m++]=x}}}function j0(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=wu(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function wu(o,a,d,g,m,b,S,x,M,k){const $=22+g,K=$+m,re=function G0(o,a){const d=[];for(let g=0;g<a;g++)d.push(g<o?null:vn);return d}($,K),ge="function"==typeof k?k():k;return re[1]={type:o,blueprint:re,template:d,queries:null,viewQuery:x,declTNode:a,data:re.slice().fill(null,$),bindingStartIndex:$,expandoStartIndex:K,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof S?S():S,firstChild:null,schemas:M,consts:ge,incompleteFirstPass:!1}}function mg(o,a,d,g){const m=Mh(a);null===d?m.push(g):(m.push(d),o.firstCreatePass&&Xf(o).push(g,m.length-1))}function Zm(o,a,d,g){for(let m in o)if(o.hasOwnProperty(m)){d=null===d?{}:d;const b=o[m];null===g?Ry(d,a,m,b):g.hasOwnProperty(m)&&Ry(d,a,g[m],b)}return d}function Ry(o,a,d,g){o.hasOwnProperty(d)?o[d].push(a,g):o[d]=[a,g]}function ba(o,a,d,g,m,b,S,x){const M=Sr(a,d);let $,k=a.inputs;!x&&null!=k&&($=k[g])?(Nc(o,d,$,g,m),fo(a)&&Kf(d,a.index)):3&a.type&&(g=function Oy(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(g),m=null!=S?S(m,a.value||"",g):m,b.setProperty(M,g,m))}function Kf(o,a){const d=ii(a,o);16&d[2]||(d[2]|=32)}function _g(o,a,d,g){let m=!1;if(qi()){const b=null===g?null:{"":-1},S=function Jm(o,a){const d=o.directiveRegistry;let g=null,m=null;if(d)for(let b=0;b<d.length;b++){const S=d[b];if($f(a,S.selectors,!1))if(g||(g=[]),_i(S))if(null!==S.findHostDirectiveDefs){const x=[];m=m||new Map,S.findHostDirectiveDefs(S,x,m),g.unshift(...x,S),Wa(o,a,x.length)}else g.unshift(S),Wa(o,a,0);else m=m||new Map,S.findHostDirectiveDefs?.(S,g,m),g.push(S)}return null===g?null:[g,m]}(o,d);let x,M;null===S?x=M=null:[x,M]=S,null!==x&&(m=!0,ky(o,a,d,x,b,M)),b&&function K0(o,a,d){if(a){const g=o.localNames=[];for(let m=0;m<a.length;m+=2){const b=d[a[m+1]];if(null==b)throw new xe(-301,!1);g.push(a[m],b)}}}(d,g,b)}return d.mergedAttrs=la(d.mergedAttrs,d.attrs),m}function ky(o,a,d,g,m,b){for(let k=0;k<g.length;k++)rc(Bo(d,a),o,g[k].type);!function yg(o,a,d){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+d,o.providerIndexes=a}(d,o.data.length,g.length);for(let k=0;k<g.length;k++){const $=g[k];$.providersResolver&&$.providersResolver($)}let S=!1,x=!1,M=zf(o,a,g.length,null);for(let k=0;k<g.length;k++){const $=g[k];d.mergedAttrs=la(d.mergedAttrs,$.hostAttrs),Ly(o,d,a,M,$),Pw(M,$,m),null!==$.contentQueries&&(d.flags|=4),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(d.flags|=64);const K=$.type.prototype;!S&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(d.index),S=!0),!x&&(K.ngOnChanges||K.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(d.index),x=!0),M++}!function Py(o,a,d){const m=a.directiveEnd,b=o.data,S=a.attrs,x=[];let M=null,k=null;for(let $=a.directiveStart;$<m;$++){const K=b[$],re=d?d.get(K):null,Le=re?re.outputs:null;M=Zm(K.inputs,$,M,re?re.inputs:null),k=Zm(K.outputs,$,k,Le);const lt=null===M||null===S||Um(a)?null:vg(M,$,S);x.push(lt)}null!==M&&(M.hasOwnProperty("class")&&(a.flags|=8),M.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=x,a.inputs=M,a.outputs=k}(o,d,b)}function Fy(o,a,d){const g=d.directiveStart,m=d.directiveEnd,b=d.index,S=function ed(){return kt.lFrame.currentDirectiveIndex}();try{Ku(b);for(let x=g;x<m;x++){const M=o.data[x],k=a[x];ds(x),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&Nh(M,k)}}finally{Ku(-1),ds(S)}}function Nh(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function Wa(o,a,d){a.componentOffset=d,(o.components||(o.components=[])).push(a.index)}function Pw(o,a,d){if(d){if(a.exportAs)for(let g=0;g<a.exportAs.length;g++)d[a.exportAs[g]]=o;_i(a)&&(d[""]=o)}}function Ly(o,a,d,g,m){o.data[g]=m;const b=m.factory||(m.factory=al(m.type)),S=new Ju(b,_i(m),Gf);o.blueprint[g]=S,d[g]=S,function Ym(o,a,d,g,m){const b=m.hostBindings;if(b){let S=o.hostBindingOpCodes;null===S&&(S=o.hostBindingOpCodes=[]);const x=~a.index;(function z0(o){let a=o.length;for(;a>0;){const d=o[--a];if("number"==typeof d&&d<0)return d}return 0})(S)!=x&&S.push(x),S.push(d,g,b)}}(o,a,g,zf(o,d,m.hostVars,vn),m)}function Z0(o,a,d,g,m,b,S){if(null==b)o.removeAttribute(a,m,d);else{const x=null==S?Ge(b):S(b,g||"",m);o.setAttribute(a,m,x,d)}}function i1(o,a,d,g,m,b){const S=b[a];if(null!==S){const x=g.setInput;for(let M=0;M<S.length;){const k=S[M++],$=S[M++],K=S[M++];null!==x?g.setInput(d,K,k,$):d[$]=K}}}function vg(o,a,d){let g=null,m=0;for(;m<d.length;){const b=d[m];if(0!==b)if(5!==b){if("number"==typeof b)break;if(o.hasOwnProperty(b)){null===g&&(g=[]);const S=o[b];for(let x=0;x<S.length;x+=2)if(S[x]===a){g.push(b,S[x+1],d[m+1]);break}}m+=2}else m+=2;else m+=4}return g}function By(o,a,d,g){return[o,!0,!1,a,null,0,g,d,null,null]}function Yf(o,a){const d=ii(a,o);if($u(d)){const g=d[1];48&d[2]?Wf(g,d,g.template,d[8]):d[5]>0&&jo(d)}}function jo(o){for(let g=lu(o);null!==g;g=Mi(g))for(let m=10;m<g.length;m++){const b=g[m];if($u(b))if(512&b[2]){const S=b[1];Wf(S,b,S.template,b[8])}else b[5]>0&&jo(b)}const d=o[1].components;if(null!==d)for(let g=0;g<d.length;g++){const m=ii(d[g],o);$u(m)&&m[5]>0&&jo(m)}}function J0(o,a){const d=ii(a,o),g=d[1];(function Jf(o,a){for(let d=a.length;d<o.blueprint.length;d++)a.push(o.blueprint[d])})(g,d),gg(g,d,d[8])}function Qm(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function Vy(o){for(;o;){o[2]|=32;const a=$o(o);if(yn(o)&&!a)return o;o=a}return null}function bg(o,a,d,g=!0){const m=a[10];m.begin&&m.begin();try{Wf(o,a,o.template,d)}catch(S){throw g&&X0(a,S),S}finally{m.end&&m.end()}}function Qf(o,a,d){go(0),a(o,d)}function Mh(o){return o[7]||(o[7]=[])}function Xf(o){return o.cleanup||(o.cleanup=[])}function X0(o,a){const d=o[9],g=d?d.get(hi,null):null;g&&g.handleError(a)}function Nc(o,a,d,g,m){for(let b=0;b<d.length;){const S=d[b++],x=d[b++],M=a[S],k=o.data[S];null!==k.setInput?k.setInput(M,m,g,x):M[x]=m}}function Eg(o,a,d){let g=d?o.styles:null,m=d?o.classes:null,b=0;if(null!==a)for(let S=0;S<a.length;S++){const x=a[S];"number"==typeof x?b=x:1==b?m=Ae(m,x):2==b&&(g=Ae(g,x+": "+a[++S]+";"))}d?o.styles=g:o.stylesWithoutHost=g,d?o.classes=m:o.classesWithoutHost=m}function e_(o,a,d,g,m=!1){for(;null!==d;){const b=a[d.index];if(null!==b&&g.push(Rr(b)),hn(b))for(let x=10;x<b.length;x++){const M=b[x],k=M[1].firstChild;null!==k&&e_(M[1],M,k,g)}const S=d.type;if(8&S)e_(o,a,d.child,g);else if(32&S){const x=Ha(d,a);let M;for(;M=x();)g.push(M)}else if(16&S){const x=zp(a,d);if(Array.isArray(x))g.push(...x);else{const M=$o(a[16]);e_(M[1],M,x,g,!0)}}d=m?d.projectionNext:d.next}return g}class wg{constructor(a,d){this._lView=a,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,d=a[1];return e_(d,a,d.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(hn(a)){const d=a[8],g=d?d.indexOf(this):-1;g>-1&&(dd(a,g),fa(d,g))}this._attachedToViewContainer=!1}wm(this._lView[1],this._lView)}onDestroy(a){mg(this._lView[1],this._lView,null,a)}markForCheck(){Vy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){bg(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ja(o,a){Cc(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=a}}class kw extends wg{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;bg(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class Uy extends Uf{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const d=Bn(a);return new Td(d,this.ngModule)}}function eb(o){const a=[];for(let d in o)o.hasOwnProperty(d)&&a.push({propName:o[d],templateName:d});return a}class tb{constructor(a,d){this.injector=a,this.parentInjector=d}get(a,d,g){g=un(g);const m=this.injector.get(a,Ed,g);return m!==Ed||d===Ed?m:this.parentInjector.get(a,d,g)}}class Td extends Gr{constructor(a,d){super(),this.componentDef=a,this.ngModule=d,this.componentType=a.type,this.selector=function Cw(o){return o.map(ww).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return eb(this.componentDef.inputs)}get outputs(){return eb(this.componentDef.outputs)}create(a,d,g,m){let b=(m=m||this.ngModule)instanceof ya?m:m?.injector;b&&null!==this.componentDef.getStandaloneInjector&&(b=this.componentDef.getStandaloneInjector(b)||b);const S=b?new tb(a,b):a,x=S.get(Sh,null);if(null===x)throw new xe(407,!1);const M=S.get(Fm,null),k=x.createRenderer(null,this.componentDef),$=this.componentDef.selectors[0][0]||"div",K=g?function Mw(o,a,d){return o.selectRootElement(a,d===Pe.ShadowDom)}(k,g,this.componentDef.encapsulation):cd(k,$,function s1(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}($)),re=this.componentDef.onPush?288:272,ge=wu(0,null,null,1,0,null,null,null,null,null),Le=Wm(null,ge,null,re,null,null,x,k,M,S,null);let lt,yt;zl(Le);try{const Vt=this.componentDef;let pn,Qe=null;Vt.findHostDirectiveDefs?(pn=[],Qe=new Map,Vt.findHostDirectiveDefs(Vt,pn,Qe),pn.push(Vt)):pn=[Vt];const Tn=function nb(o,a){const d=o[1];return o[22]=a,qf(d,22,2,"#host",null)}(Le,K),pi=function Fw(o,a,d,g,m,b,S,x){const M=m[1];!function rb(o,a,d,g){for(const m of o)a.mergedAttrs=la(a.mergedAttrs,m.hostAttrs);null!==a.mergedAttrs&&(Eg(a,a.mergedAttrs,!0),null!==d&&mh(g,d,a))}(g,o,a,S);const k=b.createRenderer(a,d),$=Wm(m,j0(d),null,d.onPush?32:16,m[o.index],o,b,k,x||null,null,null);return M.firstCreatePass&&Wa(M,o,g.length-1),Qm(m,$),m[o.index]=$}(Tn,K,Vt,pn,Le,x,k);yt=ra(ge,22),K&&function Bw(o,a,d,g){if(g)hr(o,d,["ng-version",wi.full]);else{const{attrs:m,classes:b}=function Dw(o){const a=[],d=[];let g=1,m=2;for(;g<o.length;){let b=o[g];if("string"==typeof b)2===m?""!==b&&a.push(b,o[++g]):8===m&&d.push(b);else{if(!to(m))break;m=b}g++}return{attrs:a,classes:d}}(a.selectors[0]);m&&hr(o,d,m),b&&b.length>0&&Tl(o,d,b.join(" "))}}(k,Vt,K,g),void 0!==d&&function Vw(o,a,d){const g=o.projection=[];for(let m=0;m<a.length;m++){const b=d[m];g.push(null!=b?Array.from(b):null)}}(yt,this.ngContentSelectors,d),lt=function Lw(o,a,d,g,m,b){const S=vi(),x=m[1],M=Sr(S,m);ky(x,m,S,d,null,g);for(let $=0;$<d.length;$++)bs(yo(m,x,S.directiveStart+$,S),m);Fy(x,m,S),M&&bs(M,m);const k=yo(m,x,S.directiveStart+S.componentOffset,S);if(o[8]=m[8]=k,null!==b)for(const $ of b)$(k,a);return Sd(x,S,o),k}(pi,Vt,pn,Qe,Le,[Uw]),gg(ge,Le,null)}finally{pm()}return new t_(this.componentType,lt,Ch(yt,Le),Le,yt)}}class t_ extends bd{constructor(a,d,g,m,b){super(),this.location=g,this._rootLView=m,this._tNode=b,this.instance=d,this.hostView=this.changeDetectorRef=new kw(m),this.componentType=a}setInput(a,d){const g=this._tNode.inputs;let m;if(null!==g&&(m=g[a])){const b=this._rootLView;Nc(b[1],b,m,a,d),Kf(b,this._tNode.index)}}get injector(){return new wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Uw(){const o=vi();La(qe()[1],o)}function Sg(o){let a=function Dg(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),d=!0;const g=[o];for(;a;){let m;if(_i(o))m=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new xe(903,!1);m=a.\u0275dir}if(m){if(d){g.push(m);const S=o;S.inputs=n_(o.inputs),S.declaredInputs=n_(o.declaredInputs),S.outputs=n_(o.outputs);const x=m.hostBindings;x&&r_(o,x);const M=m.viewQuery,k=m.contentQueries;if(M&&Hy(o,M),k&&ib(o,k),Me(o.inputs,m.inputs),Me(o.declaredInputs,m.declaredInputs),Me(o.outputs,m.outputs),_i(m)&&m.data.animation){const $=o.data;$.animation=($.animation||[]).concat(m.data.animation)}}const b=m.features;if(b)for(let S=0;S<b.length;S++){const x=b[S];x&&x.ngInherit&&x(o),x===Sg&&(d=!1)}}a=Object.getPrototypeOf(a)}!function $y(o){let a=0,d=null;for(let g=o.length-1;g>=0;g--){const m=o[g];m.hostVars=a+=m.hostVars,m.hostAttrs=la(m.hostAttrs,d=la(d,m.hostAttrs))}}(g)}function n_(o){return o===yr?{}:o===Xt?[]:o}function Hy(o,a){const d=o.viewQuery;o.viewQuery=d?(g,m)=>{a(g,m),d(g,m)}:a}function ib(o,a){const d=o.contentQueries;o.contentQueries=d?(g,m,b)=>{a(g,m,b),d(g,m,b)}:a}function r_(o,a){const d=o.hostBindings;o.hostBindings=d?(g,m)=>{a(g,m),d(g,m)}:a}let Cu=null;function Id(){if(!Cu){const o=Pt.Symbol;if(o&&o.iterator)Cu=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<a.length;++d){const g=a[d];"entries"!==g&&"size"!==g&&Map.prototype[g]===Map.prototype.entries&&(Cu=g)}}}return Cu}function Rh(o){return!!o_(o)&&(Array.isArray(o)||!(o instanceof Map)&&Id()in o)}function o_(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Du(o,a,d){return o[a]=d}function io(o,a,d){return!Object.is(o[a],d)&&(o[a]=d,!0)}function Oh(o,a,d,g){const m=io(o,a,d);return io(o,a+1,g)||m}function jy(o,a,d,g){const m=qe();return io(m,Po(),a)&&(Vn(),function xc(o,a,d,g,m,b){const S=Sr(o,a);Z0(a[11],S,b,o.value,d,g,m)}(mr(),m,o,a,d,g)),jy}function kh(o,a,d,g){return io(o,Po(),d)?a+Ge(d)+g:vn}function Ad(o,a,d,g,m,b,S,x,M,k){const K=function Go(o,a,d,g,m,b){const S=Oh(o,a,d,g);return Oh(o,a+2,m,b)||S}(o,si(),d,m,S,M);return Ws(4),K?a+Ge(d)+g+Ge(m)+b+Ge(S)+x+Ge(M)+k:vn}function u_(o,a,d,g,m,b,S,x){const M=qe(),k=Vn(),$=o+22,K=k.firstCreatePass?function xg(o,a,d,g,m,b,S,x,M){const k=a.consts,$=qf(a,o,4,S||null,Ro(k,x));_g(a,d,$,Ro(k,M)),La(a,$);const K=$.tViews=wu(2,$,g,m,b,a.directiveRegistry,a.pipeRegistry,null,a.schemas,k);return null!==a.queries&&(a.queries.template(a,$),K.queries=a.queries.embeddedTView($)),$}($,k,M,a,d,g,m,b,S):k.data[$];zs(K,!1);const re=M[11].createComment("");xn(k,M,re,K),bs(re,M),Qm(M,M[$]=By(re,M,re,K)),Yr(K)&&Km(k,M,K),null!=S&&za(M,K,x)}function Bh(o){return ia(function zu(){return kt.lFrame.contextLView}(),22+o)}function c_(o,a,d){const g=qe();return io(g,Po(),a)&&ba(Vn(),mr(),g,o,a,g[11],d,!1),c_}function Ng(o,a,d,g,m){const S=m?"class":"style";Nc(o,d,a.inputs[S],S,g)}function np(o,a,d,g){const m=qe(),b=Vn(),S=22+o,x=m[11],M=m[S]=cd(x,a,function Xn(){return kt.lFrame.currentNamespace}()),k=b.firstCreatePass?function yb(o,a,d,g,m,b,S){const x=a.consts,k=qf(a,o,2,m,Ro(x,b));return _g(a,d,k,Ro(x,S)),null!==k.attrs&&Eg(k,k.attrs,!1),null!==k.mergedAttrs&&Eg(k,k.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,k),k}(S,b,m,0,a,d,g):b.data[S];return zs(k,!0),mh(x,M,k),32!=(32&k.flags)&&xn(b,m,M,k),0===function sa(){return kt.lFrame.elementDepthCount}()&&bs(M,m),function qu(){kt.lFrame.elementDepthCount++}(),Yr(k)&&(Km(b,m,k),Sd(b,k,m)),null!==g&&za(m,k),np}function d_(){let o=vi();dl()?ka():(o=o.parent,zs(o,!1));const a=o;!function po(){kt.lFrame.elementDepthCount--}();const d=Vn();return d.firstCreatePass&&(La(d,o),dt(o)&&d.queries.elementEnd(o)),null!=a.classesWithoutHost&&function Qu(o){return 0!=(8&o.flags)}(a)&&Ng(d,a,qe(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function bf(o){return 0!=(16&o.flags)}(a)&&Ng(d,a,qe(),a.stylesWithoutHost,!1),d_}function qy(o,a,d,g){return np(o,a,d,g),d_(),qy}function Za(o,a,d){const g=qe(),m=Vn(),b=o+22,S=m.firstCreatePass?function qw(o,a,d,g,m){const b=a.consts,S=Ro(b,g),x=qf(a,o,8,"ng-container",S);return null!==S&&Eg(x,S,!0),_g(a,d,x,Ro(b,m)),null!==a.queries&&a.queries.elementStart(a,x),x}(b,m,g,a,d):m.data[b];zs(S,!0);const x=g[b]=g[11].createComment("");return xn(m,g,x,S),bs(x,g),Yr(S)&&(Km(m,g,S),Sd(m,S,g)),null!=d&&za(g,S),Za}function Mg(){let o=vi();const a=Vn();return dl()?ka():(o=o.parent,zs(o,!1)),a.firstCreatePass&&(La(a,o),dt(o)&&a.queries.elementEnd(o)),Mg}function vb(){return qe()}function zy(o){return!!o&&"function"==typeof o.then}function h_(o){return!!o&&"function"==typeof o.subscribe}const bb=h_;function Wy(o,a,d,g){const m=qe(),b=Vn(),S=vi();return function Yi(o,a,d,g,m,b,S){const x=Yr(g),k=o.firstCreatePass&&Xf(o),$=a[8],K=Mh(a);let re=!0;if(3&g.type||S){const lt=Sr(g,a),yt=S?S(lt):lt,Vt=K.length,pn=S?Tn=>S(Rr(Tn[g.index])):g.index;let Qe=null;if(!S&&x&&(Qe=function rp(o,a,d,g){const m=o.cleanup;if(null!=m)for(let b=0;b<m.length-1;b+=2){const S=m[b];if(S===d&&m[b+1]===g){const x=a[7],M=m[b+2];return x.length>M?x[M]:null}"string"==typeof S&&(b+=2)}return null}(o,a,m,g.index)),null!==Qe)(Qe.__ngLastListenerFn__||Qe).__ngNextListenerFn__=b,Qe.__ngLastListenerFn__=b,re=!1;else{b=ip(g,a,$,b,!1);const Tn=d.listen(yt,m,b);K.push(b,Tn),k&&k.push(m,pn,Vt,Vt+1)}}else b=ip(g,a,$,b,!1);const ge=g.outputs;let Le;if(re&&null!==ge&&(Le=ge[m])){const lt=Le.length;if(lt)for(let yt=0;yt<lt;yt+=2){const pi=a[Le[yt]][Le[yt+1]].subscribe(b),ri=K.length;K.push(b,pi),k&&k.push(m,g.index,ri,-(ri+1))}}}(b,m,m[11],S,o,a,g),Wy}function wb(o,a,d,g){try{return!1!==d(g)}catch(m){return X0(o,m),!1}}function ip(o,a,d,g,m){return function b(S){if(S===Function)return g;Vy(o.componentOffset>-1?ii(o.index,a):a);let M=wb(a,0,g,S),k=b.__ngNextListenerFn__;for(;k;)M=wb(a,0,k,S)&&M,k=k.__ngNextListenerFn__;return m&&!1===M&&(S.preventDefault(),S.returnValue=!1),M}}function Mc(o=1){return function oy(o){return(kt.lFrame.contextLView=function vf(o,a){for(;o>0;)a=a[15],o--;return a}(o,kt.lFrame.contextLView))[8]}(o)}function zw(o,a){let d=null;const g=function Ew(o){const a=o.attrs;if(null!=a){const d=a.indexOf(5);if(0==(1&d))return a[d+1]}return null}(o);for(let m=0;m<a.length;m++){const b=a[m];if("*"!==b){if(null===g?$f(o,b,!0):wy(g,b))return m}else d=m}return d}function Ky(o){const a=qe()[16][6];if(!a.projection){const g=a.projection=ru(o?o.length:1,null),m=g.slice();let b=a.child;for(;null!==b;){const S=o?zw(b,o):0;null!==S&&(m[S]?m[S].projectionNext=b:g[S]=b,m[S]=b),b=b.next}}}function Cb(o,a=0,d){const g=qe(),m=Vn(),b=qf(m,22+o,16,null,d||null);null===b.projection&&(b.projection=a),ka(),32!=(32&b.flags)&&function fd(o,a,d){Wp(a[11],0,a,d,Gp(o,d,a),Dm(d.parent||a[6],d,a))}(m,g,b)}function Db(o,a,d){return f_(o,"",a,"",d),Db}function f_(o,a,d,g,m){const b=qe(),S=kh(b,a,d,g);return S!==vn&&ba(Vn(),mr(),b,o,S,b[11],m,!1),f_}function Yy(o,a){return o<<17|a<<2}function $h(o){return o>>17&32767}function Al(o){return 2|o}function Md(o){return(131068&o)>>2}function Jy(o,a){return-131069&o|a<<2}function Og(o){return 1|o}function Qy(o,a,d,g,m){const b=o[d+1],S=null===a;let x=g?$h(b):Md(b),M=!1;for(;0!==x&&(!1===M||S);){const $=o[x+1];Kw(o[x],a)&&(M=!0,o[x+1]=g?Og($):Al($)),x=g?$h($):Md($)}M&&(o[d+1]=g?Al(b):Og(b))}function Kw(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Qr(o,a)>=0}const Ji={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function m_(o){return o.substring(Ji.key,Ji.keyEnd)}function Rb(o,a){const d=Ji.textEnd;return d===a?-1:(a=Ji.keyEnd=function l1(o,a,d){for(;a<d&&o.charCodeAt(a)>32;)a++;return a}(o,Ji.key=a,d),Rc(o,a,d))}function Rc(o,a,d){for(;a<d&&o.charCodeAt(a)<=32;)a++;return a}function Ya(o,a,d){return Fs(o,a,d,!1),Ya}function sp(o,a){return Fs(o,a,null,!0),sp}function Rd(o){In(cn,Ea,o,!0)}function Ea(o,a){for(let d=function Mb(o){return function Xy(o){Ji.key=0,Ji.keyEnd=0,Ji.value=0,Ji.valueEnd=0,Ji.textEnd=o.length}(o),Rb(o,Rc(o,0,Ji.textEnd))}(a);d>=0;d=Rb(a,d))cn(o,m_(a),!0)}function Fs(o,a,d,g){const m=qe(),b=Vn(),S=Ws(2);b.firstUpdatePass&&qo(b,o,S,g),a!==vn&&io(m,S,a)&&Qw(b,b.data[hs()],m,m[11],o,m[S+1]=function v_(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=Ie(I(o)))),o}(a,d),g,S)}function In(o,a,d,g){const m=Vn(),b=Ws(2);m.firstUpdatePass&&qo(m,null,b,g);const S=qe();if(d!==vn&&io(S,b,d)){const x=m.data[hs()];if(ws(x,g)&&!Yw(m,b)){let M=g?x.classesWithoutHost:x.stylesWithoutHost;null!==M&&(d=Ae(M,d||"")),Ng(m,x,S,d,g)}else!function Jw(o,a,d,g,m,b,S,x){m===vn&&(m=Xt);let M=0,k=0,$=0<m.length?m[0]:null,K=0<b.length?b[0]:null;for(;null!==$||null!==K;){const re=M<m.length?m[M+1]:void 0,ge=k<b.length?b[k+1]:void 0;let lt,Le=null;$===K?(M+=2,k+=2,re!==ge&&(Le=K,lt=ge)):null===K||null!==$&&$<K?(M+=2,Le=$):(k+=2,Le=K,lt=ge),null!==Le&&Qw(o,a,d,g,Le,lt,S,x),$=M<m.length?m[M]:null,K=k<b.length?b[k]:null}}(m,x,S,S[11],S[b+1],S[b+1]=function Fb(o,a,d){if(null==d||""===d)return Xt;const g=[],m=I(d);if(Array.isArray(m))for(let b=0;b<m.length;b++)o(g,m[b],!0);else if("object"==typeof m)for(const b in m)m.hasOwnProperty(b)&&o(g,b,m[b]);else"string"==typeof m&&a(g,m);return g}(o,a,d),g,b)}}function Yw(o,a){return a>=o.expandoStartIndex}function qo(o,a,d,g){const m=o.data;if(null===m[d+1]){const b=m[hs()],S=Yw(o,d);ws(b,g)&&null===a&&!S&&(a=!1),a=function $t(o,a,d,g){const m=function oi(o){const a=kt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let b=g?a.residualClasses:a.residualStyles;if(null===m)0===(g?a.classBindings:a.styleBindings)&&(d=Su(d=Lg(null,o,a,d,g),a.attrs,g),b=null);else{const S=a.directiveStylingLast;if(-1===S||o[S]!==m)if(d=Lg(m,o,a,d,g),null===b){let M=function ev(o,a,d){const g=d?a.classBindings:a.styleBindings;if(0!==Md(g))return o[$h(g)]}(o,a,g);void 0!==M&&Array.isArray(M)&&(M=Lg(null,o,a,M[1],g),M=Su(M,a.attrs,g),function En(o,a,d,g){o[$h(d?a.classBindings:a.styleBindings)]=g}(o,a,g,M))}else b=function __(o,a,d){let g;const m=a.directiveEnd;for(let b=1+a.directiveStylingLast;b<m;b++)g=Su(g,o[b].hostAttrs,d);return Su(g,a.attrs,d)}(o,a,g)}return void 0!==b&&(g?a.residualClasses=b:a.residualStyles=b),d}(m,b,a,g),function kg(o,a,d,g,m,b){let S=b?a.classBindings:a.styleBindings,x=$h(S),M=Md(S);o[g]=d;let $,k=!1;if(Array.isArray(d)){const K=d;$=K[1],(null===$||Qr(K,$)>0)&&(k=!0)}else $=d;if(m)if(0!==M){const re=$h(o[x+1]);o[g+1]=Yy(re,x),0!==re&&(o[re+1]=Jy(o[re+1],g)),o[x+1]=function Ab(o,a){return 131071&o|a<<17}(o[x+1],g)}else o[g+1]=Yy(x,0),0!==x&&(o[x+1]=Jy(o[x+1],g)),x=g;else o[g+1]=Yy(M,0),0===x?x=g:o[M+1]=Jy(o[M+1],g),M=g;k&&(o[g+1]=Al(o[g+1])),Qy(o,$,g,!0),Qy(o,$,g,!1),function a1(o,a,d,g,m){const b=m?o.residualClasses:o.residualStyles;null!=b&&"string"==typeof a&&Qr(b,a)>=0&&(d[g+1]=Og(d[g+1]))}(a,$,o,g,b),S=Yy(x,M),b?a.classBindings=S:a.styleBindings=S}(m,b,a,d,S,g)}}function Lg(o,a,d,g,m){let b=null;const S=d.directiveEnd;let x=d.directiveStylingLast;for(-1===x?x=d.directiveStart:x++;x<S&&(b=a[x],g=Su(g,b.hostAttrs,m),b!==o);)x++;return null!==o&&(d.directiveStylingLast=x),g}function Su(o,a,d){const g=d?1:2;let m=-1;if(null!==a)for(let b=0;b<a.length;b++){const S=a[b];"number"==typeof S?m=S:m===g&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),cn(o,S,!!d||a[++b]))}return void 0===o?null:o}function Qw(o,a,d,g,m,b,S,x){if(!(3&a.type))return;const M=o.data,k=M[x+1],$=function xb(o){return 1==(1&o)}(k)?Lb(M,a,d,m,Md(k),S):void 0;Xi($)||(Xi(b)||function Ib(o){return 2==(2&o)}(k)&&(b=Lb(M,null,d,m,x,S)),function du(o,a,d,g,m){if(a)m?o.addClass(d,g):o.removeClass(d,g);else{let b=-1===g.indexOf("-")?void 0:Uo.DashCase;null==m?o.removeStyle(d,g,b):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),b|=Uo.Important),o.setStyle(d,g,m,b))}}(g,S,cl(hs(),d),m,b))}function Lb(o,a,d,g,m,b){const S=null===a;let x;for(;m>0;){const M=o[m],k=Array.isArray(M),$=k?M[1]:M,K=null===$;let re=d[m+1];re===vn&&(re=K?Xt:void 0);let ge=K?ir(re,g):$===g?re:void 0;if(k&&!Xi(ge)&&(ge=ir(M,g)),Xi(ge)&&(x=ge,S))return x;const Le=o[m+1];m=S?$h(Le):Md(Le)}if(null!==a){let M=b?a.residualClasses:a.residualStyles;null!=M&&(x=ir(M,g))}return x}function Xi(o){return void 0!==o}function ws(o,a){return 0!=(o.flags&(a?8:16))}function Pc(o,a=""){const d=qe(),g=Vn(),m=o+22,b=g.firstCreatePass?qf(g,m,1,a,null):g.data[m],S=d[m]=Ri(d[11],a);xn(g,d,S,b),zs(b,!1)}function Bb(o){return Bg("",o,""),Bb}function Bg(o,a,d){const g=qe(),m=kh(g,o,a,d);return m!==vn&&function ro(o,a,d){const g=cl(a,o);Eo(o[11],g,d)}(g,hs(),m),Bg}function b_(o,a,d,g,m,b,S,x,M){In(cn,Ea,Ad(qe(),o,a,d,g,m,b,S,x,M),!0)}function p(o,a,d){const g=qe();return io(g,Po(),a)&&ba(Vn(),mr(),g,o,a,g[11],d,!0),p}const l=void 0;var y=["en",[["a","p"],["AM","PM"],l],[["AM","PM"],l,l],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],l,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],l,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",l,"{1} 'at' {0}",l],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function f(o){const d=Math.floor(Math.abs(o)),g=o.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===g?1:5}];let C={};function P(o){const a=function Ke(o){return o.toLowerCase().replace(/_/g,"-")}(o);let d=W(a);if(d)return d;const g=a.split("-")[0];if(d=W(g),d)return d;if("en"===g)return y;throw new xe(701,!1)}function U(o){return P(o)[he.PluralCase]}function W(o){return o in C||(C[o]=Pt.ng&&Pt.ng.common&&Pt.ng.common.locales&&Pt.ng.common.locales[o]),C[o]}var he=(()=>((he=he||{})[he.LocaleId=0]="LocaleId",he[he.DayPeriodsFormat=1]="DayPeriodsFormat",he[he.DayPeriodsStandalone=2]="DayPeriodsStandalone",he[he.DaysFormat=3]="DaysFormat",he[he.DaysStandalone=4]="DaysStandalone",he[he.MonthsFormat=5]="MonthsFormat",he[he.MonthsStandalone=6]="MonthsStandalone",he[he.Eras=7]="Eras",he[he.FirstDayOfWeek=8]="FirstDayOfWeek",he[he.WeekendRange=9]="WeekendRange",he[he.DateFormat=10]="DateFormat",he[he.TimeFormat=11]="TimeFormat",he[he.DateTimeFormat=12]="DateTimeFormat",he[he.NumberSymbols=13]="NumberSymbols",he[he.NumberFormats=14]="NumberFormats",he[he.CurrencyCode=15]="CurrencyCode",he[he.CurrencySymbol=16]="CurrencySymbol",he[he.CurrencyName=17]="CurrencyName",he[he.Currencies=18]="Currencies",he[he.Directionality=19]="Directionality",he[he.PluralCase=20]="PluralCase",he[he.ExtraData=21]="ExtraData",he))();const Je=["zero","one","two","few","many"],pt="en-US",gt={marker:"element"},ln={marker:"ICU"};var wn=(()=>((wn=wn||{})[wn.SHIFT=2]="SHIFT",wn[wn.APPEND_EAGERLY=1]="APPEND_EAGERLY",wn[wn.COMMENT=2]="COMMENT",wn))();let Iu=pt;function Oc(o){(function mn(o,a){null==o&&Yt(a,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(Iu=o.toLowerCase().replace(/_/g,"-"))}function Ht(o,a,d){const g=a.insertBeforeIndex,m=Array.isArray(g)?g[0]:g;return null===m?fh(o,0,d):Rr(d[m])}function qr(o,a,d,g,m){const b=a.insertBeforeIndex;if(Array.isArray(b)){let S=g,x=null;if(3&a.type||(x=S,S=m),null!==S&&-1===a.componentOffset)for(let M=1;M<b.length;M++)cu(o,S,d[b[M]],x,!1)}}function fr(o,a){if(o.push(a),o.length>1)for(let d=o.length-2;d>=0;d--){const g=o[d];Bs(g)||Gh(g,a)&&null===Au(g)&&Pd(g,a.index)}}function Bs(o){return!(64&o.type)}function Gh(o,a){return Bs(a)||o.index>a.index}function Au(o){const a=o.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function Pd(o,a){const d=o.insertBeforeIndex;Array.isArray(d)?d[0]=a:(ph(Ht,qr),o.insertBeforeIndex=a)}function zo(o,a){const d=o.data[a];return null===d||"string"==typeof d?null:d.hasOwnProperty("currentCaseLViewIndex")?d:d.value}function sC(o,a,d){const g=My(o,d,64,null,null);return fr(a,g),g}function hv(o,a){const d=a[o.currentCaseLViewIndex];return null===d?d:d<0?~d:d}function c1(o){return o>>>17}function D_(o){return(131070&o)>>>1}let S_=0,ap=0;function h1(o,a,d,g){const m=d[11];let S,b=null;for(let x=0;x<a.length;x++){const M=a[x];if("string"==typeof M){const k=a[++x];null===d[k]&&(d[k]=Ri(m,M))}else if("number"==typeof M)switch(1&M){case 0:const k=c1(M);let $,K;if(null===b&&(b=k,S=bc(m,g)),k===b?($=g,K=S):($=null,K=Rr(d[k])),null!==K){const lt=D_(M);cu(m,K,d[lt],$,!1);const Vt=zo(o,lt);if(null!==Vt&&"object"==typeof Vt){const pn=hv(Vt,d);null!==pn&&h1(o,Vt.create[pn],d,d[Vt.anchorIdx])}}break;case 1:const ge=a[++x],Le=a[++x];Z0(m,cl(M>>>1,d),null,null,ge,Le,null)}else switch(M){case ln:const k=a[++x],$=a[++x];null===d[$]&&bs(d[$]=Dl(m,k),d);break;case gt:const K=a[++x],re=a[++x];null===d[re]&&bs(d[re]=cd(m,K,null),d)}}}function f1(o,a,d,g,m){for(let b=0;b<d.length;b++){const S=d[b],x=d[++b];if(S&m){let M="";for(let k=b+1;k<=b+x;k++){const $=d[k];if("string"==typeof $)M+=$;else if("number"==typeof $)if($<0)M+=Ge(a[g-$]);else{const K=$>>>2;switch(3&$){case 1:const re=d[++k],ge=d[++k],Le=o.data[K];"string"==typeof Le?Z0(a[11],a[K],null,Le,re,M,ge):ba(o,Le,a,re,M,a[11],ge,!1);break;case 0:const lt=a[K];null!==lt&&Eo(a[11],lt,M);break;case 2:p1(o,zo(o,K),a,M);break;case 3:lp(o,zo(o,K),g,a)}}}}else{const M=d[b+1];if(M>0&&3==(3&M)){const $=zo(o,M>>>2);a[$.currentCaseLViewIndex]<0&&lp(o,$,g,a)}}b+=x}}function lp(o,a,d,g){let m=g[a.currentCaseLViewIndex];if(null!==m){let b=S_;m<0&&(m=g[a.currentCaseLViewIndex]=~m,b=-1),f1(o,g,a.update[m],d,b)}}function p1(o,a,d,g){const m=function g1(o,a){let d=o.cases.indexOf(a);if(-1===d)switch(o.type){case 1:{const g=function xt(o,a){const d=U(a)(parseInt(o,10)),g=Je[d];return void 0!==g?g:"other"}(a,function xl(){return Iu}());d=o.cases.indexOf(g),-1===d&&"other"!==g&&(d=o.cases.indexOf("other"));break}case 0:d=o.cases.indexOf("other")}return-1===d?null:d}(a,g);if(hv(a,d)!==m&&(fv(o,a,d),d[a.currentCaseLViewIndex]=null===m?null:~m,null!==m)){const S=d[a.anchorIdx];S&&h1(o,a.create[m],d,S)}}function fv(o,a,d){let g=hv(a,d);if(null!==g){const m=a.remove[g];for(let b=0;b<m.length;b++){const S=m[b];if(S>0){const x=cl(S,d);null!==x&&_a(d[11],x)}else fv(o,zo(o,~S),d)}}}function pv(){const o=[];let d,g,a=-1;function b(x,M){a=0;const k=hv(x,M);g=null!==k?x.remove[k]:Xt}function S(){if(a<g.length){const x=g[a++];return x>0?d[x]:(o.push(a,g),b(d[1].data[~x],d),S())}return 0===o.length?null:(g=o.pop(),a=o.pop(),S())}return function m(x,M){for(d=M;o.length;)o.pop();return b(x.value,M),S}}const gv=/\ufffd(\d+):?\d*\ufffd/gi,mv=/\ufffd(\d+)\ufffd/,zb=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,lC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Wb=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,_v=/\uE500/g;function Kb(o,a,d,g,m,b,S){const x=zf(o,g,1,null);let M=x<<wn.SHIFT,k=Xc();a===k&&(k=null),null===k&&(M|=wn.APPEND_EAGERLY),S&&(M|=wn.COMMENT,function _c(o){void 0===Rs&&(Rs=o())}(pv)),m.push(M,null===b?"":b);const $=My(o,x,S?32:1,null===b?"":b,null);fr(d,$);const K=$.index;return zs($,!1),null!==k&&a!==k&&function dv(o,a){let d=o.insertBeforeIndex;null===d?(ph(Ht,qr),d=o.insertBeforeIndex=[null,a]):(function fe(o,a,d){o!=a&&Yt(d,o,a,"==")}(Array.isArray(d),!0,"Expecting array here"),d.push(a))}(k,K),$}function Zb(o,a,d,g,m,b,S){const x=S.match(gv),M=Kb(o,a,d,b,g,x?null:S,!1);x&&I_(m,S,M.index,null,0,null)}function I_(o,a,d,g,m,b){const S=o.length,x=S+1;o.push(null,null);const M=S+2,k=a.split(gv);let $=0;for(let K=0;K<k.length;K++){const re=k[K];if(1&K){const ge=m+parseInt(re,10);o.push(-1-ge),$|=cC(ge)}else""!==re&&o.push(re)}return o.push(d<<2|(g?1:0)),g&&o.push(g,b),o[S]=$,o[x]=o.length-M,$}function cC(o){return 1<<Math.min(o,31)}function A_(o){let a,b,d="",g=0,m=!1;for(;null!==(a=lC.exec(o));)m?a[0]===`\ufffd/*${b}\ufffd`&&(g=a.index,m=!1):(d+=o.substring(g,a.index+a[0].length),b=a[1],m=!0);return d+=o.slice(g),d}function yv(o,a,d,g,m,b){let S=0;const x={type:m.type,currentCaseLViewIndex:zf(o,a,1,null),anchorIdx:b,cases:[],create:[],remove:[],update:[]};(function C1(o,a,d){o.push(cC(a.mainBinding),2,-1-a.mainBinding,d<<2|2)})(d,m,b),function Wo(o,a,d){const g=o.data[a];null===g?o.data[a]=d:g.value=d}(o,b,x);const M=m.values;for(let k=0;k<M.length;k++){const $=M[k],K=[];for(let re=0;re<$.length;re++){const ge=$[re];if("string"!=typeof ge){const Le=K.push(ge)-1;$[re]=`\x3c!--\ufffd${Le}\ufffd--\x3e`}}S=dC(o,x,a,d,g,m.cases[k],$.join(""),K)|S}S&&function pI(o,a,d){o.push(a,1,d<<2|3)}(d,S,b)}function vv(o){const a=[],d=[];let g=1,m=0;const b=qh(o=o.replace(zb,function(S,x,M){return g="select"===M?0:1,m=parseInt(x.slice(1),10),""}));for(let S=0;S<b.length;){let x=b[S++].trim();1===g&&(x=x.replace(/\s*(?:=)?(\w+)\s*/,"$1")),x.length&&a.push(x);const M=qh(b[S++]);a.length>d.length&&d.push(M)}return{type:g,mainBinding:m,cases:a,values:d}}function qh(o){if(!o)return[];let a=0;const d=[],g=[],m=/[{}]/g;let b;for(m.lastIndex=0;b=m.exec(o);){const x=b.index;if("}"==b[0]){if(d.pop(),0==d.length){const M=o.substring(a,x);zb.test(M)?g.push(vv(M)):g.push(M),a=x+1}}else{if(0==d.length){const M=o.substring(a,x);g.push(M),a=x+1}d.push("{")}}const S=o.substring(a);return g.push(S),g}function dC(o,a,d,g,m,b,S,x){const M=[],k=[],$=[];a.cases.push(b),a.create.push(M),a.remove.push(k),a.update.push($);const re=function qt(o){const a=new Qs(o);return function Ff(){try{return!!(new window.DOMParser).parseFromString(hu(""),"text/html")}catch{return!1}}()?new ui(a):a}(function pu(){return void 0!==Of?Of:typeof document<"u"?document:void 0}()).getInertBodyElement(S),ge=function Mm(o){return"content"in o&&function fw(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}(re)||re;return ge?b1(o,a,d,g,M,k,$,ge,m,x,0):0}function b1(o,a,d,g,m,b,S,x,M,k,$){let K=0,re=x.firstChild;for(;re;){const ge=zf(o,d,1,null);switch(re.nodeType){case Node.ELEMENT_NODE:const Le=re,lt=Le.tagName.toLowerCase();if(_d.hasOwnProperty(lt)){zh(m,gt,lt,M,ge),o.data[ge]=lt;const Qe=Le.attributes;for(let Tn=0;Tn<Qe.length;Tn++){const pi=Qe.item(Tn),ri=pi.name.toLowerCase();pi.value.match(gv)?dy.hasOwnProperty(ri)&&I_(S,pi.value,ge,pi.name,0,Qp[ri]?gd:null):Wh(m,ge,pi)}K=b1(o,a,d,g,m,b,S,re,ge,k,$+1)|K,E1(b,ge,$)}break;case Node.TEXT_NODE:const yt=re.textContent||"",Vt=yt.match(gv);zh(m,null,Vt?"":yt,M,ge),E1(b,ge,$),Vt&&(K=I_(S,yt,ge,null,0,null)|K);break;case Node.COMMENT_NODE:const pn=mv.exec(re.textContent||"");if(pn){const Tn=k[parseInt(pn[1],10)];zh(m,ln,"",M,ge),yv(o,d,g,M,Tn,ge),w1(b,ge,$)}}re=re.nextSibling}return K}function E1(o,a,d){0===d&&o.push(a)}function w1(o,a,d){0===d&&(o.push(~a),o.push(a))}function zh(o,a,d,g,m){null!==a&&o.push(a),o.push(d,m,function d1(o,a,d){return o|a<<17|d<<1}(0,g,m))}function Wh(o,a,d){o.push(a<<1|1,d.name,d.value)}function T1(o,a,d=-1){const g=Vn(),m=qe(),b=22+o,S=Ro(g.consts,a),x=Xc();g.firstCreatePass&&function hI(o,a,d,g,m,b){const S=Xc(),x=[],M=[],k=[[]];m=function v1(o,a){if(function fI(o){return-1===o}(a))return A_(o);{const d=o.indexOf(`:${a}\ufffd`)+2+a.toString().length,g=o.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return A_(o.substring(d,g))}}(m,b);const $=function _1(o){return o.replace(_v," ")}(m).split(Wb);for(let K=0;K<$.length;K++){let re=$[K];if(0==(1&K)){const ge=qh(re);for(let Le=0;Le<ge.length;Le++){let lt=ge[Le];if(0==(1&Le)){const yt=lt;""!==yt&&Zb(o,S,k[0],x,M,d,yt)}else{const yt=lt;if("object"!=typeof yt)throw new Error(`Unable to parse ICU expression in "${m}" message.`);yv(o,d,M,a,yt,Kb(o,S,k[0],d,x,"",!0).index)}}}else{const ge=47===re.charCodeAt(0),lt=(re.charCodeAt(ge?1:0),22+Number.parseInt(re.substring(ge?2:1)));if(ge)k.shift(),zs(Xc(),!1);else{const yt=sC(o,k[0],lt);k.unshift([]),zs(yt,!0)}}}o.data[g]={create:x,update:M}}(g,null===x?0:x.index,m,b,S,d);const M=g.data[b],$=qp(g,x===m[6]?null:x,m);(function T_(o,a,d,g){const m=o[11];for(let b=0;b<a.length;b++){const S=a[b++],x=a[b],M=(S&wn.COMMENT)===wn.COMMENT,k=(S&wn.APPEND_EAGERLY)===wn.APPEND_EAGERLY,$=S>>>wn.SHIFT;let K=o[$];null===K&&(K=o[$]=M?m.createComment(x):Ri(m,x)),k&&null!==d&&cu(m,d,K,g,!1)}})(m,M.create,$,x&&8&x.type?m[x.index]:null),_f(!0)}function A1(o,a,d){T1(o,a,d),function I1(){_f(!1)}()}function Gg(o){return function aI(o){o&&(S_|=1<<Math.min(ap,31)),ap++}(io(qe(),Po(),o)),Gg}function Kh(o){!function lI(o,a,d){if(ap>0){const g=o.data[d];f1(o,a,Array.isArray(g)?g:g.update,si()-ap-1,S_)}S_=0,ap=0}(Vn(),qe(),o+22)}function Qb(o,a,d,g,m){if(o=ce(o),Array.isArray(o))for(let b=0;b<o.length;b++)Qb(o[b],a,d,g,m);else{const b=Vn(),S=qe();let x=yd(o)?o:ce(o.provide),M=ei(o);const k=vi(),$=1048575&k.providerIndexes,K=k.directiveStart,re=k.providerIndexes>>20;if(yd(o)||!o.multi){const ge=new Ju(M,m,Gf),Le=hC(x,a,m?$:$+re,K);-1===Le?(rc(Bo(k,S),b,x),up(b,o,a.length),a.push(x),k.directiveStart++,k.directiveEnd++,m&&(k.providerIndexes+=1048576),d.push(ge),S.push(ge)):(d[Le]=ge,S[Le]=ge)}else{const ge=hC(x,a,$+re,K),Le=hC(x,a,$,$+re),lt=ge>=0&&d[ge],yt=Le>=0&&d[Le];if(m&&!yt||!m&&!lt){rc(Bo(k,S),b,x);const Vt=function P1(o,a,d,g,m){const b=new Ju(o,d,Gf);return b.multi=[],b.index=a,b.componentProviders=0,M1(b,m,g&&!d),b}(m?_I:R1,d.length,m,g,M);!m&&yt&&(d[Le].providerFactory=Vt),up(b,o,a.length,0),a.push(x),k.directiveStart++,k.directiveEnd++,m&&(k.providerIndexes+=1048576),d.push(Vt),S.push(Vt)}else up(b,o,ge>-1?ge:Le,M1(d[m?Le:ge],M,!m&&g));!m&&g&&yt&&d[Le].componentProviders++}}}function up(o,a,d,g){const m=yd(a),b=function rg(o){return!!o.useClass}(a);if(m||b){const M=(b?ce(a.useClass):a).prototype.ngOnDestroy;if(M){const k=o.destroyHooks||(o.destroyHooks=[]);if(!m&&a.multi){const $=k.indexOf(d);-1===$?k.push(d,[g,M]):k[$+1].push(g,M)}else k.push(d,M)}}}function M1(o,a,d){return d&&o.componentProviders++,o.multi.push(a)-1}function hC(o,a,d,g){for(let m=d;m<g;m++)if(a[m]===o)return m;return-1}function R1(o,a,d,g){return Xb(this.multi,[])}function _I(o,a,d,g){const m=this.multi;let b;if(this.providerFactory){const S=this.providerFactory.componentProviders,x=yo(d,d[1],this.providerFactory.index,g);b=x.slice(0,S),Xb(m,b);for(let M=S;M<x.length;M++)b.push(x[M])}else b=[],Xb(m,b);return b}function Xb(o,a){for(let d=0;d<o.length;d++)a.push((0,o[d])());return a}function eE(o,a=[]){return d=>{d.providersResolver=(g,m)=>function N1(o,a,d){const g=Vn();if(g.firstCreatePass){const m=_i(o);Qb(d,g.data,g.blueprint,m,!0),Qb(a,g.data,g.blueprint,m,!1)}}(g,m?m(o):o,a)}}class cp{}class fC{}function O1(o,a){return new F1(o,a??null)}class F1 extends cp{constructor(a,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Uy(this);const g=Zr(a);this._bootstrapComponents=Il(g.bootstrap),this._r3Injector=R0(a,d,[{provide:cp,useValue:this},{provide:Uf,useValue:this.componentFactoryResolver}],Ie(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class pC extends fC{constructor(a){super(),this.moduleType=a}create(a){return new F1(this.moduleType,a)}}class yI extends cp{constructor(a,d,g){super(),this.componentFactoryResolver=new Uy(this),this.instance=null;const m=new Rn([...a,{provide:cp,useValue:this},{provide:Uf,useValue:this.componentFactoryResolver}],d||Or(),g,new Set(["environment"]));this.injector=m,m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function x_(o,a,d=null){return new yI(o,a,d).injector}let Cv=(()=>{class o{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const g=ng(0,d.type),m=g.length>0?x_([g],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,m)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=Qt({token:o,providedIn:"environment",factory:()=>new o(st(ya))}),o})();function Dv(o){o.getStandaloneInjector=a=>a.get(Cv).getOrCreateStandaloneInjector(o)}function _C(o,a,d){const g=ur()+o,m=qe();return m[g]===vn?Du(m,g,d?a.call(d):a()):function Ph(o,a){return o[a]}(m,g)}function nE(o,a,d,g){return bC(qe(),ur(),o,a,d,g)}function R_(o,a,d,g,m){return EC(qe(),ur(),o,a,d,g,m)}function yC(o,a,d,g,m,b){return function sE(o,a,d,g,m,b,S,x){const M=a+d;return function a_(o,a,d,g,m){const b=Oh(o,a,d,g);return io(o,a+2,m)||b}(o,M,m,b,S)?Du(o,M+3,x?g.call(x,m,b,S):g(m,b,S)):Yh(o,M+3)}(qe(),ur(),o,a,d,g,m,b)}function Yh(o,a){const d=o[a];return d===vn?void 0:d}function bC(o,a,d,g,m,b){const S=a+d;return io(o,S,m)?Du(o,S+1,b?g.call(b,m):g(m)):Yh(o,S+1)}function EC(o,a,d,g,m,b,S){const x=a+d;return Oh(o,x,m,b)?Du(o,x+2,S?g.call(S,m,b):g(m,b)):Yh(o,x+2)}function Tv(o,a){const d=Vn();let g;const m=o+22;d.firstCreatePass?(g=function G1(o,a){if(a)for(let d=a.length-1;d>=0;d--){const g=a[d];if(o===g.name)return g}}(a,d.pipeRegistry),d.data[m]=g,g.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(m,g.onDestroy)):g=d.data[m];const b=g.factory||(g.factory=al(g.type)),S=Nn(Gf);try{const x=pl(!1),M=b();return pl(x),function _b(o,a,d,g){d>=o.data.length&&(o.data[d]=null,o.blueprint[d]=null),a[d]=g}(d,qe(),m,M),M}finally{Nn(S)}}function dp(o,a,d){const g=o+22,m=qe(),b=ia(m,g);return hp(m,g)?bC(m,ur(),a,b.transform,d,b):b.transform(d)}function CC(o,a,d,g){const m=o+22,b=qe(),S=ia(b,m);return hp(b,m)?EC(b,ur(),a,S.transform,d,g,S):S.transform(d,g)}function hp(o,a){return o[1].data[a].pure}function aE(o){return a=>{setTimeout(o,void 0,a)}}const kc=class Nl extends c.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,d,g){let m=a,b=d||(()=>null),S=g;if(a&&"object"==typeof a){const M=a;m=M.next?.bind(M),b=M.error?.bind(M),S=M.complete?.bind(M)}this.__isAsync&&(b=aE(b),m&&(m=aE(m)),S&&(S=aE(S)));const x=super.subscribe({next:m,error:b,complete:S});return a instanceof me.w0&&a.add(x),x}};function P_(){return this._results[Id()]()}class DC{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Id(),g=DC.prototype;g[d]||(g[d]=P_)}get changes(){return this._changes||(this._changes=new kc)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,d){return this._results.reduce(a,d)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,d){const g=this;g.dirty=!1;const m=function xi(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Df(o,a,d){if(o.length!==a.length)return!1;for(let g=0;g<o.length;g++){let m=o[g],b=a[g];if(d&&(m=d(m),b=d(b)),b!==m)return!1}return!0}(g._results,m,d))&&(g._results=m,g.length=m.length,g.last=m[this.length-1],g.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Iv=(()=>{class o{}return o.__NG_ELEMENT_ID__=TI,o})();const SC=Iv,SI=class extends SC{constructor(a,d,g){super(),this._declarationLView=a,this._declarationTContainer=d,this.elementRef=g}createEmbeddedView(a,d){const g=this._declarationTContainer.tViews,m=Wm(this._declarationLView,g,a,16,null,g.declTNode,null,null,null,null,d||null);m[17]=this._declarationLView[this._declarationTContainer.index];const S=this._declarationLView[19];return null!==S&&(m[19]=S.createEmbeddedView(g)),gg(g,m,a),new wg(m)}};function TI(){return Av(vi(),qe())}function Av(o,a){return 4&o.type?new SI(a,o,Ch(o,a)):null}let lE=(()=>{class o{}return o.__NG_ELEMENT_ID__=uE,o})();function uE(){return Jh(vi(),qe())}const II=lE,TC=class extends II{constructor(a,d,g){super(),this._lContainer=a,this._hostTNode=d,this._hostLView=g}get element(){return Ch(this._hostTNode,this._hostLView)}get injector(){return new wr(this._hostTNode,this._hostLView)}get parentInjector(){const a=id(this._hostTNode,this._hostLView);if(Ql(a)){const d=Xl(a,this._hostLView),g=fl(a);return new wr(d[1].data[g+8],d)}return new wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const d=Vs(this._lContainer);return null!==d&&d[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,d,g){let m,b;"number"==typeof g?m=g:null!=g&&(m=g.index,b=g.injector);const S=a.createEmbeddedView(d||{},b);return this.insert(S,m),S}createComponent(a,d,g,m,b){const S=a&&!function nu(o){return"function"==typeof o}(a);let x;if(S)x=d;else{const K=d||{};x=K.index,g=K.injector,m=K.projectableNodes,b=K.environmentInjector||K.ngModuleRef}const M=S?a:new Td(Bn(a)),k=g||this.parentInjector;if(!b&&null==M.ngModule){const re=(S?k:this.parentInjector).get(ya,null);re&&(b=re)}const $=M.create(k,m,void 0,b);return this.insert($.hostView,x),$}insert(a,d){const g=a._lView,m=g[1];if(function Hu(o){return hn(o[3])}(g)){const $=this.indexOf(a);if(-1!==$)this.detach($);else{const K=g[3],re=new TC(K,K[6],K[3]);re.detach(re.indexOf(a))}}const b=this._adjustIndex(d),S=this._lContainer;!function ma(o,a,d,g){const m=10+g,b=d.length;g>0&&(d[m-1][4]=a),g<b-10?(a[4]=d[m],yl(d,10+g,a)):(d.push(a),a[4]=null),a[3]=d;const S=a[17];null!==S&&d!==S&&function yc(o,a){const d=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===d?o[9]=[a]:d.push(a)}(S,a);const x=a[19];null!==x&&x.insertView(o),a[2]|=64}(m,g,S,b);const x=Gn(b,S),M=g[11],k=bc(M,S[7]);return null!==k&&function dh(o,a,d,g,m,b){g[0]=m,g[6]=a,Cc(o,g,d,1,m,b)}(m,S[6],M,g,k,x),a.attachToViewContainerRef(),yl(fp(S),b,a),a}move(a,d){return this.insert(a,d)}indexOf(a){const d=Vs(this._lContainer);return null!==d?d.indexOf(a):-1}remove(a){const d=this._adjustIndex(a,-1),g=dd(this._lContainer,d);g&&(fa(fp(this._lContainer),d),wm(g[1],g))}detach(a){const d=this._adjustIndex(a,-1),g=dd(this._lContainer,d);return g&&null!=fa(fp(this._lContainer),d)?new wg(g):null}_adjustIndex(a,d=0){return a??this.length+d}};function Vs(o){return o[8]}function fp(o){return o[8]||(o[8]=[])}function Jh(o,a){let d;const g=a[o.index];if(hn(g))d=g;else{let m;if(8&o.type)m=Rr(g);else{const b=a[11];m=b.createComment("");const S=Sr(o,a);cu(b,bc(b,S),m,function y0(o,a){return o.nextSibling(a)}(b,S),!1)}a[o.index]=d=By(g,a,m,o),Qm(a,d)}return new TC(d,o,a)}class xv{constructor(a){this.queryList=a,this.matches=null}clone(){return new xv(this.queryList)}setDirty(){this.queryList.setDirty()}}class IC{constructor(a=[]){this.queries=a}createEmbeddedView(a){const d=a.queries;if(null!==d){const g=null!==a.contentQueries?a.contentQueries[0]:d.length,m=[];for(let b=0;b<g;b++){const S=d.getByIndex(b);m.push(this.queries[S.indexInDeclarationView].clone())}return new IC(m)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let d=0;d<this.queries.length;d++)null!==NC(a,d).matches&&this.queries[d].setDirty()}}class rt{constructor(a,d,g=null){this.predicate=a,this.flags=d,this.read=g}}class Ci{constructor(a=[]){this.queries=a}elementStart(a,d){for(let g=0;g<this.queries.length;g++)this.queries[g].elementStart(a,d)}elementEnd(a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(a)}embeddedTView(a){let d=null;for(let g=0;g<this.length;g++){const m=null!==d?d.length:0,b=this.getByIndex(g).embeddedTView(a,m);b&&(b.indexInDeclarationView=g,null!==d?d.push(b):d=[b])}return null!==d?new Ci(d):null}template(a,d){for(let g=0;g<this.queries.length;g++)this.queries[g].template(a,d)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Qh{constructor(a,d=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(a,d){this.isApplyingToNode(d)&&this.matchTNode(a,d)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,d){this.elementStart(a,d)}embeddedTView(a,d){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,d),new Qh(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let g=a.parent;for(;null!==g&&8&g.type&&g.index!==d;)g=g.parent;return d===(null!==g?g.index:-1)}return this._appliesToNextNode}matchTNode(a,d){const g=this.metadata.predicate;if(Array.isArray(g))for(let m=0;m<g.length;m++){const b=g[m];this.matchTNodeWithReadOption(a,d,AC(d,b)),this.matchTNodeWithReadOption(a,d,ic(d,a,b,!1,!1))}else g===Iv?4&d.type&&this.matchTNodeWithReadOption(a,d,-1):this.matchTNodeWithReadOption(a,d,ic(d,a,g,!1,!1))}matchTNodeWithReadOption(a,d,g){if(null!==g){const m=this.metadata.read;if(null!==m)if(m===Dh||m===lE||m===Iv&&4&d.type)this.addMatch(d.index,-2);else{const b=ic(d,a,m,!1,!1);null!==b&&this.addMatch(d.index,b)}else this.addMatch(d.index,g)}}addMatch(a,d){null===this.matches?this.matches=[a,d]:this.matches.push(a,d)}}function AC(o,a){const d=o.localNames;if(null!==d)for(let g=0;g<d.length;g+=2)if(d[g]===a)return d[g+1];return null}function Zt(o,a,d,g){return-1===d?function Ft(o,a){return 11&o.type?Ch(o,a):4&o.type?Av(o,a):null}(a,o):-2===d?function AI(o,a,d){return d===Dh?Ch(a,o):d===Iv?Av(a,o):d===lE?Jh(a,o):void 0}(o,a,g):yo(o,o[1],d,a)}function Et(o,a,d,g){const m=a[19].queries[g];if(null===m.matches){const b=o.data,S=d.matches,x=[];for(let M=0;M<S.length;M+=2){const k=S[M];x.push(k<0?null:Zt(a,b[k],S[M+1],d.metadata.read))}m.matches=x}return m.matches}function Te(o,a,d,g){const m=o.queries.getByIndex(d),b=m.matches;if(null!==b){const S=Et(o,a,m,d);for(let x=0;x<b.length;x+=2){const M=b[x];if(M>0)g.push(S[x/2]);else{const k=b[x+1],$=a[-M];for(let K=10;K<$.length;K++){const re=$[K];re[17]===re[3]&&Te(re[1],re,k,g)}if(null!==$[9]){const K=$[9];for(let re=0;re<K.length;re++){const ge=K[re];Te(ge[1],ge,k,g)}}}}}return g}function Ye(o){const a=qe(),d=Vn(),g=Oo();go(g+1);const m=NC(d,g);if(o.dirty&&function Uu(o){return 4==(4&o[2])}(a)===(2==(2&m.metadata.flags))){if(null===m.matches)o.reset([]);else{const b=m.crossesNgTemplate?Te(d,a,g,[]):Et(d,a,m,g);o.reset(b,On),o.notifyOnChanges()}return!0}return!1}function Cs(o,a,d){const g=Vn();g.firstCreatePass&&(Y1(g,new rt(o,a,d),-1),2==(2&a)&&(g.staticViewQueries=!0)),Z1(g,qe(),a)}function xC(o,a,d,g){const m=Vn();if(m.firstCreatePass){const b=vi();Y1(m,new rt(a,d,g),b.index),function NI(o,a){const d=o.contentQueries||(o.contentQueries=[]);a!==(d.length?d[d.length-1]:-1)&&d.push(o.queries.length-1,a)}(m,o),2==(2&d)&&(m.staticContentQueries=!0)}Z1(m,qe(),d)}function K1(){return function xI(o,a){return o[19].queries[a].queryList}(qe(),Oo())}function Z1(o,a,d){const g=new DC(4==(4&d));mg(o,a,g,g.destroy),null===a[19]&&(a[19]=new IC),a[19].queries.push(new xv(g))}function Y1(o,a,d){null===o.queries&&(o.queries=new Ci),o.queries.track(new Qh(a,d))}function NC(o,a){return o.queries.getByIndex(a)}function J1(o,a){return Av(o,a)}function Od(...o){}const B_=new qn("Application Initializer");let Lc=(()=>{class o{constructor(d){this.appInits=d,this.resolve=Od,this.reject=Od,this.initialized=!1,this.done=!1,this.donePromise=new Promise((g,m)=>{this.resolve=g,this.reject=m})}runInitializers(){if(this.initialized)return;const d=[],g=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const b=this.appInits[m]();if(zy(b))d.push(b);else if(bb(b)){const S=new Promise((x,M)=>{b.subscribe({complete:x,error:M})});d.push(S)}}Promise.all(d).then(()=>{g()}).catch(m=>{this.reject(m)}),0===d.length&&g(),this.initialized=!0}}return o.\u0275fac=function(d){return new(d||o)(st(B_,8))},o.\u0275prov=Qt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const $C=new qn("AppId",{providedIn:"root",factory:function Zg(){return`${nf()}${nf()}${nf()}`}});function nf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pE=new qn("Platform Initializer"),Pv=new qn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),HC=new qn("appBootstrapListener"),gE=new qn("AnimationModuleType");let Ov=(()=>{class o{log(d){console.log(d)}warn(d){console.warn(d)}}return o.\u0275fac=function(d){return new(d||o)},o.\u0275prov=Qt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const mE=new qn("LocaleId",{providedIn:"root",factory:()=>Tt(mE,zt.Optional|zt.SkipSelf)||function aS(){return typeof $localize<"u"&&$localize.locale||pt}()}),BI=new qn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class lS{constructor(a,d){this.ngModuleFactory=a,this.componentFactories=d}}let uS=(()=>{class o{compileModuleSync(d){return new pC(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const g=this.compileModuleSync(d),b=Il(Zr(d).declarations).reduce((S,x)=>{const M=Bn(x);return M&&S.push(new Td(M)),S},[]);return new lS(g,b)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return o.\u0275fac=function(d){return new(d||o)},o.\u0275prov=Qt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const dS=(()=>Promise.resolve(0))();function yE(o){typeof Zone>"u"?dS.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Nu{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:g=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kc(!1),this.onMicrotaskEmpty=new kc(!1),this.onStable=new kc(!1),this.onError=new kc(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!g&&d,m.shouldCoalesceRunChangeDetection=g,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function hS(){let o=Pt.requestAnimationFrame,a=Pt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d);const g=a[Zone.__symbol__("OriginalDelegate")];g&&(a=g)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function GI(o){const a=()=>{!function fS(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Pt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,vE(o),o.isCheckStableRunning=!0,jC(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),vE(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,g,m,b,S,x)=>{try{return pS(o),d.invokeTask(m,b,S,x)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||o.shouldCoalesceRunChangeDetection)&&a(),gS(o)}},onInvoke:(d,g,m,b,S,x,M)=>{try{return pS(o),d.invoke(m,b,S,x,M)}finally{o.shouldCoalesceRunChangeDetection&&a(),gS(o)}},onHasTask:(d,g,m,b)=>{d.hasTask(m,b),g===m&&("microTask"==b.change?(o._hasPendingMicrotasks=b.microTask,vE(o),jC(o)):"macroTask"==b.change&&(o.hasPendingMacrotasks=b.macroTask))},onHandleError:(d,g,m,b)=>(d.handleError(m,b),o.runOutsideAngular(()=>o.onError.emit(b)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Nu.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(Nu.isInAngularZone())throw new xe(909,!1)}run(a,d,g){return this._inner.run(a,d,g)}runTask(a,d,g,m){const b=this._inner,S=b.scheduleEventTask("NgZoneEvent: "+m,a,jI,Od,Od);try{return b.runTask(S,d,g)}finally{b.cancelTask(S)}}runGuarded(a,d,g){return this._inner.runGuarded(a,d,g)}runOutsideAngular(a){return this._outer.run(a)}}const jI={};function jC(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function vE(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function pS(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function gS(o){o._nesting--,jC(o)}class V_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kc,this.onMicrotaskEmpty=new kc,this.onStable=new kc,this.onError=new kc}run(a,d,g){return a.apply(d,g)}runGuarded(a,d,g){return a.apply(d,g)}runOutsideAngular(a){return a()}runTask(a,d,g,m){return a.apply(d,g)}}const mS=new qn(""),Di=new qn("");let EE,bE=(()=>{class o{constructor(d,g,m){this._ngZone=d,this.registry=g,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,EE||(function Ar(o){EE=o}(m),m.addToWindow(g)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Nu.assertNotInAngularZone(),yE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yE(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(d)||(clearTimeout(g.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,g,m){let b=-1;g&&g>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(S=>S.timeoutId!==b),d(this._didWork,this.getPendingTasks())},g)),this._callbacks.push({doneCb:d,timeoutId:b,updateCb:m})}whenStable(d,g,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,g,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,g,m){return[]}}return o.\u0275fac=function(d){return new(d||o)(st(Nu),st(oo),st(Di))},o.\u0275prov=Qt({token:o,factory:o.\u0275fac}),o})(),oo=(()=>{class o{constructor(){this._applications=new Map}registerApplication(d,g){this._applications.set(d,g)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,g=!0){return EE?.findTestabilityInTree(this,d,g)??null}}return o.\u0275fac=function(d){return new(d||o)},o.\u0275prov=Qt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),Rl=null;const tl=new qn("AllowMultipleToken"),Us=new qn("PlatformDestroyListeners");class Qg{constructor(a,d){this.name=a,this.token=d}}function qC(o,a,d=[]){const g=`Platform: ${a}`,m=new qn(g);return(b=[])=>{let S=CE();if(!S||S.injector.get(tl,!1)){const x=[...d,...b,{provide:m,useValue:!0}];o?o(x):function kv(o){if(Rl&&!Rl.get(tl,!1))throw new xe(400,!1);Rl=o;const a=o.get(DE);(function Fv(o){const a=o.get(pE,null);a&&a.forEach(d=>d())})(o)}(function zC(o=[],a){return Ah.create({name:a,providers:[{provide:Xs,useValue:"platform"},{provide:Us,useValue:new Set([()=>Rl=null])},...o]})}(x,g))}return function rf(o){const a=CE();if(!a)throw new xe(401,!1);return a}()}}function CE(){return Rl?.get(DE)??null}let DE=(()=>{class o{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,g){const m=function SE(o,a){let d;return d="noop"===o?new V_:("zone.js"===o?void 0:o)||new Nu(a),d}(g?.ngZone,function Bv(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(g)),b=[{provide:Nu,useValue:m}];return m.run(()=>{const S=Ah.create({providers:b,parent:this.injector,name:d.moduleType.name}),x=d.create(S),M=x.injector.get(hi,null);if(!M)throw new xe(402,!1);return m.runOutsideAngular(()=>{const k=m.onError.subscribe({next:$=>{M.handleError($)}});x.onDestroy(()=>{Xg(this._modules,x),k.unsubscribe()})}),function vp(o,a,d){try{const g=d();return zy(g)?g.catch(m=>{throw a.runOutsideAngular(()=>o.handleError(m)),m}):g}catch(g){throw a.runOutsideAngular(()=>o.handleError(g)),g}}(M,m,()=>{const k=x.injector.get(Lc);return k.runInitializers(),k.donePromise.then(()=>(Oc(x.injector.get(mE,pt)||pt),this._moduleDoBootstrap(x),x))})})}bootstrapModule(d,g=[]){const m=Ko({},g);return function ni(o,a,d){const g=new pC(d);return Promise.resolve(g)}(0,0,d).then(b=>this.bootstrapModuleFactory(b,m))}_moduleDoBootstrap(d){const g=d.injector.get(U_);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(m=>g.bootstrap(m));else{if(!d.instance.ngDoBootstrap)throw new xe(403,!1);d.instance.ngDoBootstrap(g)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(g=>g.destroy()),this._destroyListeners.forEach(g=>g());const d=this._injector.get(Us,null);d&&(d.forEach(g=>g()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(d){return new(d||o)(st(Ah))},o.\u0275prov=Qt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function Ko(o,a){return Array.isArray(a)?a.reduce(Ko,o):{...o,...a}}let U_=(()=>{class o{constructor(d,g,m){this._zone=d,this._injector=g,this._exceptionHandler=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new G.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),S=new G.y(x=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{Nu.assertNotInAngularZone(),yE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Nu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{M.unsubscribe(),k.unsubscribe()}});this.isStable=(0,Ce.T)(b,S.pipe((0,de.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,g){const m=d instanceof Gr;if(!this._injector.get(Lc).done)throw!m&&Vr(d),new xe(405,false);let S;S=m?d:this._injector.get(Uf).resolveComponentFactory(d),this.componentTypes.push(S.componentType);const x=function GC(o){return o.isBoundToModule}(S)?void 0:this._injector.get(cp),k=S.create(Ah.NULL,[],g||S.selector,x),$=k.location.nativeElement,K=k.injector.get(mS,null);return K?.registerApplication($),k.onDestroy(()=>{this.detachView(k.hostView),Xg(this.components,k),K?.unregisterApplication($)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const g=d;this._views.push(g),g.attachToAppRef(this)}detachView(d){const g=d;Xg(this._views,g),g.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const g=this._injector.get(HC,[]);g.push(...this._bootstrapListeners),g.forEach(m=>m(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Xg(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new xe(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(d){return new(d||o)(st(Nu),st(ya),st(hi))},o.\u0275prov=Qt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Xg(o,a){const d=o.indexOf(a);d>-1&&o.splice(d,1)}function WC(){return!1}let bS=(()=>{class o{}return o.__NG_ELEMENT_ID__=ES,o})();function ES(o){return function wS(o,a,d){if(fo(o)&&!d){const g=ii(o.index,a);return new wg(g,g)}return 47&o.type?new wg(a[16],a):null}(vi(),qe(),16==(16&o))}class JC{constructor(){}supports(a){return Rh(a)}create(a){return new sf(a)}}const j_=(o,a)=>a;class sf{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||j_}forEachItem(a){let d;for(d=this._itHead;null!==d;d=d._next)a(d)}forEachOperation(a){let d=this._itHead,g=this._removalsHead,m=0,b=null;for(;d||g;){const S=!g||d&&d.currentIndex<sm(g,m,b)?d:g,x=sm(S,m,b),M=S.currentIndex;if(S===g)m--,g=g._nextRemoved;else if(d=d._next,null==S.previousIndex)m++;else{b||(b=[]);const k=x-m,$=M-m;if(k!=$){for(let re=0;re<k;re++){const ge=re<b.length?b[re]:b[re]=0,Le=ge+re;$<=Le&&Le<k&&(b[re]=ge+1)}b[S.previousIndex]=$-k}}x!==M&&a(S,x,M)}}forEachPreviousItem(a){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachMovedItem(a){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}forEachIdentityChange(a){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)a(d)}diff(a){if(null==a&&(a=[]),!Rh(a))throw new xe(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let m,b,S,d=this._itHead,g=!1;if(Array.isArray(a)){this.length=a.length;for(let x=0;x<this.length;x++)b=a[x],S=this._trackByFn(x,b),null!==d&&Object.is(d.trackById,S)?(g&&(d=this._verifyReinsertion(d,b,S,x)),Object.is(d.item,b)||this._addIdentityChange(d,b)):(d=this._mismatch(d,b,S,x),g=!0),d=d._next}else m=0,function ub(o,a){if(Array.isArray(o))for(let d=0;d<o.length;d++)a(o[d]);else{const d=o[Id()]();let g;for(;!(g=d.next()).done;)a(g.value)}}(a,x=>{S=this._trackByFn(m,x),null!==d&&Object.is(d.trackById,S)?(g&&(d=this._verifyReinsertion(d,x,S,m)),Object.is(d.item,x)||this._addIdentityChange(d,x)):(d=this._mismatch(d,x,S,m),g=!0),d=d._next,m++}),this.length=m;return this._truncate(d),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,d,g,m){let b;return null===a?b=this._itTail:(b=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._reinsertAfter(a,b,m)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(g,m))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._moveAfter(a,b,m)):a=this._addAfter(new DS(d,g),b,m),a}_verifyReinsertion(a,d,g,m){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null);return null!==b?a=this._reinsertAfter(b,a._prev,m):a.currentIndex!=m&&(a.currentIndex=m,this._addToMoves(a,m)),a}_truncate(a){for(;null!==a;){const d=a._next;this._addToRemovals(this._unlink(a)),a=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,d,g){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const m=a._prevRemoved,b=a._nextRemoved;return null===m?this._removalsHead=b:m._nextRemoved=b,null===b?this._removalsTail=m:b._prevRemoved=m,this._insertAfter(a,d,g),this._addToMoves(a,g),a}_moveAfter(a,d,g){return this._unlink(a),this._insertAfter(a,d,g),this._addToMoves(a,g),a}_addAfter(a,d,g){return this._insertAfter(a,d,g),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,d,g){const m=null===d?this._itHead:d._next;return a._next=m,a._prev=d,null===m?this._itTail=a:m._prev=a,null===d?this._itHead=a:d._next=a,null===this._linkedRecords&&(this._linkedRecords=new QC),this._linkedRecords.put(a),a.currentIndex=g,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const d=a._prev,g=a._next;return null===d?this._itHead=g:d._next=g,null===g?this._itTail=d:g._prev=d,a}_addToMoves(a,d){return a.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QC),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,d){return a.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class DS{constructor(a,d){this.item=a,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class SS{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,d){let g;for(g=this._head;null!==g;g=g._nextDup)if((null===d||d<=g.currentIndex)&&Object.is(g.trackById,a))return g;return null}remove(a){const d=a._prevDup,g=a._nextDup;return null===d?this._head=g:d._nextDup=g,null===g?this._tail=d:g._prevDup=d,null===this._head}}class QC{constructor(){this.map=new Map}put(a){const d=a.trackById;let g=this.map.get(d);g||(g=new SS,this.map.set(d,g)),g.add(a)}get(a,d){const m=this.map.get(a);return m?m.get(a,d):null}remove(a){const d=a.trackById;return this.map.get(d).remove(a)&&this.map.delete(d),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sm(o,a,d){const g=o.previousIndex;if(null===g)return g;let m=0;return d&&g<d.length&&(m=d[g]),g+a+m}class IE{constructor(){}supports(a){return a instanceof Map||o_(a)}create(){return new JI}}class JI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let d;for(d=this._mapHead;null!==d;d=d._next)a(d)}forEachPreviousItem(a){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)a(d)}forEachChangedItem(a){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}diff(a){if(a){if(!(a instanceof Map||o_(a)))throw new xe(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(a,(g,m)=>{if(d&&d.key===m)this._maybeAddToChanges(d,g),this._appendAfter=d,d=d._next;else{const b=this._getOrCreateRecordForKey(m,g);d=this._insertBeforeOrAppend(d,b)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let g=d;null!==g;g=g._nextRemoved)g===this._mapHead&&(this._mapHead=null),this._records.delete(g.key),g._nextRemoved=g._next,g.previousValue=g.currentValue,g.currentValue=null,g._prev=null,g._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,d){if(a){const g=a._prev;return d._next=a,d._prev=g,a._prev=d,g&&(g._next=d),a===this._mapHead&&(this._mapHead=d),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(a,d){if(this._records.has(a)){const m=this._records.get(a);this._maybeAddToChanges(m,d);const b=m._prev,S=m._next;return b&&(b._next=S),S&&(S._prev=b),m._next=null,m._prev=null,m}const g=new Ds(a);return this._records.set(a,g),g.currentValue=d,this._addToAdditions(g),g}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,d){Object.is(d,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=d,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,d){a instanceof Map?a.forEach(d):Object.keys(a).forEach(g=>d(a[g],g))}}class Ds{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Jn(){return new AE([new JC])}let AE=(()=>{class o{constructor(d){this.factories=d}static create(d,g){if(null!=g){const m=g.factories.slice();d=d.concat(m)}return new o(d)}static extend(d){return{provide:o,useFactory:g=>o.create(d,g||Jn()),deps:[[o,new O,new pa]]}}find(d){const g=this.factories.find(m=>m.supports(d));if(null!=g)return g;throw new xe(901,!1)}}return o.\u0275prov=Qt({token:o,providedIn:"root",factory:Jn}),o})();function af(){return new XC([new IE])}let XC=(()=>{class o{constructor(d){this.factories=d}static create(d,g){if(g){const m=g.factories.slice();d=d.concat(m)}return new o(d)}static extend(d){return{provide:o,useFactory:g=>o.create(d,g||af()),deps:[[o,new O,new pa]]}}find(d){const g=this.factories.find(m=>m.supports(d));if(g)return g;throw new xe(901,!1)}}return o.\u0275prov=Qt({token:o,providedIn:"root",factory:af}),o})();const Fd=qC(null,"core",[]);let IS=(()=>{class o{constructor(d){}}return o.\u0275fac=function(d){return new(d||o)(st(U_))},o.\u0275mod=Ln({type:o}),o.\u0275inj=Ts({}),o})();function $v(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},310:()=>{class lv extends Error{constructor(i){super(`No translation found for ${Hh(i)}.`),this.parsedMessage=i,this.type="MissingTranslationError"}}const jh=function(p,...i){if(jh.translate){const f=jh.translate(p,i);p=f[0],i=f[1]}let l=C_(p[0],p.raw[0]);for(let f=1;f<p.length;f++)l+=i[f-1]+C_(p[f],p.raw[f]);return l};function C_(p,i){return":"===i.charAt(0)?p.substring(function E_(p,i){for(let l=1,f=1;l<p.length;l++,f++)if("\\"===i[f])f++;else if(":"===p[l])return l;throw new Error(`Unterminated $localize metadata block in "${i}".`)}(p,i)+1):p}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=jh},3942:(_t,Fe,q)=>{q.d(Fe,{Z:()=>Xe});var c=q(2090),me=q(4859),G=q(9681),Ce=q(1877);class de{constructor(xe,je){this._delegate=xe,this.firebase=je,(0,G._addComponent)(xe,new me.wA("app-compat",()=>this,"PUBLIC")),this.container=xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this._delegate.automaticDataCollectionEnabled=xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xe=>{this._delegate.checkDestroyed(),xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(xe,je=G._DEFAULT_ENTRY_NAME){var Ge;this._delegate.checkDestroyed();const Oe=this._delegate.container.getProvider(xe);return!Oe.isInitialized()&&"EXPLICIT"===(null===(Ge=Oe.getComponent())||void 0===Ge?void 0:Ge.instantiationMode)&&Oe.initialize(),Oe.getImmediate({identifier:je})}_removeServiceInstance(xe,je=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xe).clearInstance(je)}_addComponent(xe){(0,G._addComponent)(this._delegate,xe)}_addOrOverwriteComponent(xe){(0,G._addOrOverwriteComponent)(this._delegate,xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Me=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function Ae(){const Ct=function Ie(Ct){const xe={},je={__esModule:!0,initializeApp:function Ue(et,ee={}){const Be=G.initializeApp(et,ee);if((0,c.r3)(xe,Be.name))return xe[Be.name];const ie=new Ct(Be,je);return xe[Be.name]=ie,ie},app:Oe,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function Ze(et){const ee=et.name,Be=ee.replace("-compat","");if(G._registerComponent(et)&&"PUBLIC"===et.type){const ie=(fe=Oe())=>{if("function"!=typeof fe[Be])throw Me.create("invalid-app-argument",{appName:ee});return fe[Be]()};void 0!==et.serviceProps&&(0,c.ZB)(ie,et.serviceProps),je[Be]=ie,Ct.prototype[Be]=function(...fe){return this._getService.bind(this,ee).apply(this,et.multipleInstances?fe:[])}}return"PUBLIC"===et.type?je[Be]:null},removeApp:function Ge(et){delete xe[et]},useAsService:function ut(et,ee){return"serverAuth"===ee?null:ee},modularAPIs:G}};function Oe(et){if(!(0,c.r3)(xe,et=et||G._DEFAULT_ENTRY_NAME))throw Me.create("no-app",{appName:et});return xe[et]}return je.default=je,Object.defineProperty(je,"apps",{get:function $e(){return Object.keys(xe).map(et=>xe[et])}}),Oe.App=Ct,je}(de);return Ct.INTERNAL=Object.assign(Object.assign({},Ct.INTERNAL),{createFirebaseNamespace:Ae,extendNamespace:function xe(je){(0,c.ZB)(Ct,je)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ct}(),te=new Ce.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){te.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ct=self.firebase.SDK_VERSION;Ct&&Ct.indexOf("LITE")>=0&&te.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xe=X;!function ze(Ct){(0,G.registerVersion)("@firebase/app-compat","0.2.0",Ct)}()},9681:(_t,Fe,q)=>{q.r(Fe),q.d(Fe,{FirebaseError:()=>Ce.ZR,SDK_VERSION:()=>Bl,_DEFAULT_ENTRY_NAME:()=>zn,_addComponent:()=>Hn,_addOrOverwriteComponent:()=>Lr,_apps:()=>mn,_clearComponents:()=>Ts,_components:()=>Yt,_getProvider:()=>Qt,_registerComponent:()=>Vi,_removeServiceInstance:()=>pr,deleteApp:()=>sl,getApp:()=>lo,getApps:()=>is,initializeApp:()=>Ta,onLog:()=>zt,registerVersion:()=>ss,setLogLevel:()=>So});var c=q(5861),me=q(4859),G=q(1877),Ce=q(2090),de=q(8766);class Ee{constructor(Ve){this.container=Ve}getPlatformInfoString(){return this.container.getProviders().map(Tt=>{if(function Me(st){return"VERSION"===st.getComponent()?.type}(Tt)){const un=Tt.getImmediate();return`${un.library}/${un.version}`}return null}).filter(Tt=>Tt).join(" ")}}const Ie="@firebase/app",X=new G.Yd("@firebase/app"),zn="[DEFAULT]",bn={[Ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mn=new Map,Yt=new Map;function Hn(st,Ve){try{st.container.addComponent(Ve)}catch(Tt){X.debug(`Component ${Ve.name} failed to register with FirebaseApp ${st.name}`,Tt)}}function Lr(st,Ve){st.container.addOrOverwriteComponent(Ve)}function Vi(st){const Ve=st.name;if(Yt.has(Ve))return X.debug(`There were multiple attempts to register component ${Ve}.`),!1;Yt.set(Ve,st);for(const Tt of mn.values())Hn(Tt,st);return!0}function Qt(st,Ve){const Tt=st.container.getProvider("heartbeat").getImmediate({optional:!0});return Tt&&Tt.triggerHeartbeat(),st.container.getProvider(Ve)}function pr(st,Ve,Tt=zn){Qt(st,Ve).clearInstance(Tt)}function Ts(){Yt.clear()}const $i=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Hi{constructor(Ve,Tt,un){this._isDeleted=!1,this._options=Object.assign({},Ve),this._config=Object.assign({},Tt),this._name=Tt.name,this._automaticDataCollectionEnabled=Tt.automaticDataCollectionEnabled,this._container=un,this.container.addComponent(new me.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ve){this._isDeleted=Ve}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}const Bl="9.15.0";function Ta(st,Ve={}){let Tt=st;"object"!=typeof Ve&&(Ve={name:Ve});const un=Object.assign({name:zn,automaticDataCollectionEnabled:!1},Ve),en=un.name;if("string"!=typeof en||!en)throw $i.create("bad-app-name",{appName:String(en)});if(Tt||(Tt=(0,Ce.aH)()),!Tt)throw $i.create("no-options");const Kt=mn.get(en);if(Kt){if((0,Ce.vZ)(Tt,Kt.options)&&(0,Ce.vZ)(un,Kt.config))return Kt;throw $i.create("duplicate-app",{appName:en})}const ne=new me.H0(en);for(const se of Yt.values())ne.addComponent(se);const J=new Hi(Tt,un,ne);return mn.set(en,J),J}function lo(st=zn){const Ve=mn.get(st);if(!Ve&&st===zn)return Ta();if(!Ve)throw $i.create("no-app",{appName:st});return Ve}function is(){return Array.from(mn.values())}function sl(st){return sr.apply(this,arguments)}function sr(){return(sr=(0,c.Z)(function*(st){const Ve=st.name;mn.has(Ve)&&(mn.delete(Ve),yield Promise.all(st.container.getProviders().map(Tt=>Tt.delete())),st.isDeleted=!0)})).apply(this,arguments)}function ss(st,Ve,Tt){var un;let en=null!==(un=bn[st])&&void 0!==un?un:st;Tt&&(en+=`-${Tt}`);const Kt=en.match(/\s|\//),ne=Ve.match(/\s|\//);if(Kt||ne){const J=[`Unable to register library "${en}" with version "${Ve}":`];return Kt&&J.push(`library name "${en}" contains illegal characters (whitespace or "/")`),Kt&&ne&&J.push("and"),ne&&J.push(`version name "${Ve}" contains illegal characters (whitespace or "/")`),void X.warn(J.join(" "))}Vi(new me.wA(`${en}-version`,()=>({library:en,version:Ve}),"VERSION"))}function zt(st,Ve){if(null!==st&&"function"!=typeof st)throw $i.create("invalid-log-argument");(0,G.Am)(st,Ve)}function So(st){(0,G.Ub)(st)}const ji="firebase-heartbeat-store";let Ia=null;function Pt(){return Ia||(Ia=(0,de.X3)("firebase-heartbeat-database",1,{upgrade:(st,Ve)=>{0===Ve&&st.createObjectStore(ji)}}).catch(st=>{throw $i.create("idb-open",{originalErrorMessage:st.message})})),Ia}function an(){return(an=(0,c.Z)(function*(st){try{return(yield Pt()).transaction(ji).objectStore(ji).get(Qn(st))}catch(Ve){if(Ve instanceof Ce.ZR)X.warn(Ve.message);else{const Tt=$i.create("idb-get",{originalErrorMessage:Ve?.message});X.warn(Tt.message)}}})).apply(this,arguments)}function To(st,Ve){return _r.apply(this,arguments)}function _r(){return(_r=(0,c.Z)(function*(st,Ve){try{const un=(yield Pt()).transaction(ji,"readwrite");return yield un.objectStore(ji).put(Ve,Qn(st)),un.done}catch(Tt){if(Tt instanceof Ce.ZR)X.warn(Tt.message);else{const un=$i.create("idb-set",{originalErrorMessage:Tt?.message});X.warn(un.message)}}})).apply(this,arguments)}function Qn(st){return`${st.name}!${st.options.appId}`}class Pu{constructor(Ve){this.container=Ve,this._heartbeatsCache=null;const Tt=this.container.getProvider("app").getImmediate();this._storage=new Cn(Tt),this._heartbeatsCachePromise=this._storage.read().then(un=>(this._heartbeatsCache=un,un))}triggerHeartbeat(){var Ve=this;return(0,c.Z)(function*(){const un=Ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),en=Wn();if(null===Ve._heartbeatsCache&&(Ve._heartbeatsCache=yield Ve._heartbeatsCachePromise),Ve._heartbeatsCache.lastSentHeartbeatDate!==en&&!Ve._heartbeatsCache.heartbeats.some(Kt=>Kt.date===en))return Ve._heartbeatsCache.heartbeats.push({date:en,agent:un}),Ve._heartbeatsCache.heartbeats=Ve._heartbeatsCache.heartbeats.filter(Kt=>{const ne=new Date(Kt.date).valueOf();return Date.now()-ne<=2592e6}),Ve._storage.overwrite(Ve._heartbeatsCache)})()}getHeartbeatsHeader(){var Ve=this;return(0,c.Z)(function*(){if(null===Ve._heartbeatsCache&&(yield Ve._heartbeatsCachePromise),null===Ve._heartbeatsCache||0===Ve._heartbeatsCache.heartbeats.length)return"";const Tt=Wn(),{heartbeatsToSend:un,unsentEntries:en}=function Jo(st,Ve=1024){const Tt=[];let un=st.slice();for(const en of st){const Kt=Tt.find(ne=>ne.agent===en.agent);if(Kt){if(Kt.dates.push(en.date),Wr(Tt)>Ve){Kt.dates.pop();break}}else if(Tt.push({agent:en.agent,dates:[en.date]}),Wr(Tt)>Ve){Tt.pop();break}un=un.slice(1)}return{heartbeatsToSend:Tt,unsentEntries:un}}(Ve._heartbeatsCache.heartbeats),Kt=(0,Ce.L)(JSON.stringify({version:2,heartbeats:un}));return Ve._heartbeatsCache.lastSentHeartbeatDate=Tt,en.length>0?(Ve._heartbeatsCache.heartbeats=en,yield Ve._storage.overwrite(Ve._heartbeatsCache)):(Ve._heartbeatsCache.heartbeats=[],Ve._storage.overwrite(Ve._heartbeatsCache)),Kt})()}}function Wn(){return(new Date).toISOString().substring(0,10)}class Cn{constructor(Ve){this.app=Ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,Ce.hl)()&&(0,Ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ve=this;return(0,c.Z)(function*(){return(yield Ve._canUseIndexedDBPromise)&&(yield function Wt(st){return an.apply(this,arguments)}(Ve.app))||{heartbeats:[]}})()}overwrite(Ve){var Tt=this;return(0,c.Z)(function*(){var un;if(yield Tt._canUseIndexedDBPromise){const Kt=yield Tt.read();return To(Tt.app,{lastSentHeartbeatDate:null!==(un=Ve.lastSentHeartbeatDate)&&void 0!==un?un:Kt.lastSentHeartbeatDate,heartbeats:Ve.heartbeats})}})()}add(Ve){var Tt=this;return(0,c.Z)(function*(){var un;if(yield Tt._canUseIndexedDBPromise){const Kt=yield Tt.read();return To(Tt.app,{lastSentHeartbeatDate:null!==(un=Ve.lastSentHeartbeatDate)&&void 0!==un?un:Kt.lastSentHeartbeatDate,heartbeats:[...Kt.heartbeats,...Ve.heartbeats]})}})()}}function Wr(st){return(0,Ce.L)(JSON.stringify({version:2,heartbeats:st})).length}!function An(st){Vi(new me.wA("platform-logger",Ve=>new Ee(Ve),"PRIVATE")),Vi(new me.wA("heartbeat",Ve=>new Pu(Ve),"PRIVATE")),ss(Ie,"0.9.0",st),ss(Ie,"0.9.0","esm2017"),ss("fire-js","")}("")},4859:(_t,Fe,q)=>{q.d(Fe,{H0:()=>Ie,wA:()=>G});var c=q(5861),me=q(2090);class G{constructor(X,te,ce){this.name=X,this.instanceFactory=te,this.type=ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const Ce="[DEFAULT]";class de{constructor(X,te){this.name=X,this.container=te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const te=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(te)){const ce=new me.BH;if(this.instancesDeferred.set(te,ce),this.isInitialized(te)||this.shouldAutoInitialize())try{const ot=this.getOrInitializeService({instanceIdentifier:te});ot&&ce.resolve(ot)}catch{}}return this.instancesDeferred.get(te).promise}getImmediate(X){var te;const ce=this.normalizeInstanceIdentifier(X?.identifier),ot=null!==(te=X?.optional)&&void 0!==te&&te;if(!this.isInitialized(ce)&&!this.shouldAutoInitialize()){if(ot)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ce})}catch(ze){if(ot)return null;throw ze}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function Me(Ae){return"EAGER"===Ae.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch{}for(const[te,ce]of this.instancesDeferred.entries()){const ot=this.normalizeInstanceIdentifier(te);try{const ze=this.getOrInitializeService({instanceIdentifier:ot});ce.resolve(ze)}catch{}}}}clearInstance(X=Ce){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,c.Z)(function*(){const te=Array.from(X.instances.values());yield Promise.all([...te.filter(ce=>"INTERNAL"in ce).map(ce=>ce.INTERNAL.delete()),...te.filter(ce=>"_delete"in ce).map(ce=>ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=Ce){return this.instances.has(X)}getOptions(X=Ce){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:te={}}=X,ce=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(ce))throw Error(`${this.name}(${ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ot=this.getOrInitializeService({instanceIdentifier:ce,options:te});for(const[ze,Xe]of this.instancesDeferred.entries())ce===this.normalizeInstanceIdentifier(ze)&&Xe.resolve(ot);return ot}onInit(X,te){var ce;const ot=this.normalizeInstanceIdentifier(te),ze=null!==(ce=this.onInitCallbacks.get(ot))&&void 0!==ce?ce:new Set;ze.add(X),this.onInitCallbacks.set(ot,ze);const Xe=this.instances.get(ot);return Xe&&X(Xe,ot),()=>{ze.delete(X)}}invokeOnInitCallbacks(X,te){const ce=this.onInitCallbacks.get(te);if(ce)for(const ot of ce)try{ot(X,te)}catch{}}getOrInitializeService({instanceIdentifier:X,options:te={}}){let ce=this.instances.get(X);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:(Ae=X,Ae===Ce?void 0:Ae),options:te}),this.instances.set(X,ce),this.instancesOptions.set(X,te),this.invokeOnInitCallbacks(ce,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,ce)}catch{}var Ae;return ce||null}normalizeInstanceIdentifier(X=Ce){return this.component?this.component.multipleInstances?X:Ce:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ie{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const te=this.getProvider(X.name);if(te.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);te.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const te=new de(X,this);return this.providers.set(X,te),te}getProviders(){return Array.from(this.providers.values())}}},1877:(_t,Fe,q)=>{q.d(Fe,{Am:()=>Ae,Ub:()=>Ie,Yd:()=>Me,in:()=>me});const c=[];var me=(()=>{return(X=me||(me={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",me;var X})();const G={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},Ce=me.INFO,de={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},Ee=(X,te,...ce)=>{if(te<X.logLevel)return;const ot=(new Date).toISOString(),ze=de[te];if(!ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${te})`);console[ze](`[${ot}]  ${X.name}:`,...ce)};class Me{constructor(te){this.name=te,this._logLevel=Ce,this._logHandler=Ee,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(te){if(!(te in me))throw new TypeError(`Invalid value "${te}" assigned to \`logLevel\``);this._logLevel=te}setLogLevel(te){this._logLevel="string"==typeof te?G[te]:te}get logHandler(){return this._logHandler}set logHandler(te){if("function"!=typeof te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=te}get userLogHandler(){return this._userLogHandler}set userLogHandler(te){this._userLogHandler=te}debug(...te){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...te),this._logHandler(this,me.DEBUG,...te)}log(...te){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...te),this._logHandler(this,me.VERBOSE,...te)}info(...te){this._userLogHandler&&this._userLogHandler(this,me.INFO,...te),this._logHandler(this,me.INFO,...te)}warn(...te){this._userLogHandler&&this._userLogHandler(this,me.WARN,...te),this._logHandler(this,me.WARN,...te)}error(...te){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...te),this._logHandler(this,me.ERROR,...te)}}function Ie(X){c.forEach(te=>{te.setLogLevel(X)})}function Ae(X,te){for(const ce of c){let ot=null;te&&te.level&&(ot=G[te.level]),ce.userLogHandler=null===X?null:(ze,Xe,...Ct)=>{const xe=Ct.map(je=>{if(null==je)return null;if("string"==typeof je)return je;if("number"==typeof je||"boolean"==typeof je)return je.toString();if(je instanceof Error)return je.message;try{return JSON.stringify(je)}catch{return null}}).filter(je=>je).join(" ");Xe>=(ot??ze.logLevel)&&X({level:me[Xe].toLowerCase(),message:xe,args:Ct,type:ze.name})}}}},259:(_t,Fe,q)=>{q.d(Fe,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=q(9681);(0,c.registerVersion)("firebase","9.15.0","app")},9260:(_t,Fe,q)=>{q.d(Fe,{Z:()=>c.Z});var c=q(3942);c.Z.registerVersion("firebase","9.15.0","app-compat")},9169:(_t,Fe,q)=>{q.r(Fe);var c=q(5861),me=q(3942),G=q(2090),Ce=q(9681),de=q(1877),Ee=q(655),Me=q(4859);const Xe=function ot(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ct=function ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xe=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ge=new de.Yd("@firebase/auth");function Oe(D,...v){Ge.logLevel<=de.in.ERROR&&Ge.error(`Auth (${Ce.SDK_VERSION}): ${D}`,...v)}function Ue(D,...v){throw et(D,...v)}function $e(D,...v){return et(D,...v)}function Ze(D,v,E){const I=Object.assign(Object.assign({},Ct()),{[v]:E});return new G.LL("auth","Firebase",I).create(v,{appName:D.name})}function ut(D,v,E){if(!(v instanceof E))throw E.name!==v.constructor.name&&Ue(D,"argument-error"),Ze(D,"argument-error",`Type of ${v.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function et(D,...v){if("string"!=typeof D){const E=v[0],I=[...v.slice(1)];return I[0]&&(I[0].appName=D.name),D._errorFactory.create(E,...I)}return xe.create(D,...v)}function ee(D,v,...E){if(!D)throw et(v,...E)}function Be(D){const v="INTERNAL ASSERTION FAILED: "+D;throw Oe(v),new Error(v)}function ie(D,v){D||Be(v)}const fe=new Map;function De(D){ie(D instanceof Function,"Expected a class definition");let v=fe.get(D);return v?(ie(v instanceof D,"Instance stored in cache mismatched with class"),v):(v=new D,fe.set(D,v),v)}function tt(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function Gt(){return"http:"===Fn()||"https:"===Fn()}function Fn(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class mn{constructor(v,E){this.shortDelay=v,this.longDelay=E,ie(E>v,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function zn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Gt()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yt(D,v){ie(D.emulator,"Emulator should always be set here");const{url:E}=D.emulator;return v?`${E}${v.startsWith("/")?v.slice(1):v}`:E}class Hn{static initialize(v,E,I){this.fetchImpl=v,E&&(this.headersImpl=E),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Vi=new mn(3e4,6e4);function Qt(D,v){return D.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:D.tenantId}):v}function pr(D,v,E,I){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,c.Z)(function*(D,v,E,I,F={}){return Ui(D,F,(0,c.Z)(function*(){let H={},ae={};I&&("GET"===v?ae=I:H={body:JSON.stringify(I)});const Ne=(0,G.xO)(Object.assign({key:D.config.apiKey},ae)).slice(1),ct=yield D._getAdditionalHeaders();return ct["Content-Type"]="application/json",D.languageCode&&(ct["X-Firebase-Locale"]=D.languageCode),Hn.fetch()(Ta(D,D.config.apiHost,E,Ne),Object.assign({method:v,headers:ct,referrerPolicy:"no-referrer"},H))}))})).apply(this,arguments)}function Ui(D,v,E){return $i.apply(this,arguments)}function $i(){return($i=(0,c.Z)(function*(D,v,E){D._canInitEmulator=!1;const I=Object.assign(Object.assign({},Lr),v);try{const F=new lo(D),H=yield Promise.race([E(),F.promise]);F.clearNetworkTimeout();const ae=yield H.json();if("needConfirmation"in ae)throw is(D,"account-exists-with-different-credential",ae);if(H.ok&&!("errorMessage"in ae))return ae;{const Ne=H.ok?ae.errorMessage:ae.error.message,[ct,It]=Ne.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ct)throw is(D,"credential-already-in-use",ae);if("EMAIL_EXISTS"===ct)throw is(D,"email-already-in-use",ae);if("USER_DISABLED"===ct)throw is(D,"user-disabled",ae);const dn=I[ct]||ct.toLowerCase().replace(/[_\s]+/g,"-");if(It)throw Ze(D,dn,It);Ue(D,dn)}}catch(F){if(F instanceof G.ZR)throw F;Ue(D,"network-request-failed")}})).apply(this,arguments)}function Hi(D,v,E,I){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,c.Z)(function*(D,v,E,I,F={}){const H=yield pr(D,v,E,I,F);return"mfaPendingCredential"in H&&Ue(D,"multi-factor-auth-required",{_serverResponse:H}),H})).apply(this,arguments)}function Ta(D,v,E,I){const F=`${v}${E}?${I}`;return D.config.emulator?Yt(D.config,F):`${D.config.apiScheme}://${F}`}class lo{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((E,I)=>{this.timer=setTimeout(()=>I($e(this.auth,"network-request-failed")),Vi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function is(D,v,E){const I={appName:D.name};E.email&&(I.email=E.email),E.phoneNumber&&(I.phoneNumber=E.phoneNumber);const F=$e(D,v,I);return F.customData._tokenResponse=E,F}function sr(){return(sr=(0,c.Z)(function*(D,v){return pr(D,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function ss(D,v){return zt.apply(this,arguments)}function zt(){return(zt=(0,c.Z)(function*(D,v){return pr(D,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function So(D,v){return dr.apply(this,arguments)}function dr(){return(dr=(0,c.Z)(function*(D,v){return pr(D,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function Nn(D){if(D)try{const v=new Date(Number(D));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function Pt(){return(Pt=(0,c.Z)(function*(D,v=!1){const E=(0,G.m9)(D),I=yield E.getIdToken(v),F=an(I);ee(F&&F.exp&&F.auth_time&&F.iat,E.auth,"internal-error");const H="object"==typeof F.firebase?F.firebase:void 0,ae=H?.sign_in_provider;return{claims:F,token:I,authTime:Nn(Wt(F.auth_time)),issuedAtTime:Nn(Wt(F.iat)),expirationTime:Nn(Wt(F.exp)),signInProvider:ae||null,signInSecondFactor:H?.sign_in_second_factor||null}})).apply(this,arguments)}function Wt(D){return 1e3*Number(D)}function an(D){const[v,E,I]=D.split(".");if(void 0===v||void 0===E||void 0===I)return Oe("JWT malformed, contained fewer than 3 sections"),null;try{const F=(0,G.tV)(E);return F?JSON.parse(F):(Oe("Failed to decode base64 JWT payload"),null)}catch(F){return Oe("Caught error parsing JWT payload as JSON",F?.toString()),null}}function _r(D,v){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,c.Z)(function*(D,v,E=!1){if(E)return v;try{return yield v}catch(I){throw I instanceof G.ZR&&uo(I)&&D.auth.currentUser===D&&(yield D.auth.signOut()),I}})).apply(this,arguments)}function uo({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class Gi{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var E;if(v){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const F=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,F)}}schedule(v=!1){var E=this;if(!this.isRunning)return;const I=this.getInterval(v);this.timerId=setTimeout((0,c.Z)(function*(){yield E.iteration()}),I)}iteration(){var v=this;return(0,c.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===E?.code&&v.schedule(!0))}v.schedule()})()}}class Pu{constructor(v,E){this.createdAt=v,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nn(this.lastLoginAt),this.creationTime=Nn(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Wn(D){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,c.Z)(function*(D){var v;const E=D.auth,I=yield D.getIdToken(),F=yield _r(D,So(E,{idToken:I}));ee(F?.users.length,E,"internal-error");const H=F.users[0];D._notifyReloadListener(H);const ae=null!==(v=H.providerUserInfo)&&void 0!==v&&v.length?st(H.providerUserInfo):[],Ne=An(D.providerData,ae),dn=!!D.isAnonymous&&!(D.email&&H.passwordHash||Ne?.length),qt={uid:H.localId,displayName:H.displayName||null,photoURL:H.photoUrl||null,email:H.email||null,emailVerified:H.emailVerified||!1,phoneNumber:H.phoneNumber||null,tenantId:H.tenantId||null,providerData:Ne,metadata:new Pu(H.createdAt,H.lastLoginAt),isAnonymous:dn};Object.assign(D,qt)})).apply(this,arguments)}function Wr(){return(Wr=(0,c.Z)(function*(D){const v=(0,G.m9)(D);yield Wn(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function An(D,v){return[...D.filter(I=>!v.some(F=>F.providerId===I.providerId)),...v]}function st(D){return D.map(v=>{var{providerId:E}=v,I=(0,Ee._T)(v,["providerId"]);return{providerId:E,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function Tt(){return(Tt=(0,c.Z)(function*(D,v){const E=yield Ui(D,{},(0,c.Z)(function*(){const I=(0,G.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:F,apiKey:H}=D.config,ae=Ta(D,F,"/v1/token",`key=${H}`),Ne=yield D._getAdditionalHeaders();return Ne["Content-Type"]="application/x-www-form-urlencoded",Hn.fetch()(ae,{method:"POST",headers:Ne,body:I})}));return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class un{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){ee(v.idToken,"internal-error"),ee(typeof v.idToken<"u","internal-error"),ee(typeof v.refreshToken<"u","internal-error");const E="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):function To(D){const v=an(D);return ee(v,"internal-error"),ee(typeof v.exp<"u","internal-error"),ee(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,E)}getToken(v,E=!1){var I=this;return(0,c.Z)(function*(){return ee(!I.accessToken||I.refreshToken,v,"user-token-expired"),E||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(v,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,E){var I=this;return(0,c.Z)(function*(){const{accessToken:F,refreshToken:H,expiresIn:ae}=yield function Ve(D,v){return Tt.apply(this,arguments)}(v,E);I.updateTokensAndExpiration(F,H,Number(ae))})()}updateTokensAndExpiration(v,E,I){this.refreshToken=E||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(v,E){const{refreshToken:I,accessToken:F,expirationTime:H}=E,ae=new un;return I&&(ee("string"==typeof I,"internal-error",{appName:v}),ae.refreshToken=I),F&&(ee("string"==typeof F,"internal-error",{appName:v}),ae.accessToken=F),H&&(ee("number"==typeof H,"internal-error",{appName:v}),ae.expirationTime=H),ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new un,this.toJSON())}_performRefresh(){return Be("not implemented")}}function en(D,v){ee("string"==typeof D||typeof D>"u","internal-error",{appName:v})}class Kt{constructor(v){var{uid:E,auth:I,stsTokenManager:F}=v,H=(0,Ee._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=I,this.stsTokenManager=F,this.accessToken=F.accessToken,this.displayName=H.displayName||null,this.email=H.email||null,this.emailVerified=H.emailVerified||!1,this.phoneNumber=H.phoneNumber||null,this.photoURL=H.photoURL||null,this.isAnonymous=H.isAnonymous||!1,this.tenantId=H.tenantId||null,this.providerData=H.providerData?[...H.providerData]:[],this.metadata=new Pu(H.createdAt||void 0,H.lastLoginAt||void 0)}getIdToken(v){var E=this;return(0,c.Z)(function*(){const I=yield _r(E,E.stsTokenManager.getToken(E.auth,v));return ee(I,E.auth,"internal-error"),E.accessToken!==I&&(E.accessToken=I,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),I})()}getIdTokenResult(v){return function Ia(D){return Pt.apply(this,arguments)}(this,v)}reload(){return function Cn(D){return Wr.apply(this,arguments)}(this)}_assign(v){this!==v&&(ee(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(E=>Object.assign({},E)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){return new Kt(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(v){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,E=!1){var I=this;return(0,c.Z)(function*(){let F=!1;v.idToken&&v.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(v),F=!0),E&&(yield Wn(I)),yield I.auth._persistUserIfCurrent(I),F&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var v=this;return(0,c.Z)(function*(){const E=yield v.getIdToken();return yield _r(v,function sl(D,v){return sr.apply(this,arguments)}(v.auth,{idToken:E})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,E){var I,F,H,ae,Ne,ct,It,dn;const qt=null!==(I=E.displayName)&&void 0!==I?I:void 0,ui=null!==(F=E.email)&&void 0!==F?F:void 0,Qs=null!==(H=E.phoneNumber)&&void 0!==H?H:void 0,Ff=null!==(ae=E.photoURL)&&void 0!==ae?ae:void 0,Nm=null!==(Ne=E.tenantId)&&void 0!==Ne?Ne:void 0,gd=null!==(ct=E._redirectEventId)&&void 0!==ct?ct:void 0,Ho=null!==(It=E.createdAt)&&void 0!==It?It:void 0,mu=null!==(dn=E.lastLoginAt)&&void 0!==dn?dn:void 0,{uid:md,emailVerified:Yp,isAnonymous:Lf,providerData:Jp,stsTokenManager:Dc}=E;ee(md&&Dc,v,"internal-error");const cy=un.fromJSON(this.name,Dc);ee("string"==typeof md,v,"internal-error"),en(qt,v.name),en(ui,v.name),ee("boolean"==typeof Yp,v,"internal-error"),ee("boolean"==typeof Lf,v,"internal-error"),en(Qs,v.name),en(Ff,v.name),en(Nm,v.name),en(gd,v.name),en(Ho,v.name),en(mu,v.name);const _d=new Kt({uid:md,auth:v,email:ui,emailVerified:Yp,displayName:qt,isAnonymous:Lf,photoURL:Ff,phoneNumber:Qs,tenantId:Nm,stsTokenManager:cy,createdAt:Ho,lastLoginAt:mu});return Jp&&Array.isArray(Jp)&&(_d.providerData=Jp.map(Qp=>Object.assign({},Qp))),gd&&(_d._redirectEventId=gd),_d}static _fromIdTokenResponse(v,E,I=!1){return(0,c.Z)(function*(){const F=new un;F.updateFromServerResponse(E);const H=new Kt({uid:E.localId,auth:v,stsTokenManager:F,isAnonymous:I});return yield Wn(H),H})()}}const J=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(E,I){var F=this;return(0,c.Z)(function*(){F.storage[E]=I})()}_get(E){var I=this;return(0,c.Z)(function*(){const F=I.storage[E];return void 0===F?null:F})()}_remove(E){var I=this;return(0,c.Z)(function*(){delete I.storage[E]})()}_addListener(E,I){}_removeListener(E,I){}}return D.type="NONE",D})();function se(D,v,E){return`firebase:${D}:${v}:${E}`}class Re{constructor(v,E,I){this.persistence=v,this.auth=E,this.userKey=I;const{config:F,name:H}=this.auth;this.fullUserKey=se(this.userKey,F.apiKey,H),this.fullPersistenceKey=se("persistence",F.apiKey,H),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,c.Z)(function*(){const E=yield v.persistence._get(v.fullUserKey);return E?Kt._fromJSON(v.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var E=this;return(0,c.Z)(function*(){if(E.persistence===v)return;const I=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=v,I?E.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,E,I="authUser"){return(0,c.Z)(function*(){if(!E.length)return new Re(De(J),v,I);const F=(yield Promise.all(E.map(function(){var It=(0,c.Z)(function*(dn){if(yield dn._isAvailable())return dn});return function(dn){return It.apply(this,arguments)}}()))).filter(It=>It);let H=F[0]||De(J);const ae=se(I,v.config.apiKey,v.name);let Ne=null;for(const It of E)try{const dn=yield It._get(ae);if(dn){const qt=Kt._fromJSON(v,dn);It!==H&&(Ne=qt),H=It;break}}catch{}const ct=F.filter(It=>It._shouldAllowMigration);return H._shouldAllowMigration&&ct.length?(H=ct[0],Ne&&(yield H._set(ae,Ne.toJSON())),yield Promise.all(E.map(function(){var It=(0,c.Z)(function*(dn){if(dn!==H)try{yield dn._remove(ae)}catch{}});return function(dn){return It.apply(this,arguments)}}())),new Re(H,v,I)):new Re(H,v,I)})()}}function ye(D){const v=D.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(yr(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(bt(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(Kn(v))return"Blackberry";if(Rt(v))return"Webos";if(tn(v))return"Safari";if((v.includes("chrome/")||Pe(v))&&!v.includes("edge/"))return"Chrome";if(Xt(v))return"Android";{const I=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function bt(D=(0,G.z$)()){return/firefox\//i.test(D)}function tn(D=(0,G.z$)()){const v=D.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function Pe(D=(0,G.z$)()){return/crios\//i.test(D)}function yr(D=(0,G.z$)()){return/iemobile/i.test(D)}function Xt(D=(0,G.z$)()){return/android/i.test(D)}function Kn(D=(0,G.z$)()){return/blackberry/i.test(D)}function Rt(D=(0,G.z$)()){return/webos/i.test(D)}function vr(D=(0,G.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function Gc(D=(0,G.z$)()){return vr(D)||Xt(D)||Rt(D)||Kn(D)||/windows phone/i.test(D)||yr(D)}function Ao(D,v=[]){let E;switch(D){case"Browser":E=ye((0,G.z$)());break;case"Worker":E=`${ye((0,G.z$)())}-${D}`;break;default:E=D}const I=v.length?v.join(","):"FirebaseCore-web";return`${E}/JsCore/${Ce.SDK_VERSION}/${I}`}class Vl{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,E){const I=H=>new Promise((ae,Ne)=>{try{ae(v(H))}catch(ct){Ne(ct)}});I.onAbort=E,this.queue.push(I);const F=this.queue.length-1;return()=>{this.queue[F]=()=>Promise.resolve()}}runMiddleware(v){var E=this;return(0,c.Z)(function*(){if(E.auth.currentUser===v)return;const I=[];try{for(const F of E.queue)yield F(v),F.onAbort&&I.push(F.onAbort)}catch(F){I.reverse();for(const H of I)try{H()}catch{}throw E.auth._errorFactory.create("login-blocked",{originalMessage:F?.message})}})()}}class ol{constructor(v,E,I){this.app=v,this.heartbeatServiceProvider=E,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qc(this),this.idTokenSubscription=new qc(this),this.beforeStateQueue=new Vl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(v,E){var I=this;return E&&(this._popupRedirectResolver=De(E)),this._initializationPromise=this.queue((0,c.Z)(function*(){var F,H;if(!I._deleted&&(I.persistenceManager=yield Re.create(I,v),!I._deleted)){if(null!==(F=I._popupRedirectResolver)&&void 0!==F&&F._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(E),I.lastNotifiedUid=(null===(H=I.currentUser)||void 0===H?void 0:H.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,c.Z)(function*(){if(v._deleted)return;const E=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||E){if(v.currentUser&&E&&v.currentUser.uid===E.uid)return v._currentUser._assign(E),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(E,!0)}})()}initializeCurrentUser(v){var E=this;return(0,c.Z)(function*(){var I;const F=yield E.assertedPersistence.getCurrentUser();let H=F,ae=!1;if(v&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const Ne=null===(I=E.redirectUser)||void 0===I?void 0:I._redirectEventId,ct=H?._redirectEventId,It=yield E.tryRedirectSignIn(v);(!Ne||Ne===ct)&&It?.user&&(H=It.user,ae=!0)}if(!H)return E.directlySetCurrentUser(null);if(!H._redirectEventId){if(ae)try{yield E.beforeStateQueue.runMiddleware(H)}catch(Ne){H=F,E._popupRedirectResolver._overrideRedirectResult(E,()=>Promise.reject(Ne))}return H?E.reloadAndSetCurrentUserOrClear(H):E.directlySetCurrentUser(null)}return ee(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===H._redirectEventId?E.directlySetCurrentUser(H):E.reloadAndSetCurrentUserOrClear(H)})()}tryRedirectSignIn(v){var E=this;return(0,c.Z)(function*(){let I=null;try{I=yield E._popupRedirectResolver._completeRedirectFn(E,v,!0)}catch{yield E._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(v){var E=this;return(0,c.Z)(function*(){try{yield Wn(v)}catch(I){if("auth/network-request-failed"!==I?.code)return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function bn(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var v=this;return(0,c.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var E=this;return(0,c.Z)(function*(){const I=v?(0,G.m9)(v):null;return I&&ee(I.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(I&&I._clone(E))})()}_updateCurrentUser(v,E=!1){var I=this;return(0,c.Z)(function*(){if(!I._deleted)return v&&ee(I.tenantId===v.tenantId,I,"tenant-id-mismatch"),E||(yield I.beforeStateQueue.runMiddleware(v)),I.queue((0,c.Z)(function*(){yield I.directlySetCurrentUser(v),I.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,c.Z)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var E=this;return this.queue((0,c.Z)(function*(){yield E.assertedPersistence.setPersistence(De(v))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new G.LL("auth","Firebase",v())}onAuthStateChanged(v,E,I){return this.registerStateListener(this.authStateSubscription,v,E,I)}beforeAuthStateChanged(v,E){return this.beforeStateQueue.pushCallback(v,E)}onIdTokenChanged(v,E,I){return this.registerStateListener(this.idTokenSubscription,v,E,I)}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,E){var I=this;return(0,c.Z)(function*(){const F=yield I.getOrInitRedirectPersistenceManager(E);return null===v?F.removeCurrentUser():F.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var E=this;return(0,c.Z)(function*(){if(!E.redirectPersistenceManager){const I=v&&De(v)||E._popupRedirectResolver;ee(I,E,"argument-error"),E.redirectPersistenceManager=yield Re.create(E,[De(I._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(v){var E=this;return(0,c.Z)(function*(){var I,F;return E._isInitialized&&(yield E.queue((0,c.Z)(function*(){}))),(null===(I=E._currentUser)||void 0===I?void 0:I._redirectEventId)===v?E._currentUser:(null===(F=E.redirectUser)||void 0===F?void 0:F._redirectEventId)===v?E.redirectUser:null})()}_persistUserIfCurrent(v){var E=this;return(0,c.Z)(function*(){if(v===E.currentUser)return E.queue((0,c.Z)(function*(){return E.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(E=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,E,I,F){if(this._deleted)return()=>{};const H="function"==typeof E?E:E.next.bind(E),ae=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(ae,this,"internal-error"),ae.then(()=>H(this.currentUser)),"function"==typeof E?v.addObserver(E,I,F):v.addObserver(E)}directlySetCurrentUser(v){var E=this;return(0,c.Z)(function*(){E.currentUser&&E.currentUser!==v&&E._currentUser._stopProactiveRefresh(),v&&E.isProactiveRefreshEnabled&&v._startProactiveRefresh(),E.currentUser=v,v?yield E.assertedPersistence.setCurrentUser(v):yield E.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=Ao(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,c.Z)(function*(){var E;const I={"X-Client-Version":v.clientVersion};v.app.options.appId&&(I["X-Firebase-gmpid"]=v.app.options.appId);const F=yield null===(E=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getHeartbeatsHeader();return F&&(I["X-Firebase-Client"]=F),I})()}}function Ln(D){return(0,G.m9)(D)}class qc{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,G.ne)(E=>this.observer=E)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xo(D){const v=D.indexOf(":");return v<0?"":D.substr(0,v+1)}function Bn(D){if(!D)return null;const v=Number(D);return isNaN(v)?null:v}class Br{constructor(v,E){this.providerId=v,this.signInMethod=E}toJSON(){return Be("not implemented")}_getIdTokenResponse(v){return Be("not implemented")}_linkToIdToken(v,E){return Be("not implemented")}_getReauthenticationResolver(v){return Be("not implemented")}}function Vr(D,v){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,c.Z)(function*(D,v){return pr(D,"POST","/v1/accounts:resetPassword",Qt(D,v))})).apply(this,arguments)}function co(D,v){return wt.apply(this,arguments)}function wt(){return(wt=(0,c.Z)(function*(D,v){return pr(D,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function _n(D,v){return or.apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(D,v){return pr(D,"POST","/v1/accounts:update",Qt(D,v))})).apply(this,arguments)}function Nr(){return(Nr=(0,c.Z)(function*(D,v){return Hi(D,"POST","/v1/accounts:signInWithPassword",Qt(D,v))})).apply(this,arguments)}function br(D,v){return Is.apply(this,arguments)}function Is(){return(Is=(0,c.Z)(function*(D,v){return pr(D,"POST","/v1/accounts:sendOobCode",Qt(D,v))})).apply(this,arguments)}function sn(D,v){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,c.Z)(function*(D,v){return br(D,v)})).apply(this,arguments)}function ho(D,v){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,c.Z)(function*(D,v){return br(D,v)})).apply(this,arguments)}function Na(D,v){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,c.Z)(function*(D,v){return br(D,v)})).apply(this,arguments)}function Ul(D,v){return qs.apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(D,v){return br(D,v)})).apply(this,arguments)}function ea(){return(ea=(0,c.Z)(function*(D,v){return Hi(D,"POST","/v1/accounts:signInWithEmailLink",Qt(D,v))})).apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(D,v){return Hi(D,"POST","/v1/accounts:signInWithEmailLink",Qt(D,v))})).apply(this,arguments)}class jn extends Br{constructor(v,E,I,F=null){super("password",I),this._email=v,this._password=E,this._tenantId=F}static _fromEmailAndPassword(v,E){return new jn(v,E,"password")}static _fromEmailAndCode(v,E,I=null){return new jn(v,E,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const E="string"==typeof v?JSON.parse(v):v;if(E?.email&&E?.password){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(v){var E=this;return(0,c.Z)(function*(){switch(E.signInMethod){case"password":return function gi(D,v){return Nr.apply(this,arguments)}(v,{returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Ur(D,v){return ea.apply(this,arguments)}(v,{email:E._email,oobCode:E._password});default:Ue(v,"internal-error")}})()}_linkToIdToken(v,E){var I=this;return(0,c.Z)(function*(){switch(I.signInMethod){case"password":return co(v,{idToken:E,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function ta(D,v){return gr.apply(this,arguments)}(v,{idToken:E,email:I._email,oobCode:I._password});default:Ue(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function Dr(D,v){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,c.Z)(function*(D,v){return Hi(D,"POST","/v1/accounts:signInWithIdp",Qt(D,v))})).apply(this,arguments)}class $r extends Br{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(v){const E=new $r(v.providerId,v.signInMethod);return v.idToken||v.accessToken?(v.idToken&&(E.idToken=v.idToken),v.accessToken&&(E.accessToken=v.accessToken),v.nonce&&!v.pendingToken&&(E.nonce=v.nonce),v.pendingToken&&(E.pendingToken=v.pendingToken)):v.oauthToken&&v.oauthTokenSecret?(E.accessToken=v.oauthToken,E.secret=v.oauthTokenSecret):Ue("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(v){const E="string"==typeof v?JSON.parse(v):v,{providerId:I,signInMethod:F}=E,H=(0,Ee._T)(E,["providerId","signInMethod"]);if(!I||!F)return null;const ae=new $r(I,F);return ae.idToken=H.idToken||void 0,ae.accessToken=H.accessToken||void 0,ae.secret=H.secret,ae.nonce=H.nonce,ae.pendingToken=H.pendingToken||null,ae}_getIdTokenResponse(v){return Dr(v,this.buildRequest())}_linkToIdToken(v,E){const I=this.buildRequest();return I.idToken=E,Dr(v,I)}_getReauthenticationResolver(v){const E=this.buildRequest();return E.autoCreate=!1,Dr(v,E)}buildRequest(){const v={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)v.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),v.postBody=(0,G.xO)(E)}return v}}function Fu(D,v){return os.apply(this,arguments)}function os(){return(os=(0,c.Z)(function*(D,v){return pr(D,"POST","/v1/accounts:sendVerificationCode",Qt(D,v))})).apply(this,arguments)}function mi(){return(mi=(0,c.Z)(function*(D,v){return Hi(D,"POST","/v1/accounts:signInWithPhoneNumber",Qt(D,v))})).apply(this,arguments)}function pf(){return(pf=(0,c.Z)(function*(D,v){const E=yield Hi(D,"POST","/v1/accounts:signInWithPhoneNumber",Qt(D,v));if(E.temporaryProof)throw is(D,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const as={USER_NOT_FOUND:"user-not-found"};function dt(){return(dt=(0,c.Z)(function*(D,v){return Hi(D,"POST","/v1/accounts:signInWithPhoneNumber",Qt(D,Object.assign(Object.assign({},v),{operation:"REAUTH"})),as)})).apply(this,arguments)}class fo extends Br{constructor(v){super("phone","phone"),this.params=v}static _fromVerification(v,E){return new fo({verificationId:v,verificationCode:E})}static _fromTokenResponse(v,E){return new fo({phoneNumber:v,temporaryProof:E})}_getIdTokenResponse(v){return function ar(D,v){return mi.apply(this,arguments)}(v,this._makeVerificationRequest())}_linkToIdToken(v,E){return function Ii(D,v){return pf.apply(this,arguments)}(v,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(v){return function hn(D,v){return dt.apply(this,arguments)}(v,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:v,phoneNumber:E,verificationId:I,verificationCode:F}=this.params;return v&&E?{temporaryProof:v,phoneNumber:E}:{sessionInfo:I,code:F}}toJSON(){const v={providerId:this.providerId};return this.params.phoneNumber&&(v.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(v.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(v.verificationCode=this.params.verificationCode),this.params.verificationId&&(v.verificationId=this.params.verificationId),v}static fromJSON(v){"string"==typeof v&&(v=JSON.parse(v));const{verificationId:E,verificationCode:I,phoneNumber:F,temporaryProof:H}=v;return I||E||F||H?new fo({verificationId:E,verificationCode:I,phoneNumber:F,temporaryProof:H}):null}}class yn{constructor(v){var E,I,F,H,ae,Ne;const ct=(0,G.zd)((0,G.pd)(v)),It=null!==(E=ct.apiKey)&&void 0!==E?E:null,dn=null!==(I=ct.oobCode)&&void 0!==I?I:null,qt=function Yr(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(F=ct.mode)&&void 0!==F?F:null);ee(It&&dn&&qt,"argument-error"),this.apiKey=It,this.operation=qt,this.code=dn,this.continueUrl=null!==(H=ct.continueUrl)&&void 0!==H?H:null,this.languageCode=null!==(ae=ct.languageCode)&&void 0!==ae?ae:null,this.tenantId=null!==(Ne=ct.tenantId)&&void 0!==Ne?Ne:null}static parseLink(v){const E=function _i(D){const v=(0,G.zd)((0,G.pd)(D)).link,E=v?(0,G.zd)((0,G.pd)(v)).deep_link_id:null,I=(0,G.zd)((0,G.pd)(D)).deep_link_id;return(I?(0,G.zd)((0,G.pd)(I)).link:null)||I||E||v||D}(v);try{return new yn(E)}catch{return null}}}let Hd=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(E,I){return jn._fromEmailAndPassword(E,I)}static credentialWithLink(E,I){const F=yn.parseLink(I);return ee(F,"argument-error"),jn._fromEmailAndCode(E,F.code,F.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class No{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class Er extends No{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}class Ma extends Er{static credentialFromJSON(v){const E="string"==typeof v?JSON.parse(v):v;return ee("providerId"in E&&"signInMethod"in E,"argument-error"),$r._fromParams(E)}credential(v){return this._credential(Object.assign(Object.assign({},v),{nonce:v.rawNonce}))}_credential(v){return ee(v.idToken||v.accessToken,"argument-error"),$r._fromParams(Object.assign(Object.assign({},v),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(v){return Ma.oauthCredentialFromTaggedObject(v)}static credentialFromError(v){return Ma.oauthCredentialFromTaggedObject(v.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:E,oauthAccessToken:I,oauthTokenSecret:F,pendingToken:H,nonce:ae,providerId:Ne}=v;if(!I&&!F&&!E&&!H||!Ne)return null;try{return new Ma(Ne)._credential({idToken:E,accessToken:I,nonce:ae,pendingToken:H})}catch{return null}}}let Lu=(()=>{class D extends Er{constructor(){super("facebook.com")}static credential(E){return $r._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return D.credentialFromTaggedObject(E)}static credentialFromError(E){return D.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return D.credential(E.oauthAccessToken)}catch{return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),be=(()=>{class D extends Er{constructor(){super("google.com"),this.addScope("profile")}static credential(E,I){return $r._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:I})}static credentialFromResult(E){return D.credentialFromTaggedObject(E)}static credentialFromError(E){return D.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:I,oauthAccessToken:F}=E;if(!I&&!F)return null;try{return D.credential(I,F)}catch{return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),zc=(()=>{class D extends Er{constructor(){super("github.com")}static credential(E){return $r._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return D.credentialFromTaggedObject(E)}static credentialFromError(E){return D.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return D.credential(E.oauthAccessToken)}catch{return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class Bu extends Br{constructor(v,E){super(v,v),this.pendingToken=E}_getIdTokenResponse(v){return Dr(v,this.buildRequest())}_linkToIdToken(v,E){const I=this.buildRequest();return I.idToken=E,Dr(v,I)}_getReauthenticationResolver(v){const E=this.buildRequest();return E.autoCreate=!1,Dr(v,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(v){const E="string"==typeof v?JSON.parse(v):v,{providerId:I,signInMethod:F,pendingToken:H}=E;return I&&F&&H&&I===F?new Bu(I,H):null}static _create(v,E){return new Bu(v,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mo extends No{constructor(v){ee(v.startsWith("saml."),"argument-error"),super(v)}static credentialFromResult(v){return Mo.samlCredentialFromTaggedObject(v)}static credentialFromError(v){return Mo.samlCredentialFromTaggedObject(v.customData||{})}static credentialFromJSON(v){const E=Bu.fromJSON(v);return ee(E,"argument-error"),E}static samlCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{pendingToken:E,providerId:I}=v;if(!E||!I)return null;try{return Bu._create(I,E)}catch{return null}}}let gf=(()=>{class D extends Er{constructor(){super("twitter.com")}static credential(E,I){return $r._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:I})}static credentialFromResult(E){return D.credentialFromTaggedObject(E)}static credentialFromError(E){return D.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:I,oauthTokenSecret:F}=E;if(!I||!F)return null;try{return D.credential(I,F)}catch{return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function Zc(D,v){return jd.apply(this,arguments)}function jd(){return(jd=(0,c.Z)(function*(D,v){return Hi(D,"POST","/v1/accounts:signUp",Qt(D,v))})).apply(this,arguments)}class ls{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,E,I,F=!1){return(0,c.Z)(function*(){const H=yield Kt._fromIdTokenResponse(v,I,F),ae=$l(I);return new ls({user:H,providerId:ae,_tokenResponse:I,operationType:E})})()}static _forOperation(v,E,I){return(0,c.Z)(function*(){yield v._updateTokensIfNecessary(I,!0);const F=$l(I);return new ls({user:v,providerId:F,_tokenResponse:I,operationType:E})})()}}function $l(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function xp(){return(xp=(0,c.Z)(function*(D){var v;const E=Ln(D);if(yield E._initializationPromise,null!==(v=E.currentUser)&&void 0!==v&&v.isAnonymous)return new ls({user:E.currentUser,providerId:null,operationType:"signIn"});const I=yield Zc(E,{returnSecureToken:!0}),F=yield ls._fromIdTokenResponse(E,"signIn",I,!0);return yield E._updateCurrentUser(F.user),F})).apply(this,arguments)}class Jr extends G.ZR{constructor(v,E,I,F){var H;super(E.code,E.message),this.operationType=I,this.user=F,Object.setPrototypeOf(this,Jr.prototype),this.customData={appName:v.name,tenantId:null!==(H=v.tenantId)&&void 0!==H?H:void 0,_serverResponse:E.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(v,E,I,F){return new Jr(v,E,I,F)}}function al(D,v,E,I){return("reauthenticate"===v?E._getReauthenticationResolver(D):E._getIdTokenResponse(D)).catch(H=>{throw"auth/multi-factor-auth-required"===H.code?Jr._fromErrorAndOperation(D,H,v,I):H})}function na(D){return new Set(D.map(({providerId:v})=>v).filter(v=>!!v))}function Z(){return(Z=(0,c.Z)(function*(D,v){const E=(0,G.m9)(D);yield Ra(!0,E,v);const{providerUserInfo:I}=yield ss(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[v]}),F=na(I||[]);return E.providerData=E.providerData.filter(H=>F.has(H.providerId)),F.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E})).apply(this,arguments)}function Jc(D,v){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,c.Z)(function*(D,v,E=!1){const I=yield _r(D,v._linkToIdToken(D.auth,yield D.getIdToken()),E);return ls._forOperation(D,"link",I)})).apply(this,arguments)}function Ra(D,v,E){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,c.Z)(function*(D,v,E){yield Wn(v);const F=!1===D?"provider-already-linked":"no-such-provider";ee(na(v.providerData).has(E)===D,v.auth,F)})).apply(this,arguments)}function ll(D,v){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,c.Z)(function*(D,v,E=!1){const{auth:I}=D,F="reauthenticate";try{const H=yield _r(D,al(I,F,v,D),E);ee(H.idToken,I,"internal-error");const ae=an(H.idToken);ee(ae,I,"internal-error");const{sub:Ne}=ae;return ee(D.uid===Ne,I,"user-mismatch"),ls._forOperation(D,F,H)}catch(H){throw"auth/user-not-found"===H?.code&&Ue(I,"user-mismatch"),H}})).apply(this,arguments)}function Pa(D,v){return us.apply(this,arguments)}function us(){return(us=(0,c.Z)(function*(D,v,E=!1){const I="signIn",F=yield al(D,I,v),H=yield ls._fromIdTokenResponse(D,I,F);return E||(yield D._updateCurrentUser(H.user)),H})).apply(this,arguments)}function Mr(D,v){return ul.apply(this,arguments)}function ul(){return(ul=(0,c.Z)(function*(D,v){return Pa(Ln(D),v)})).apply(this,arguments)}function Rr(D,v){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,c.Z)(function*(D,v){const E=(0,G.m9)(D);return yield Ra(!1,E,v.providerId),Jc(E,v)})).apply(this,arguments)}function cl(D,v){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,c.Z)(function*(D,v){return ll((0,G.m9)(D),v)})).apply(this,arguments)}function Gd(D,v){return ra.apply(this,arguments)}function ra(){return(ra=(0,c.Z)(function*(D,v){return Hi(D,"POST","/v1/accounts:signInWithCustomToken",Qt(D,v))})).apply(this,arguments)}function ii(){return(ii=(0,c.Z)(function*(D,v){const E=Ln(D),I=yield Gd(E,{token:v,returnSecureToken:!0}),F=yield ls._fromIdTokenResponse(E,"signIn",I);return yield E._updateCurrentUser(F.user),F})).apply(this,arguments)}class Uu{constructor(v,E){this.factorId=v,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(v,E){return"phoneInfo"in E?$u._fromServerResponse(v,E):Ue(v,"internal-error")}}class $u extends Uu{constructor(v){super("phone",v),this.phoneNumber=v.phoneInfo}static _fromServerResponse(v,E){return new $u(E)}}function Hu(D,v,E){var I;ee((null===(I=E.url)||void 0===I?void 0:I.length)>0,D,"invalid-continue-uri"),ee(typeof E.dynamicLinkDomain>"u"||E.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),v.continueUrl=E.url,v.dynamicLinkDomain=E.dynamicLinkDomain,v.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(ee(E.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),v.iOSBundleId=E.iOS.bundleId),E.android&&(ee(E.android.packageName.length>0,D,"missing-android-pkg-name"),v.androidInstallApp=E.android.installApp,v.androidMinimumVersionCode=E.android.minimumVersion,v.androidPackageName=E.android.packageName)}function ju(){return(ju=(0,c.Z)(function*(D,v,E){const I=(0,G.m9)(D),F={requestType:"PASSWORD_RESET",email:v};E&&Hu(I,F,E),yield ho(I,F)})).apply(this,arguments)}function kt(){return(kt=(0,c.Z)(function*(D,v,E){yield Vr((0,G.m9)(D),{oobCode:v,newPassword:E})})).apply(this,arguments)}function Gu(){return(Gu=(0,c.Z)(function*(D,v){yield _n((0,G.m9)(D),{oobCode:v})})).apply(this,arguments)}function sa(D,v){return qu.apply(this,arguments)}function qu(){return(qu=(0,c.Z)(function*(D,v){const E=(0,G.m9)(D),I=yield Vr(E,{oobCode:v}),F=I.requestType;switch(ee(F,E,"internal-error"),F){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(I.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(I.mfaInfo,E,"internal-error");default:ee(I.email,E,"internal-error")}let H=null;return I.mfaInfo&&(H=Uu._fromServerResponse(Ln(E),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:H},operation:F}})).apply(this,arguments)}function qi(){return(qi=(0,c.Z)(function*(D,v){const{data:E}=yield sa((0,G.m9)(D),v);return E.email})).apply(this,arguments)}function qd(){return(qd=(0,c.Z)(function*(D,v,E){const I=Ln(D),F=yield Zc(I,{returnSecureToken:!0,email:v,password:E}),H=yield ls._fromIdTokenResponse(I,"signIn",F);return yield I._updateCurrentUser(H.user),H})).apply(this,arguments)}function zd(){return(zd=(0,c.Z)(function*(D,v,E){const I=(0,G.m9)(D),F={requestType:"EMAIL_SIGNIN",email:v};ee(E.handleCodeInApp,I,"argument-error"),E&&Hu(I,F,E),yield Na(I,F)})).apply(this,arguments)}function Gl(){return(Gl=(0,c.Z)(function*(D,v,E){const I=(0,G.m9)(D),F=Hd.credentialWithLink(v,E||tt());return ee(F._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Mr(I,F)})).apply(this,arguments)}function Xc(D,v){return zs.apply(this,arguments)}function zs(){return(zs=(0,c.Z)(function*(D,v){return pr(D,"POST","/v1/accounts:createAuthUri",Qt(D,v))})).apply(this,arguments)}function ka(){return(ka=(0,c.Z)(function*(D,v){const I={identifier:v,continueUri:Gt()?tt():"http://localhost"},{signinMethods:F}=yield Xc((0,G.m9)(D),I);return F||[]})).apply(this,arguments)}function Wu(){return(Wu=(0,c.Z)(function*(D,v){const E=(0,G.m9)(D),F={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};v&&Hu(E.auth,F,v);const{email:H}=yield sn(E.auth,F);H!==D.email&&(yield D.reload())})).apply(this,arguments)}function ur(){return(ur=(0,c.Z)(function*(D,v,E){const I=(0,G.m9)(D),H={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:v};E&&Hu(I.auth,H,E);const{email:ae}=yield Ul(I.auth,H);ae!==D.email&&(yield D.reload())})).apply(this,arguments)}function si(D,v){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,c.Z)(function*(D,v){return pr(D,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function Ws(){return(Ws=(0,c.Z)(function*(D,{displayName:v,photoURL:E}){if(void 0===v&&void 0===E)return;const I=(0,G.m9)(D),H={idToken:yield I.getIdToken(),displayName:v,photoUrl:E,returnSecureToken:!0},ae=yield _r(I,si(I.auth,H));I.displayName=ae.displayName||null,I.photoURL=ae.photoUrl||null;const Ne=I.providerData.find(({providerId:ct})=>"password"===ct);Ne&&(Ne.displayName=I.displayName,Ne.photoURL=I.photoURL),yield I._updateTokensIfNecessary(ae)})).apply(this,arguments)}function yf(D,v,E){return ed.apply(this,arguments)}function ed(){return(ed=(0,c.Z)(function*(D,v,E){const{auth:I}=D,H={idToken:yield D.getIdToken(),returnSecureToken:!0};v&&(H.email=v),E&&(H.password=E);const ae=yield _r(D,co(I,H));yield D._updateTokensIfNecessary(ae,!0)})).apply(this,arguments)}class oi{constructor(v,E,I={}){this.isNewUser=v,this.providerId=E,this.profile=I}}class Oo extends oi{constructor(v,E,I,F){super(v,E,I),this.username=F}}class go extends oi{constructor(v,E){super(v,"facebook.com",E)}}class ko extends Oo{constructor(v,E){super(v,"github.com",E,"string"==typeof E?.login?E?.login:null)}}class ql extends oi{constructor(v,E){super(v,"google.com",E)}}class zl extends Oo{constructor(v,E,I){super(v,"twitter.com",E,I)}}function aa(D){const{user:v,_tokenResponse:E}=D;return v.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function ds(D){var v,E;if(!D)return null;const{providerId:I}=D,F=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},H=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!I&&D?.idToken){const ae=null===(E=null===(v=an(D.idToken))||void 0===v?void 0:v.firebase)||void 0===E?void 0:E.sign_in_provider;if(ae)return new oi(H,"anonymous"!==ae&&"custom"!==ae?ae:null)}if(!I)return null;switch(I){case"facebook.com":return new go(H,F);case"github.com":return new ko(H,F);case"google.com":return new ql(H,F);case"twitter.com":return new zl(H,F,D.screenName||null);case"custom":case"anonymous":return new oi(H,null);default:return new oi(H,I,F)}}(E)}class Fa{constructor(v,E,I){this.type=v,this.credential=E,this.auth=I}static _fromIdtoken(v,E){return new Fa("enroll",v,E)}static _fromMfaPendingCredential(v){return new Fa("signin",v)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(v){var E,I;if(v?.multiFactorSession){if(null!==(E=v.multiFactorSession)&&void 0!==E&&E.pendingCredential)return Fa._fromMfaPendingCredential(v.multiFactorSession.pendingCredential);if(null!==(I=v.multiFactorSession)&&void 0!==I&&I.idToken)return Fa._fromIdtoken(v.multiFactorSession.idToken)}return null}}class Zu{constructor(v,E,I){this.session=v,this.hints=E,this.signInResolver=I}static _fromError(v,E){const I=Ln(v),F=E.customData._serverResponse,H=(F.mfaInfo||[]).map(Ne=>Uu._fromServerResponse(I,Ne));ee(F.mfaPendingCredential,I,"internal-error");const ae=Fa._fromMfaPendingCredential(F.mfaPendingCredential);return new Zu(ae,H,function(){var Ne=(0,c.Z)(function*(ct){const It=yield ct._process(I,ae);delete F.mfaInfo,delete F.mfaPendingCredential;const dn=Object.assign(Object.assign({},F),{idToken:It.idToken,refreshToken:It.refreshToken});switch(E.operationType){case"signIn":const qt=yield ls._fromIdTokenResponse(I,E.operationType,dn);return yield I._updateCurrentUser(qt.user),qt;case"reauthenticate":return ee(E.user,I,"internal-error"),ls._forOperation(E.user,E.operationType,dn);default:Ue(I,"internal-error")}});return function(ct){return Ne.apply(this,arguments)}}())}resolveSignIn(v){var E=this;return(0,c.Z)(function*(){return E.signInResolver(v)})()}}function Dn(D,v){return pr(D,"POST","/v2/accounts/mfaEnrollment:start",Qt(D,v))}class La{constructor(v){this.user=v,this.enrolledFactors=[],v._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(I=>Uu._fromServerResponse(v.auth,I)))})}static _fromUser(v){return new La(v)}getSession(){var v=this;return(0,c.Z)(function*(){return Fa._fromIdtoken(yield v.user.getIdToken(),v.user.auth)})()}enroll(v,E){var I=this;return(0,c.Z)(function*(){const F=v,H=yield I.getSession(),ae=yield _r(I.user,F._process(I.user.auth,H,E));return yield I.user._updateTokensIfNecessary(ae),I.user.reload()})()}unenroll(v){var E=this;return(0,c.Z)(function*(){const I="string"==typeof v?v:v.uid,F=yield E.user.getIdToken(),H=yield _r(E.user,function Mn(D,v){return pr(D,"POST","/v2/accounts/mfaEnrollment:withdraw",Qt(D,v))}(E.user.auth,{idToken:F,mfaEnrollmentId:I}));E.enrolledFactors=E.enrolledFactors.filter(({uid:ae})=>ae!==I),yield E.user._updateTokensIfNecessary(H);try{yield E.user.reload()}catch(ae){if("auth/user-token-expired"!==ae?.code)throw ae}})()}}const zi=new WeakMap,mo="__sak";class hl{constructor(v,E){this.storageRetriever=v,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(mo,"1"),this.storage.removeItem(mo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(v,E){return this.storage.setItem(v,JSON.stringify(E)),Promise.resolve()}_get(v){const E=this.storage.getItem(v);return Promise.resolve(E?JSON.parse(E):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const Zd=(()=>{class D extends hl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(E,I)=>this.onStorageEvent(E,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Wl(){const D=(0,G.z$)();return tn(D)||vr(D)}()&&function xa(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Gc(),this._shouldAllowMigration=!0}forAllChangedKeys(E){for(const I of Object.keys(this.listeners)){const F=this.storage.getItem(I),H=this.localCache[I];F!==H&&E(I,H,F)}}onStorageEvent(E,I=!1){if(!E.key)return void this.forAllChangedKeys((Ne,ct,It)=>{this.notifyListeners(Ne,It)});const F=E.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ne=this.storage.getItem(F);if(E.newValue!==Ne)null!==E.newValue?this.storage.setItem(F,E.newValue):this.storage.removeItem(F);else if(this.localCache[F]===E.newValue&&!I)return}const H=()=>{const Ne=this.storage.getItem(F);!I&&this.localCache[F]===Ne||this.notifyListeners(F,Ne)},ae=this.storage.getItem(F);!function Aa(){return(0,G.w1)()&&10===document.documentMode}()||ae===E.newValue||E.newValue===E.oldValue?H():setTimeout(H,10)}notifyListeners(E,I){this.localCache[E]=I;const F=this.listeners[E];if(F)for(const H of Array.from(F))H(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,I,F)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:I,newValue:F}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(I)}_removeListener(E,I){this.listeners[E]&&(this.listeners[E].delete(I),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,I){var F=()=>super._set,H=this;return(0,c.Z)(function*(){yield F().call(H,E,I),H.localCache[E]=JSON.stringify(I)})()}_get(E){var I=()=>super._get,F=this;return(0,c.Z)(function*(){const H=yield I().call(F,E);return F.localCache[E]=JSON.stringify(H),H})()}_remove(E){var I=()=>super._remove,F=this;return(0,c.Z)(function*(){yield I().call(F,E),delete F.localCache[E]})()}}return D.type="LOCAL",D})(),Fo=(()=>{class D extends hl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(E,I){}_removeListener(E,I){}}return D.type="SESSION",D})();let bf=(()=>{class D{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const I=this.receivers.find(H=>H.isListeningto(E));if(I)return I;const F=new D(E);return this.receivers.push(F),F}isListeningto(E){return this.eventTarget===E}handleEvent(E){var I=this;return(0,c.Z)(function*(){const F=E,{eventId:H,eventType:ae,data:Ne}=F.data,ct=I.handlersMap[ae];if(!ct?.size)return;F.ports[0].postMessage({status:"ack",eventId:H,eventType:ae});const It=Array.from(ct).map(function(){var qt=(0,c.Z)(function*(ui){return ui(F.origin,Ne)});return function(ui){return qt.apply(this,arguments)}}()),dn=yield function Qu(D){return Promise.all(D.map(function(){var v=(0,c.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(I){return{fulfilled:!1,reason:I}}});return function(E){return v.apply(this,arguments)}}()))}(It);F.ports[0].postMessage({status:"done",eventId:H,eventType:ae,response:dn})})()}_subscribe(E,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(I)}_unsubscribe(E,I){this.handlersMap[E]&&I&&this.handlersMap[E].delete(I),(!I||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Ba(D="",v=10){let E="";for(let I=0;I<v;I++)E+=Math.floor(10*Math.random());return D+E}class nd{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,E,I=50){var F=this;return(0,c.Z)(function*(){const H=typeof MessageChannel<"u"?new MessageChannel:null;if(!H)throw new Error("connection_unavailable");let ae,Ne;return new Promise((ct,It)=>{const dn=Ba("",20);H.port1.start();const qt=setTimeout(()=>{It(new Error("unsupported_event"))},I);Ne={messageChannel:H,onMessage(ui){const Qs=ui;if(Qs.data.eventId===dn)switch(Qs.data.status){case"ack":clearTimeout(qt),ae=setTimeout(()=>{It(new Error("timeout"))},3e3);break;case"done":clearTimeout(ae),ct(Qs.data.response);break;default:clearTimeout(qt),clearTimeout(ae),It(new Error("invalid_response"))}}},F.handlers.add(Ne),H.port1.addEventListener("message",Ne.onMessage),F.target.postMessage({eventType:v,eventId:dn,data:E},[H.port2])}).finally(()=>{Ne&&F.removeMessageHandler(Ne)})})()}}function hr(){return window}function Jl(){return typeof hr().WorkerGlobalScope<"u"&&"function"==typeof hr().importScripts}function Xu(){return(Xu=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const rd="firebaseLocalStorageDb",Lo="firebaseLocalStorage",pl="fbase_key";class ua{constructor(v){this.request=v}toPromise(){return new Promise((v,E)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function gl(D,v){return D.transaction([Lo],v?"readwrite":"readonly").objectStore(Lo)}function ml(){const D=indexedDB.open(rd,1);return new Promise((v,E)=>{D.addEventListener("error",()=>{E(D.error)}),D.addEventListener("upgradeneeded",()=>{const I=D.result;try{I.createObjectStore(Lo,{keyPath:pl})}catch(F){E(F)}}),D.addEventListener("success",(0,c.Z)(function*(){const I=D.result;I.objectStoreNames.contains(Lo)?v(I):(I.close(),yield function ec(){const D=indexedDB.deleteDatabase(rd);return new ua(D).toPromise()}(),v(yield ml()))}))})}function Wi(D,v,E){return tc.apply(this,arguments)}function tc(){return(tc=(0,c.Z)(function*(D,v,E){const I=gl(D,!0).put({[pl]:v,value:E});return new ua(I).toPromise()})).apply(this,arguments)}function Va(){return(Va=(0,c.Z)(function*(D,v){const E=gl(D,!1).get(v),I=yield new ua(E).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function nc(D,v){const E=gl(D,!0).delete(v);return new ua(E).toPromise()}const As=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,c.Z)(function*(){return E.db||(E.db=yield ml()),E.db})()}_withRetries(E){var I=this;return(0,c.Z)(function*(){let F=0;for(;;)try{const H=yield I._openDb();return yield E(H)}catch(H){if(F++>3)throw H;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,c.Z)(function*(){return Jl()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,c.Z)(function*(){E.receiver=bf._getInstance(function fl(){return Jl()?self:null}()),E.receiver._subscribe("keyChanged",function(){var I=(0,c.Z)(function*(F,H){return{keyProcessed:(yield E._poll()).includes(H.key)}});return function(F,H){return I.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var I=(0,c.Z)(function*(F,H){return["keyChanged"]});return function(F,H){return I.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,c.Z)(function*(){var I,F;if(E.activeServiceWorker=yield function la(){return Xu.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new nd(E.activeServiceWorker);const H=yield E.sender._send("ping",{},800);!H||(null===(I=H[0])||void 0===I?void 0:I.fulfilled)&&(null===(F=H[0])||void 0===F?void 0:F.value.includes("keyChanged"))&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var I=this;return(0,c.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function Ql(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:E},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const E=yield ml();return yield Wi(E,mo,"1"),yield nc(E,mo),!0}catch{}return!1})()}_withPendingWrite(E){var I=this;return(0,c.Z)(function*(){I.pendingWrites++;try{yield E()}finally{I.pendingWrites--}})()}_set(E,I){var F=this;return(0,c.Z)(function*(){return F._withPendingWrite((0,c.Z)(function*(){return yield F._withRetries(H=>Wi(H,E,I)),F.localCache[E]=I,F.notifyServiceWorker(E)}))})()}_get(E){var I=this;return(0,c.Z)(function*(){const F=yield I._withRetries(H=>function Bo(D,v){return Va.apply(this,arguments)}(H,E));return I.localCache[E]=F,F})()}_remove(E){var I=this;return(0,c.Z)(function*(){return I._withPendingWrite((0,c.Z)(function*(){return yield I._withRetries(F=>nc(F,E)),delete I.localCache[E],I.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,c.Z)(function*(){const I=yield E._withRetries(ae=>{const Ne=gl(ae,!1).getAll();return new ua(Ne).toPromise()});if(!I)return[];if(0!==E.pendingWrites)return[];const F=[],H=new Set;for(const{fbase_key:ae,value:Ne}of I)H.add(ae),JSON.stringify(E.localCache[ae])!==JSON.stringify(Ne)&&(E.notifyListeners(ae,Ne),F.push(ae));for(const ae of Object.keys(E.localCache))E.localCache[ae]&&!H.has(ae)&&(E.notifyListeners(ae,null),F.push(ae));return F})()}notifyListeners(E,I){this.localCache[E]=I;const F=this.listeners[E];if(F)for(const H of Array.from(F))H(I)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(I)}_removeListener(E,I){this.listeners[E]&&(this.listeners[E].delete(I),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function Yd(D,v){return pr(D,"POST","/v2/accounts/mfaSignIn:start",Qt(D,v))}function sd(){return(sd=(0,c.Z)(function*(D){return(yield pr(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function yo(D){return new Promise((v,E)=>{const I=document.createElement("script");I.setAttribute("src",D),I.onload=v,I.onerror=F=>{const H=$e("internal-error");H.customData=F,E(H)},I.type="text/javascript",I.charset="UTF-8",function ic(){var D,v;return null!==(v=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==v?v:document}().appendChild(I)})}function ca(D){return`__${D}${Math.floor(1e6*Math.random())}`}const wr=1e12;class od{constructor(v){this.auth=v,this.counter=wr,this._widgets=new Map}render(v,E){const I=this.counter;return this._widgets.set(I,new Jd(v,this.auth.name,E||{})),this.counter++,I}reset(v){var E;const I=v||wr;null===(E=this._widgets.get(I))||void 0===E||E.delete(),this._widgets.delete(I)}getResponse(v){var E;return(null===(E=this._widgets.get(v||wr))||void 0===E?void 0:E.getResponse())||""}execute(v){var E=this;return(0,c.Z)(function*(){var I;return null===(I=E._widgets.get(v||wr))||void 0===I||I.execute(),""})()}}class Jd{constructor(v,E,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const F="string"==typeof v?document.getElementById(v):v;ee(F,"argument-error",{appName:E}),this.container=F,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function eu(D){const v=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<D;I++)v.push(E.charAt(Math.floor(Math.random()*E.length)));return v.join("")}(50);const{callback:v,"expired-callback":E}=this.params;if(v)try{v(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Rp=ca("rcb"),Hr=new mn(3e4,6e4);class ps{constructor(){var v;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(v=hr().grecaptcha)||void 0===v||!v.render)}load(v,E=""){return ee(function da(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(E),v,"argument-error"),this.shouldResolveImmediately(E)?Promise.resolve(hr().grecaptcha):new Promise((I,F)=>{const H=hr().setTimeout(()=>{F($e(v,"network-request-failed"))},Hr.get());hr()[Rp]=()=>{hr().clearTimeout(H),delete hr()[Rp];const Ne=hr().grecaptcha;if(!Ne)return void F($e(v,"internal-error"));const ct=Ne.render;Ne.render=(It,dn)=>{const qt=ct(It,dn);return this.counter++,qt},this.hostLanguage=E,I(Ne)},yo(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:Rp,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(H),F($e(v,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(v){var E;return!(null===(E=hr().grecaptcha)||void 0===E||!E.render)&&(v===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class tu{load(v){return(0,c.Z)(function*(){return new od(v)})()}clearedOneInstance(){}}const Qd="recaptcha",wf={theme:"light",type:"image"};class oc{constructor(v,E=Object.assign({},wf),I){this.parameters=E,this.type=Qd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ln(I),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const F="string"==typeof v?document.getElementById(v):v;ee(F,this.auth,"argument-error"),this.container=F,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new tu:new ps,this.validateStartingState()}verify(){var v=this;return(0,c.Z)(function*(){v.assertNotDestroyed();const E=yield v.render(),I=v.getAssertedRecaptcha();return I.getResponse(E)||new Promise(H=>{const ae=Ne=>{!Ne||(v.tokenChangeListeners.delete(ae),H(Ne))};v.tokenChangeListeners.add(ae),v.isInvisible&&I.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(v){return Promise.reject(v)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(v=>{throw this.renderPromise=null,v})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(v=>{this.container.removeChild(v)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(v){return E=>{if(this.tokenChangeListeners.forEach(I=>I(E)),"function"==typeof v)v(E);else if("string"==typeof v){const I=hr()[v];"function"==typeof I&&I(E)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var v=this;return(0,c.Z)(function*(){if(yield v.init(),!v.widgetId){let E=v.container;if(!v.isInvisible){const I=document.createElement("div");E.appendChild(I),E=I}v.widgetId=v.getAssertedRecaptcha().render(E,v.parameters)}return v.widgetId})()}init(){var v=this;return(0,c.Z)(function*(){ee(Gt()&&!Jl(),v.auth,"internal-error"),yield function Pp(){let D=null;return new Promise(v=>{"complete"!==document.readyState?(D=()=>v(),window.addEventListener("load",D)):v()}).catch(v=>{throw D&&window.removeEventListener("load",D),v})}(),v.recaptcha=yield v._recaptchaLoader.load(v.auth,v.auth.languageCode||void 0);const E=yield function _o(D){return sd.apply(this,arguments)}(v.auth);ee(E,v.auth,"internal-error"),v.parameters.sitekey=E})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ha{constructor(v,E){this.verificationId=v,this.onConfirmation=E}confirm(v){const E=fo._fromVerification(this.verificationId,v);return this.onConfirmation(E)}}function gs(){return(gs=(0,c.Z)(function*(D,v,E){const I=Ln(D),F=yield eh(I,v,(0,G.m9)(E));return new ha(F,H=>Mr(I,H))})).apply(this,arguments)}function Xd(){return(Xd=(0,c.Z)(function*(D,v,E){const I=(0,G.m9)(D);yield Ra(!1,I,"phone");const F=yield eh(I.auth,v,(0,G.m9)(E));return new ha(F,H=>Rr(I,H))})).apply(this,arguments)}function _l(){return(_l=(0,c.Z)(function*(D,v,E){const I=(0,G.m9)(D),F=yield eh(I.auth,v,(0,G.m9)(E));return new ha(F,H=>cl(I,H))})).apply(this,arguments)}function eh(D,v,E){return th.apply(this,arguments)}function th(){return(th=(0,c.Z)(function*(D,v,E){var I;const F=yield E.verify();try{let H;if(ee("string"==typeof F,D,"argument-error"),ee(E.type===Qd,D,"argument-error"),H="string"==typeof v?{phoneNumber:v}:v,"session"in H){const ae=H.session;if("phoneNumber"in H)return ee("enroll"===ae.type,D,"internal-error"),(yield Dn(D,{idToken:ae.credential,phoneEnrollmentInfo:{phoneNumber:H.phoneNumber,recaptchaToken:F}})).phoneSessionInfo.sessionInfo;{ee("signin"===ae.type,D,"internal-error");const Ne=(null===(I=H.multiFactorHint)||void 0===I?void 0:I.uid)||H.multiFactorUid;return ee(Ne,D,"missing-multi-factor-info"),(yield Yd(D,{mfaPendingCredential:ae.credential,mfaEnrollmentId:Ne,phoneSignInInfo:{recaptchaToken:F}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ae}=yield Fu(D,{phoneNumber:H.phoneNumber,recaptchaToken:F});return ae}}finally{E._reset()}})).apply(this,arguments)}function Cf(){return(Cf=(0,c.Z)(function*(D,v){yield Jc((0,G.m9)(D),v)})).apply(this,arguments)}let lc=(()=>{class D{constructor(E){this.providerId=D.PROVIDER_ID,this.auth=Ln(E)}verifyPhoneNumber(E,I){return eh(this.auth,E,(0,G.m9)(I))}static credential(E,I){return fo._fromVerification(E,I)}static credentialFromResult(E){return D.credentialFromTaggedObject(E)}static credentialFromError(E){return D.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:I,temporaryProof:F}=E;return I&&F?fo._fromTokenResponse(I,F):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function er(D,v){return v?De(v):(ee(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class uc extends Br{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return Dr(v,this._buildIdpRequest())}_linkToIdToken(v,E){return Dr(v,this._buildIdpRequest(E))}_getReauthenticationResolver(v){return Dr(v,this._buildIdpRequest())}_buildIdpRequest(v){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(E.idToken=v),E}}function nu(D){return Pa(D.auth,new uc(D),D.bypassAuthState)}function Df(D){const{auth:v,user:E}=D;return ee(E,v,"internal-error"),ll(E,new uc(D),D.bypassAuthState)}function xi(D){return ms.apply(this,arguments)}function ms(){return(ms=(0,c.Z)(function*(D){const{auth:v,user:E}=D;return ee(E,v,"internal-error"),Jc(E,new uc(D),D.bypassAuthState)})).apply(this,arguments)}class yl{constructor(v,E,I,F,H=!1){this.auth=v,this.resolver=I,this.user=F,this.bypassAuthState=H,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var v=this;return new Promise(function(){var E=(0,c.Z)(function*(I,F){v.pendingPromise={resolve:I,reject:F};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(H){v.reject(H)}});return function(I,F){return E.apply(this,arguments)}}())}onAuthEvent(v){var E=this;return(0,c.Z)(function*(){const{urlResponse:I,sessionId:F,postBody:H,tenantId:ae,error:Ne,type:ct}=v;if(Ne)return void E.reject(Ne);const It={auth:E.auth,requestUri:I,sessionId:F,tenantId:ae||void 0,postBody:H||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(ct)(It))}catch(dn){E.reject(dn)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return nu;case"linkViaPopup":case"linkViaRedirect":return xi;case"reauthViaPopup":case"reauthViaRedirect":return Df;default:Ue(this.auth,"internal-error")}}resolve(v){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fa=new mn(2e3,1e4);function cc(){return(cc=(0,c.Z)(function*(D,v,E){const I=Ln(D);ut(D,v,No);const F=er(I,E);return new ir(I,"signInViaPopup",v,F).executeNotNull()})).apply(this,arguments)}function dc(){return(dc=(0,c.Z)(function*(D,v,E){const I=(0,G.m9)(D);ut(I.auth,v,No);const F=er(I.auth,E);return new ir(I.auth,"reauthViaPopup",v,F,I).executeNotNull()})).apply(this,arguments)}function cn(){return(cn=(0,c.Z)(function*(D,v,E){const I=(0,G.m9)(D);ut(I.auth,v,No);const F=er(I.auth,E);return new ir(I.auth,"linkViaPopup",v,F,I).executeNotNull()})).apply(this,arguments)}let ir=(()=>{class D extends yl{constructor(E,I,F,H,ae){super(E,I,H,ae),this.provider=F,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var E=this;return(0,c.Z)(function*(){const I=yield E.execute();return ee(I,E.auth,"internal-error"),I})()}onExecution(){var E=this;return(0,c.Z)(function*(){ie(1===E.filter.length,"Popup operations only handle one event");const I=Ba();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],I),E.authWindow.associatedEvent=I,E.resolver._originValidation(E.auth).catch(F=>{E.reject(F)}),E.resolver._isIframeWebStorageSupported(E.auth,F=>{F||E.reject($e(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject($e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const E=()=>{var I,F;this.pollId=null!==(F=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==F&&F.closed?window.setTimeout(()=>{this.pollId=null,this.reject($e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(E,fa.get())};E()}}return D.currentPopupAction=null,D})();const Vo=new Map;class vl extends yl{constructor(v,E,I=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,I),this.eventId=null}execute(){var v=()=>super.execute,E=this;return(0,c.Z)(function*(){let I=Vo.get(E.auth._key());if(!I){try{const H=(yield function Ua(D,v){return vo.apply(this,arguments)}(E.resolver,E.auth))?yield v().call(E):null;I=()=>Promise.resolve(H)}catch(F){I=()=>Promise.reject(F)}Vo.set(E.auth._key(),I)}return E.bypassAuthState||Vo.set(E.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(v){var E=()=>super.onAuthEvent,I=this;return(0,c.Z)(function*(){if("signInViaRedirect"===v.type)return E().call(I,v);if("unknown"!==v.type){if(v.eventId){const F=yield I.auth._redirectUserForId(v.eventId);if(F)return I.user=F,E().call(I,v);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function vo(){return(vo=(0,c.Z)(function*(D,v){const E=fc(v),I=Nt(D);if(!(yield I._isAvailable()))return!1;const F="true"===(yield I._get(E));return yield I._remove(E),F})).apply(this,arguments)}function hc(D,v){return ai.apply(this,arguments)}function ai(){return(ai=(0,c.Z)(function*(D,v){return Nt(D)._set(fc(v),"true")})).apply(this,arguments)}function tr(D,v){Vo.set(D._key(),v)}function Nt(D){return De(D._redirectPersistence)}function fc(D){return se("pendingRedirect",D.config.apiKey,D.name)}function R(){return(R=(0,c.Z)(function*(D,v,E){const I=Ln(D);ut(D,v,No);const F=er(I,E);return yield hc(F,I),F._openRedirect(I,v,"signInViaRedirect")})).apply(this,arguments)}function Y(){return(Y=(0,c.Z)(function*(D,v,E){const I=(0,G.m9)(D);ut(I.auth,v,No);const F=er(I.auth,E);yield hc(F,I.auth);const H=yield fn(I);return F._openRedirect(I.auth,v,"reauthViaRedirect",H)})).apply(this,arguments)}function We(){return(We=(0,c.Z)(function*(D,v,E){const I=(0,G.m9)(D);ut(I.auth,v,No);const F=er(I.auth,E);yield Ra(!1,I,v.providerId),yield hc(F,I.auth);const H=yield fn(I);return F._openRedirect(I.auth,v,"linkViaRedirect",H)})).apply(this,arguments)}function Bt(){return(Bt=(0,c.Z)(function*(D,v){return yield Ln(D)._initializationPromise,Lt(D,v,!1)})).apply(this,arguments)}function Lt(D,v){return on.apply(this,arguments)}function on(){return(on=(0,c.Z)(function*(D,v,E=!1){const I=Ln(D),F=er(I,v),ae=yield new vl(I,F,E).execute();return ae&&!E&&(delete ae.user._redirectEventId,yield I._persistUserIfCurrent(ae.user),yield I._setRedirectUser(null,v)),ae})).apply(this,arguments)}function fn(D){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,c.Z)(function*(D){const v=Ba(`${D.uid}:::`);return D._redirectEventId=v,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),v})).apply(this,arguments)}class Tr{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let E=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(v,I)&&(E=!0,this.sendToConsumer(v,I),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function bo(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xs(D);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=v,E=!0)),E}sendToConsumer(v,E){var I;if(v.error&&!xs(v)){const F=(null===(I=v.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";E.onError($e(this.auth,F))}else E.onAuthEvent(v)}isEventForConsumer(v,E){const I=null===E.eventId||!!v.eventId&&v.eventId===E.eventId;return E.filter.includes(v.type)&&I}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_s(v))}saveEventToCache(v){this.cachedEventUids.add(_s(v)),this.lastProcessedEventTime=Date.now()}}function _s(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(v=>v).join("-")}function xs({type:D,error:v}){return"unknown"===D&&"auth/no-auth-event"===v?.code}function Xr(D){return ga.apply(this,arguments)}function ga(){return(ga=(0,c.Z)(function*(D,v={}){return pr(D,"GET","/v1/projects",v)})).apply(this,arguments)}const gm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ay=/^https?/;function kp(){return(kp=(0,c.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:v}=yield Xr(D);for(const E of v)try{if(ih(E))return}catch{}Ue(D,"unauthorized-domain")})).apply(this,arguments)}function ih(D){const v=tt(),{protocol:E,hostname:I}=new URL(v);if(D.startsWith("chrome-extension://")){const ae=new URL(D);return""===ae.hostname&&""===I?"chrome-extension:"===E&&D.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===E&&ae.hostname===I}if(!ay.test(E))return!1;if(gm.test(D))return I===D;const F=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+F+"|"+F+")$","i").test(I)}const su=new mn(3e4,6e4);function pc(){const D=hr().___jsl;if(D?.H)for(const v of Object.keys(D.H))if(D.H[v].r=D.H[v].r||[],D.H[v].L=D.H[v].L||[],D.H[v].r=[...D.H[v].L],D.CP)for(let E=0;E<D.CP.length;E++)D.CP[E]=null}let ou=null;function ym(D){return ou=ou||function _m(D){return new Promise((v,E)=>{var I,F,H;function ae(){pc(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{pc(),E($e(D,"network-request-failed"))},timeout:su.get()})}if(null!==(F=null===(I=hr().gapi)||void 0===I?void 0:I.iframes)&&void 0!==F&&F.Iframe)v(gapi.iframes.getContext());else{if(null===(H=hr().gapi)||void 0===H||!H.load){const Ne=ca("iframefcb");return hr()[Ne]=()=>{gapi.load?ae():E($e(D,"network-request-failed"))},yo(`https://apis.google.com/js/api.js?onload=${Ne}`).catch(ct=>E(ct))}ae()}}).catch(v=>{throw ou=null,v})}(D),ou}const Fp=new mn(5e3,15e3),Ni={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ns=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sh(D){const v=D.config;ee(v.authDomain,D,"auth-domain-config-required");const E=v.emulator?Yt(v,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,I={apiKey:v.apiKey,appName:D.name,v:Ce.SDK_VERSION},F=Ns.get(D.config.apiHost);F&&(I.eid=F);const H=D._getFrameworks();return H.length&&(I.fw=H.join(",")),`${E}?${(0,G.xO)(I).slice(1)}`}function Sf(){return Sf=(0,c.Z)(function*(D){const v=yield ym(D),E=hr().gapi;return ee(E,D,"internal-error"),v.open({where:document.body,url:sh(D),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ni,dontclear:!0},I=>new Promise(function(){var F=(0,c.Z)(function*(H,ae){yield I.restyle({setHideOnLeave:!1});const Ne=$e(D,"network-request-failed"),ct=hr().setTimeout(()=>{ae(Ne)},Fp.get());function It(){hr().clearTimeout(ct),H(I)}I.ping(It).then(It,()=>{ae(Ne)})});return function(H,ae){return F.apply(this,arguments)}}()))}),Sf.apply(this,arguments)}const Bp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Uo{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Tf(D,v,E,I,F,H){ee(D.config.authDomain,D,"auth-domain-config-required"),ee(D.config.apiKey,D,"invalid-api-key");const ae={apiKey:D.config.apiKey,appName:D.name,authType:E,redirectUrl:I,v:Ce.SDK_VERSION,eventId:F};if(v instanceof No){v.setDefaultLanguage(D.languageCode),ae.providerId=v.providerId||"",(0,G.xb)(v.getCustomParameters())||(ae.customParameters=JSON.stringify(v.getCustomParameters()));for(const[ct,It]of Object.entries(H||{}))ae[ct]=It}if(v instanceof Er){const ct=v.getScopes().filter(It=>""!==It);ct.length>0&&(ae.scopes=ct.join(","))}D.tenantId&&(ae.tid=D.tenantId);const Ne=ae;for(const ct of Object.keys(Ne))void 0===Ne[ct]&&delete Ne[ct];return`${function ly({config:D}){return D.emulator?Yt(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,G.xO)(Ne).slice(1)}`}const wl="webStorageSupport",vs=class Up{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fo,this._completeRedirectFn=Lt,this._overrideRedirectResult=tr}_openPopup(v,E,I,F){var H=this;return(0,c.Z)(function*(){var ae;ie(null===(ae=H.eventManagers[v._key()])||void 0===ae?void 0:ae.manager,"_initialize() not called before _openPopup()");const Ne=Tf(v,E,I,tt(),F);return function bm(D,v,E,I=500,F=600){const H=Math.max((window.screen.availHeight-F)/2,0).toString(),ae=Math.max((window.screen.availWidth-I)/2,0).toString();let Ne="";const ct=Object.assign(Object.assign({},Bp),{width:I.toString(),height:F.toString(),top:H,left:ae}),It=(0,G.z$)().toLowerCase();E&&(Ne=Pe(It)?"_blank":E),bt(It)&&(v=v||"http://localhost",ct.scrollbars="yes");const dn=Object.entries(ct).reduce((ui,[Qs,Ff])=>`${ui}${Qs}=${Ff},`,"");if(function Ot(D=(0,G.z$)()){var v;return vr(D)&&!(null===(v=window.navigator)||void 0===v||!v.standalone)}(It)&&"_self"!==Ne)return function ys(D,v){const E=document.createElement("a");E.href=D,E.target=v;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(I)}(v||"",Ne),new Uo(null);const qt=window.open(v||"",Ne,dn);ee(qt,D,"popup-blocked");try{qt.focus()}catch{}return new Uo(qt)}(v,Ne,Ba())})()}_openRedirect(v,E,I,F){var H=this;return(0,c.Z)(function*(){return yield H._originValidation(v),function Yl(D){hr().location.href=D}(Tf(v,E,I,tt(),F)),new Promise(()=>{})})()}_initialize(v){const E=v._key();if(this.eventManagers[E]){const{manager:F,promise:H}=this.eventManagers[E];return F?Promise.resolve(F):(ie(H,"If manager is not set, promise should be"),H)}const I=this.initAndGetManager(v);return this.eventManagers[E]={promise:I},I.catch(()=>{delete this.eventManagers[E]}),I}initAndGetManager(v){var E=this;return(0,c.Z)(function*(){const I=yield function vm(D){return Sf.apply(this,arguments)}(v),F=new Tr(v);return I.register("authEvent",H=>(ee(H?.authEvent,v,"invalid-auth-event"),{status:F.onEvent(H.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[v._key()]={manager:F},E.iframes[v._key()]=I,F})()}_isIframeWebStorageSupported(v,E){this.iframes[v._key()].send(wl,{type:wl},F=>{var H;const ae=null===(H=F?.[0])||void 0===H?void 0:H[wl];void 0!==ae&&E(!!ae),Ue(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const E=v._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function mm(D){return kp.apply(this,arguments)}(v)),this.originValidationPromises[E]}get _shouldInitProactively(){return Gc()||tn()||vr()}};class If{constructor(v){this.factorId=v}_process(v,E,I){switch(E.type){case"enroll":return this._finalizeEnroll(v,E.credential,I);case"signin":return this._finalizeSignIn(v,E.credential);default:return Be("unexpected MultiFactorSessionType")}}}class $p extends If{constructor(v){super("phone"),this.credential=v}static _fromCredential(v){return new $p(v)}_finalizeEnroll(v,E,I){return function Xn(D,v){return pr(D,"POST","/v2/accounts/mfaEnrollment:finalize",Qt(D,v))}(v,{idToken:E,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(v,E){return function Mp(D,v){return pr(D,"POST","/v2/accounts/mfaSignIn:finalize",Qt(D,v))}(v,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Zi=(()=>{class D{constructor(){}static assertion(E){return $p._fromCredential(E)}}return D.FACTOR_ID="phone",D})();var Af="@firebase/auth";class Em{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var E=this;return(0,c.Z)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const E=this.auth.onIdTokenChanged(I=>{v(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(v,E),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const E=this.internalListeners.get(v);!E||(this.internalListeners.delete(v),E(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bi(){return window}function gc(){return(gc=(0,c.Z)(function*(D,v,E){var I;const{BuildInfo:F}=bi();ie(v.sessionId,"AuthEvent did not contain a session ID");const H=yield ch(v.sessionId),ae={};return vr()?ae.ibi=F.packageName:Xt()?ae.apn=F.packageName:Ue(D,"operation-not-supported-in-this-environment"),F.displayName&&(ae.appDisplayName=F.displayName),ae.sessionId=H,Tf(D,E,v.type,void 0,null!==(I=v.eventId)&&void 0!==I?I:void 0,ae)})).apply(this,arguments)}function Rs(){return(Rs=(0,c.Z)(function*(D){const{BuildInfo:v}=bi(),E={};vr()?E.iosBundleId=v.packageName:Xt()?E.androidPackageName=v.packageName:Ue(D,"operation-not-supported-in-this-environment"),yield Xr(D,E)})).apply(this,arguments)}function $o(){return($o=(0,c.Z)(function*(D,v,E){const{cordova:I}=bi();let F=()=>{};try{yield new Promise((H,ae)=>{let Ne=null;function ct(){var qt;H();const ui=null===(qt=I.plugins.browsertab)||void 0===qt?void 0:qt.close;"function"==typeof ui&&ui(),"function"==typeof E?.close&&E.close()}function It(){Ne||(Ne=window.setTimeout(()=>{ae($e(D,"redirect-cancelled-by-user"))},2e3))}function dn(){"visible"===document?.visibilityState&&It()}v.addPassiveListener(ct),document.addEventListener("resume",It,!1),Xt()&&document.addEventListener("visibilitychange",dn,!1),F=()=>{v.removePassiveListener(ct),document.removeEventListener("resume",It,!1),document.removeEventListener("visibilitychange",dn,!1),Ne&&window.clearTimeout(Ne)}})}finally{F()}})).apply(this,arguments)}function ch(D){return lu.apply(this,arguments)}function lu(){return(lu=(0,c.Z)(function*(D){const v=Mi(D),E=yield crypto.subtle.digest("SHA-256",v);return Array.from(new Uint8Array(E)).map(F=>F.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Mi(D){if(ie(/[0-9a-zA-Z]+/.test(D),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(D);const v=new ArrayBuffer(D.length),E=new Uint8Array(v);for(let I=0;I<D.length;I++)E[I]=D.charCodeAt(I);return E}(0,G.Pz)("authIdTokenMaxAge"),function lh(D){(0,Ce._registerComponent)(new Me.wA("auth",(v,{options:E})=>{const I=v.getProvider("app").getImmediate(),F=v.getProvider("heartbeat"),{apiKey:H,authDomain:ae}=I.options;return((Ne,ct)=>{ee(H&&!H.includes(":"),"invalid-api-key",{appName:Ne.name}),ee(!ae?.includes(":"),"argument-error",{appName:Ne.name});const It={apiKey:H,authDomain:ae,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ao(D)},dn=new ol(Ne,ct,It);return function at(D,v){const E=v?.persistence||[],I=(Array.isArray(E)?E:[E]).map(De);v?.errorMap&&D._updateErrorMap(v.errorMap),D._initializeWithPersistence(I,v?.popupRedirectResolver)}(dn,E),dn})(I,F)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,E,I)=>{v.getProvider("auth-internal").initialize()})),(0,Ce._registerComponent)(new Me.wA("auth-internal",v=>{const E=Ln(v.getProvider("auth").getImmediate());return new Em(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ce.registerVersion)(Af,"0.21.0",function bs(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,Ce.registerVersion)(Af,"0.21.0","esm2017")}("Browser");class Cl extends Tr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(v=>{this.resolveInialized=v})}addPassiveListener(v){this.passiveListeners.add(v)}removePassiveListener(v){this.passiveListeners.delete(v)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(v){return this.resolveInialized(),this.passiveListeners.forEach(E=>E(v)),super.onEvent(v)}initialized(){var v=this;return(0,c.Z)(function*(){yield v.initPromise})()}}function Dl(D){return cd.apply(this,arguments)}function cd(){return(cd=(0,c.Z)(function*(D){const v=yield ja()._get(Ps(D));return v&&(yield ja()._remove(Ps(D))),v})).apply(this,arguments)}function dh(){const D=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<20;E++){const I=Math.floor(Math.random()*v.length);D.push(v.charAt(I))}return D.join("")}function ja(){return De(Zd)}function Ps(D){return se("authEvent",D.config.apiKey,D.name)}function uu(D){if(!D?.includes("?"))return{};const[v,...E]=D.split("?");return(0,G.zd)(E.join("?"))}const hh=class wm{constructor(){this._redirectPersistence=Fo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Lt,this._overrideRedirectResult=tr}_initialize(v){var E=this;return(0,c.Z)(function*(){const I=v._key();let F=E.eventManagers.get(I);return F||(F=new Cl(v),E.eventManagers.set(I,F),E.attachCallbackListeners(v,F)),F})()}_openPopup(v){Ue(v,"operation-not-supported-in-this-environment")}_openRedirect(v,E,I,F){var H=this;return(0,c.Z)(function*(){!function Rf(D){var v,E,I,F,H,ae,Ne,ct,It,dn;const qt=bi();ee("function"==typeof(null===(v=qt?.universalLinks)||void 0===v?void 0:v.subscribe),D,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(typeof(null===(E=qt?.BuildInfo)||void 0===E?void 0:E.packageName)<"u",D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee("function"==typeof(null===(H=null===(F=null===(I=qt?.cordova)||void 0===I?void 0:I.plugins)||void 0===F?void 0:F.browsertab)||void 0===H?void 0:H.openUrl),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(ct=null===(Ne=null===(ae=qt?.cordova)||void 0===ae?void 0:ae.plugins)||void 0===Ne?void 0:Ne.browsertab)||void 0===ct?void 0:ct.isAvailable),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(dn=null===(It=qt?.cordova)||void 0===It?void 0:It.InAppBrowser)||void 0===dn?void 0:dn.open),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(v);const ae=yield H._initialize(v);yield ae.initialized(),ae.resetRedirect(),function $a(){Vo.clear()}(),yield H._originValidation(v);const Ne=function Ri(D,v,E=null){return{type:v,eventId:E,urlResponse:null,sessionId:dh(),postBody:null,tenantId:D.tenantId,error:$e(D,"no-auth-event")}}(v,I,F);yield function Eo(D,v){return ja()._set(Ps(D),v)}(v,Ne);const ct=yield function Mf(D,v,E){return gc.apply(this,arguments)}(v,Ne,E),It=yield function Ha(D){const{cordova:v}=bi();return new Promise(E=>{v.plugins.browsertab.isAvailable(I=>{let F=null;I?v.plugins.browsertab.openUrl(D):F=v.InAppBrowser.open(D,function Io(D=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}()?"_blank":"_system","location=yes"),E(F)})})}(ct);return function _c(D,v,E){return $o.apply(this,arguments)}(v,ae,It)})()}_isIframeWebStorageSupported(v,E){throw new Error("Method not implemented.")}_originValidation(v){const E=v._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function mc(D){return Rs.apply(this,arguments)}(v)),this.originValidationPromises[E]}attachCallbackListeners(v,E){const{universalLinks:I,handleOpenURL:F,BuildInfo:H}=bi(),ae=setTimeout((0,c.Z)(function*(){yield Dl(v),E.onEvent(vc())}),500),Ne=function(){var dn=(0,c.Z)(function*(qt){clearTimeout(ae);const ui=yield Dl(v);let Qs=null;ui&&qt?.url&&(Qs=function jp(D,v){var E,I;const F=function yc(D){const v=uu(D),E=v.link?decodeURIComponent(v.link):void 0,I=uu(E).link,F=v.deep_link_id?decodeURIComponent(v.deep_link_id):void 0;return uu(F).link||F||I||E||D}(v);if(F.includes("/__/auth/callback")){const H=uu(F),ae=H.firebaseError?function ma(D){try{return JSON.parse(D)}catch{return null}}(decodeURIComponent(H.firebaseError)):null,Ne=null===(I=null===(E=ae?.code)||void 0===E?void 0:E.split("auth/"))||void 0===I?void 0:I[1],ct=Ne?$e(Ne):null;return ct?{type:D.type,eventId:D.eventId,tenantId:D.tenantId,error:ct,urlResponse:null,sessionId:null,postBody:null}:{type:D.type,eventId:D.eventId,tenantId:D.tenantId,sessionId:D.sessionId,urlResponse:F,postBody:null}}return null}(ui,qt.url)),E.onEvent(Qs||vc())});return function(ui){return dn.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,Ne);const ct=F,It=`${H.packageName.toLowerCase()}://`;bi().handleOpenURL=function(){var dn=(0,c.Z)(function*(qt){if(qt.toLowerCase().startsWith(It)&&Ne({url:qt}),"function"==typeof ct)try{ct(qt)}catch(ui){console.error(ui)}});return function(qt){return dn.apply(this,arguments)}}()}};function vc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:$e("no-auth-event")}}function Sl(){var D;return(null===(D=self?.location)||void 0===D?void 0:D.protocol)||null}function uy(D=(0,G.z$)()){return!("file:"!==Sl()&&"ionic:"!==Sl()&&"capacitor:"!==Sl()||!D.toLowerCase().match(/iphone|ipad|ipod|android/))}function fh(){try{const D=self.localStorage,v=Ba();if(D)return D.setItem(v,"1"),D.removeItem(v),!function Dm(D=(0,G.z$)()){return function bc(){return(0,G.w1)()&&11===document?.documentMode}()||function y0(D=(0,G.z$)()){return/Edge\/\d+/.test(D)}(D)}()||(0,G.hl)()}catch{return hd()&&(0,G.hl)()}return!1}function hd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ec(){return(function Cm(){return"http:"===Sl()||"https:"===Sl()}()||(0,G.ru)()||uy())&&!function _0(){return(0,G.b$)()||(0,G.UG)()}()&&fh()&&!hd()}function ph(){return uy()&&typeof document<"u"}function gh(){return(gh=(0,c.Z)(function*(){return!!ph()&&new Promise(D=>{const v=setTimeout(()=>{D(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(v),D(!0)})})})).apply(this,arguments)}const Gn={LOCAL:"local",NONE:"none",SESSION:"session"},_a=ee,wc="persistence";function fd(D){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,c.Z)(function*(D){yield D._initializationPromise;const v=du(),E=se(wc,D.config.apiKey,D.name);v&&v.setItem(E,D._getPersistence())})).apply(this,arguments)}function du(){var D;try{return(null===(D=function zp(){return typeof window<"u"?window:null}())||void 0===D?void 0:D.sessionStorage)||null}catch{return null}}const Kp=ee;class Tl{constructor(){this.browserResolver=De(vs),this.cordovaResolver=De(hh),this.underlyingResolver=null,this._redirectPersistence=Fo,this._completeRedirectFn=Lt,this._overrideRedirectResult=tr}_initialize(v){var E=this;return(0,c.Z)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._initialize(v)})()}_openPopup(v,E,I,F){var H=this;return(0,c.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._openPopup(v,E,I,F)})()}_openRedirect(v,E,I,F){var H=this;return(0,c.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._openRedirect(v,E,I,F)})()}_isIframeWebStorageSupported(v,E){this.assertedUnderlyingResolver._isIframeWebStorageSupported(v,E)}_originValidation(v){return this.assertedUnderlyingResolver._originValidation(v)}get _shouldInitProactively(){return ph()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Kp(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var v=this;return(0,c.Z)(function*(){if(v.underlyingResolver)return;const E=yield function xn(){return gh.apply(this,arguments)}();v.underlyingResolver=E?v.cordovaResolver:v.browserResolver})()}}function mh(D){return D.unwrap()}function Pf(D){return Tm(D)}function Tm(D){const{_tokenResponse:v}=D instanceof G.ZR?D.customData:D;if(!v)return null;if(!(D instanceof G.ZR)&&"temporaryProof"in v&&"phoneNumber"in v)return lc.credentialFromResult(D);const E=v.providerId;if(!E||"password"===E)return null;let I;switch(E){case"google.com":I=be;break;case"facebook.com":I=Lu;break;case"github.com":I=zc;break;case"twitter.com":I=gf;break;default:const{oauthIdToken:F,oauthAccessToken:H,oauthTokenSecret:ae,pendingToken:Ne,nonce:ct}=v;return H||ae||F||Ne?Ne?E.startsWith("saml.")?Bu._create(E,Ne):$r._fromParams({providerId:E,signInMethod:E,pendingToken:Ne,idToken:F,accessToken:H}):new Ma(E).credential({idToken:F,accessToken:H,rawNonce:ct}):null}return D instanceof G.ZR?I.credentialFromError(D):I.credentialFromResult(D)}function Os(D,v){return v.catch(E=>{throw E instanceof G.ZR&&function hu(D,v){var E;const I=null===(E=v.customData)||void 0===E?void 0:E._tokenResponse;if("auth/multi-factor-auth-required"===v?.code)v.resolver=new Of(D,function Ai(D,v){var E;const I=(0,G.m9)(D),F=v;return ee(v.customData.operationType,I,"argument-error"),ee(null===(E=F.customData._serverResponse)||void 0===E?void 0:E.mfaPendingCredential,I,"argument-error"),Zu._fromError(I,F)}(D,v));else if(I){const F=Tm(v),H=v;F&&(H.credential=F,H.tenantId=I.tenantId||void 0,H.email=I.email||void 0,H.phoneNumber=I.phoneNumber||void 0)}}(D,E),E}).then(E=>{const F=E.user;return{operationType:E.operationType,credential:Pf(E),additionalUserInfo:aa(E),user:Js.getOrCreate(F)}})}function fu(D,v){return _h.apply(this,arguments)}function _h(){return(_h=(0,c.Z)(function*(D,v){const E=yield v;return{verificationId:E.verificationId,confirm:I=>Os(D,E.confirm(I))}})).apply(this,arguments)}class Of{constructor(v,E){this.resolver=E,this.auth=function Zp(D){return D.wrapped()}(v)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(v){return Os(mh(this.auth),this.resolver.resolveSignIn(v))}}class Js{constructor(v){this._delegate=v,this.multiFactor=function Yu(D){const v=(0,G.m9)(D);return zi.has(v)||zi.set(v,La._fromUser(v)),zi.get(v)}(v)}static getOrCreate(v){return Js.USER_MAP.has(v)||Js.USER_MAP.set(v,new Js(v)),Js.USER_MAP.get(v)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(v){return this._delegate.getIdTokenResult(v)}getIdToken(v){return this._delegate.getIdToken(v)}linkAndRetrieveDataWithCredential(v){return this.linkWithCredential(v)}linkWithCredential(v){var E=this;return(0,c.Z)(function*(){return Os(E.auth,Rr(E._delegate,v))})()}linkWithPhoneNumber(v,E){var I=this;return(0,c.Z)(function*(){return fu(I.auth,function Ki(D,v,E){return Xd.apply(this,arguments)}(I._delegate,v,E))})()}linkWithPopup(v){var E=this;return(0,c.Z)(function*(){return Os(E.auth,function nh(D,v,E){return cn.apply(this,arguments)}(E._delegate,v,Tl))})()}linkWithRedirect(v){var E=this;return(0,c.Z)(function*(){return yield fd(Ln(E.auth)),function oe(D,v,E){return function _e(D,v,E){return We.apply(this,arguments)}(D,v,E)}(E._delegate,v,Tl)})()}reauthenticateAndRetrieveDataWithCredential(v){return this.reauthenticateWithCredential(v)}reauthenticateWithCredential(v){var E=this;return(0,c.Z)(function*(){return Os(E.auth,cl(E._delegate,v))})()}reauthenticateWithPhoneNumber(v,E){return fu(this.auth,function Op(D,v,E){return _l.apply(this,arguments)}(this._delegate,v,E))}reauthenticateWithPopup(v){return Os(this.auth,function iu(D,v,E){return dc.apply(this,arguments)}(this._delegate,v,Tl))}reauthenticateWithRedirect(v){var E=this;return(0,c.Z)(function*(){return yield fd(Ln(E.auth)),function O(D,v,E){return function V(D,v,E){return Y.apply(this,arguments)}(D,v,E)}(E._delegate,v,Tl)})()}sendEmailVerification(v){return function zu(D,v){return Wu.apply(this,arguments)}(this._delegate,v)}unlink(v){var E=this;return(0,c.Z)(function*(){return yield function pe(D,v){return Z.apply(this,arguments)}(E._delegate,v),E})()}updateEmail(v){return function Np(D,v){return yf((0,G.m9)(D),v,null)}(this._delegate,v)}updatePassword(v){return function _f(D,v){return yf((0,G.m9)(D),null,v)}(this._delegate,v)}updatePhoneNumber(v){return function ac(D,v){return Cf.apply(this,arguments)}(this._delegate,v)}updateProfile(v){return function Po(D,v){return Ws.apply(this,arguments)}(this._delegate,v)}verifyBeforeUpdateEmail(v,E){return function oa(D,v,E){return ur.apply(this,arguments)}(this._delegate,v,E)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Js.USER_MAP=new WeakMap;const pu=ee;let pd=(()=>{class D{constructor(E,I){if(this.app=E,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:F}=E.options;pu(F,"invalid-api-key",{appName:E.name}),pu(F,"invalid-api-key",{appName:E.name});const H=typeof window<"u"?Tl:void 0;this._delegate=I.initialize({options:{persistence:Im(F,E.name),popupRedirectResolver:H}}),this._delegate._updateErrorMap(Xe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Js.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(E){this._delegate.languageCode=E}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(E){this._delegate.tenantId=E}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(E,I){!function Ou(D,v,E){const I=Ln(D);ee(I._canInitEmulator,I,"emulator-config-failed"),ee(/^https?:\/\//.test(v),I,"invalid-emulator-scheme");const F=!!E?.disableWarnings,H=xo(v),{host:ae,port:Ne}=function Qo(D){const v=xo(D),E=/(\/\/)?([^?#/]+)/.exec(D.substr(v.length));if(!E)return{host:"",port:null};const I=E[2].split("@").pop()||"",F=/^(\[[^\]]+\])(:|$)/.exec(I);if(F){const H=F[1];return{host:H,port:Bn(I.substr(H.length+1))}}{const[H,ae]=I.split(":");return{host:H,port:Bn(ae)}}}(v);I.config.emulator={url:`${H}//${ae}${null===Ne?"":`:${Ne}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:ae,port:Ne,protocol:H.replace(":",""),options:Object.freeze({disableWarnings:F})}),F||function Kr(){function D(){const v=document.createElement("p"),E=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}(this._delegate,E,I)}applyActionCode(E){return function cs(D,v){return Gu.apply(this,arguments)}(this._delegate,E)}checkActionCode(E){return sa(this._delegate,E)}confirmPasswordReset(E,I){return function jl(D,v,E){return kt.apply(this,arguments)}(this._delegate,E,I)}createUserWithEmailAndPassword(E,I){var F=this;return(0,c.Z)(function*(){return Os(F._delegate,function lr(D,v,E){return qd.apply(this,arguments)}(F._delegate,E,I))})()}fetchProvidersForEmail(E){return this.fetchSignInMethodsForEmail(E)}fetchSignInMethodsForEmail(E){return function dl(D,v){return ka.apply(this,arguments)}(this._delegate,E)}isSignInWithEmailLink(E){return function mf(D,v){return"EMAIL_SIGNIN"===yn.parseLink(v)?.operation}(0,E)}getRedirectResult(){var E=this;return(0,c.Z)(function*(){pu(Ec(),E._delegate,"operation-not-supported-in-this-environment");const I=yield function Mt(D,v){return Bt.apply(this,arguments)}(E._delegate,Tl);return I?Os(E._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(E){!function Ys(D,v){Ln(D)._logFramework(v)}(this._delegate,E)}onAuthStateChanged(E,I,F){const{next:H,error:ae,complete:Ne}=yh(E,I,F);return this._delegate.onAuthStateChanged(H,ae,Ne)}onIdTokenChanged(E,I,F){const{next:H,error:ae,complete:Ne}=yh(E,I,F);return this._delegate.onIdTokenChanged(H,ae,Ne)}sendSignInLinkToEmail(E,I){return function Vn(D,v,E){return zd.apply(this,arguments)}(this._delegate,E,I)}sendPasswordResetEmail(E,I){return function Ro(D,v,E){return ju.apply(this,arguments)}(this._delegate,E,I||void 0)}setPersistence(E){var I=this;return(0,c.Z)(function*(){let F;switch(function Cc(D,v){_a(Object.values(Gn).includes(v),D,"invalid-persistence-type"),(0,G.b$)()?_a(v!==Gn.SESSION,D,"unsupported-persistence-type"):(0,G.UG)()?_a(v===Gn.NONE,D,"unsupported-persistence-type"):hd()?_a(v===Gn.NONE||v===Gn.LOCAL&&(0,G.hl)(),D,"unsupported-persistence-type"):_a(v===Gn.NONE||fh(),D,"unsupported-persistence-type")}(I._delegate,E),E){case Gn.SESSION:F=Fo;break;case Gn.LOCAL:F=(yield De(As)._isAvailable())?As:Zd;break;case Gn.NONE:F=J;break;default:return Ue("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(F)})()}signInAndRetrieveDataWithCredential(E){return this.signInWithCredential(E)}signInAnonymously(){return Os(this._delegate,function Yc(D){return xp.apply(this,arguments)}(this._delegate))}signInWithCredential(E){return Os(this._delegate,Mr(this._delegate,E))}signInWithCustomToken(E){return Os(this._delegate,function ia(D,v){return ii.apply(this,arguments)}(this._delegate,E))}signInWithEmailAndPassword(E,I){return Os(this._delegate,function qe(D,v,E){return Mr((0,G.m9)(D),Hd.credential(v,E))}(this._delegate,E,I))}signInWithEmailLink(E,I){return Os(this._delegate,function vi(D,v,E){return Gl.apply(this,arguments)}(this._delegate,E,I))}signInWithPhoneNumber(E,I){return fu(this._delegate,function qn(D,v,E){return gs.apply(this,arguments)}(this._delegate,E,I))}signInWithPopup(E){var I=this;return(0,c.Z)(function*(){return pu(Ec(),I._delegate,"operation-not-supported-in-this-environment"),Os(I._delegate,function ru(D,v,E){return cc.apply(this,arguments)}(I._delegate,E,Tl))})()}signInWithRedirect(E){var I=this;return(0,c.Z)(function*(){return pu(Ec(),I._delegate,"operation-not-supported-in-this-environment"),yield fd(I._delegate),function rh(D,v,E){return function pa(D,v,E){return R.apply(this,arguments)}(D,v,E)}(I._delegate,E,Tl)})()}updateCurrentUser(E){return this._delegate.updateCurrentUser(E)}verifyPasswordResetCode(E){return function po(D,v){return qi.apply(this,arguments)}(this._delegate,E)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return D.Persistence=Gn,D})();function yh(D,v,E){let I=D;"function"!=typeof D&&({next:I,error:v,complete:E}=D);const F=I;return{next:ae=>F(ae&&Js.getOrCreate(ae)),error:v,complete:E}}function Im(D,v){const E=function Sm(D,v){const E=du();if(!E)return[];const I=se(wc,D,v);switch(E.getItem(I)){case Gn.NONE:return[J];case Gn.LOCAL:return[As,Fo];case Gn.SESSION:return[Fo];default:return[]}}(D,v);if(typeof self<"u"&&!E.includes(As)&&E.push(As),typeof window<"u")for(const I of[Zd,Fo])E.includes(I)||E.push(I);return E.includes(J)||E.push(J),E}class vh{constructor(){this.providerId="phone",this._delegate=new lc(mh(me.Z.auth()))}static credential(v,E){return lc.credential(v,E)}verifyPhoneNumber(v,E){return this._delegate.verifyPhoneNumber(v,E)}unwrap(){return this._delegate}}vh.PHONE_SIGN_IN_METHOD=lc.PHONE_SIGN_IN_METHOD,vh.PROVIDER_ID=lc.PROVIDER_ID;const gu=ee;class kf{constructor(v,E,I=me.Z.app()){var F;gu(null===(F=I.options)||void 0===F?void 0:F.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new oc(v,E,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function xm(D){D.INTERNAL.registerComponent(new Me.wA("auth-compat",v=>{const E=v.getProvider("app-compat").getImmediate(),I=v.getProvider("auth");return new pd(E,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Hd,FacebookAuthProvider:Lu,GithubAuthProvider:zc,GoogleAuthProvider:be,OAuthProvider:Ma,SAMLAuthProvider:Mo,PhoneAuthProvider:vh,PhoneMultiFactorGenerator:Zi,RecaptchaVerifier:kf,TwitterAuthProvider:gf,Auth:pd,AuthCredential:Br,Error:G.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),D.registerVersion("@firebase/auth-compat","0.3.0")}(me.Z)},8766:(_t,Fe,q)=>{q.d(Fe,{Lj:()=>Ue,X3:()=>Oe});var c=q(5861);let G,Ce;const Me=new WeakMap,Ie=new WeakMap,Ae=new WeakMap,X=new WeakMap,te=new WeakMap;let ze={get(ee,Be,ie){if(ee instanceof IDBTransaction){if("done"===Be)return Ie.get(ee);if("objectStoreNames"===Be)return ee.objectStoreNames||Ae.get(ee);if("store"===Be)return ie.objectStoreNames[1]?void 0:ie.objectStore(ie.objectStoreNames[0])}return je(ee[Be])},set:(ee,Be,ie)=>(ee[Be]=ie,!0),has:(ee,Be)=>ee instanceof IDBTransaction&&("done"===Be||"store"===Be)||Be in ee};function xe(ee){return"function"==typeof ee?function Ct(ee){return ee!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ee)?function(...Be){return ee.apply(Ge(this),Be),je(Me.get(this))}:function(...Be){return je(ee.apply(Ge(this),Be))}:function(Be,...ie){const fe=ee.call(Ge(this),Be,...ie);return Ae.set(fe,Be.sort?Be.sort():[Be]),je(fe)}}(ee):(ee instanceof IDBTransaction&&function ot(ee){if(Ie.has(ee))return;const Be=new Promise((ie,fe)=>{const De=()=>{ee.removeEventListener("complete",we),ee.removeEventListener("error",at),ee.removeEventListener("abort",at)},we=()=>{ie(),De()},at=()=>{fe(ee.error||new DOMException("AbortError","AbortError")),De()};ee.addEventListener("complete",we),ee.addEventListener("error",at),ee.addEventListener("abort",at)});Ie.set(ee,Be)}(ee),((ee,Be)=>Be.some(ie=>ee instanceof ie))(ee,function de(){return G||(G=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ee,ze):ee)}function je(ee){if(ee instanceof IDBRequest)return function ce(ee){const Be=new Promise((ie,fe)=>{const De=()=>{ee.removeEventListener("success",we),ee.removeEventListener("error",at)},we=()=>{ie(je(ee.result)),De()},at=()=>{fe(ee.error),De()};ee.addEventListener("success",we),ee.addEventListener("error",at)});return Be.then(ie=>{ie instanceof IDBCursor&&Me.set(ie,ee)}).catch(()=>{}),te.set(Be,ee),Be}(ee);if(X.has(ee))return X.get(ee);const Be=xe(ee);return Be!==ee&&(X.set(ee,Be),te.set(Be,ee)),Be}const Ge=ee=>te.get(ee);function Oe(ee,Be,{blocked:ie,upgrade:fe,blocking:De,terminated:we}={}){const at=indexedDB.open(ee,Be),tt=je(at);return fe&&at.addEventListener("upgradeneeded",Gt=>{fe(je(at.result),Gt.oldVersion,Gt.newVersion,je(at.transaction))}),ie&&at.addEventListener("blocked",()=>ie()),tt.then(Gt=>{we&&Gt.addEventListener("close",()=>we()),De&&Gt.addEventListener("versionchange",()=>De())}).catch(()=>{}),tt}function Ue(ee,{blocked:Be}={}){const ie=indexedDB.deleteDatabase(ee);return Be&&ie.addEventListener("blocked",()=>Be()),je(ie).then(()=>{})}const $e=["get","getKey","getAll","getAllKeys","count"],Ze=["put","add","delete","clear"],ut=new Map;function et(ee,Be){if(!(ee instanceof IDBDatabase)||Be in ee||"string"!=typeof Be)return;if(ut.get(Be))return ut.get(Be);const ie=Be.replace(/FromIndex$/,""),fe=Be!==ie,De=Ze.includes(ie);if(!(ie in(fe?IDBIndex:IDBObjectStore).prototype)||!De&&!$e.includes(ie))return;const we=function(){var at=(0,c.Z)(function*(tt,...Gt){const Fn=this.transaction(tt,De?"readwrite":"readonly");let zn=Fn.store;return fe&&(zn=zn.index(Gt.shift())),(yield Promise.all([zn[ie](...Gt),De&&Fn.done]))[0]});return function(Gt){return at.apply(this,arguments)}}();return ut.set(Be,we),we}!function Xe(ee){ze=ee(ze)}(ee=>({...ee,get:(Be,ie,fe)=>et(Be,ie)||ee.get(Be,ie,fe),has:(Be,ie)=>!!et(Be,ie)||ee.has(Be,ie)}))},5861:(_t,Fe,q)=>{function c(G,Ce,de,Ee,Me,Ie,Ae){try{var X=G[Ie](Ae),te=X.value}catch(ce){return void de(ce)}X.done?Ce(te):Promise.resolve(te).then(Ee,Me)}function me(G){return function(){var Ce=this,de=arguments;return new Promise(function(Ee,Me){var Ie=G.apply(Ce,de);function Ae(te){c(Ie,Ee,Me,Ae,X,"next",te)}function X(te){c(Ie,Ee,Me,Ae,X,"throw",te)}Ae(void 0)})}}q.d(Fe,{Z:()=>me})}},_t=>{var Fe=c=>_t(_t.s=c);Fe(310),Fe(9808)}]);